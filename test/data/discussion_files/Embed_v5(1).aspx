/*file name: /js/jquery.js */
/* jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/
(function(e,t){var n,r,i=typeof t,o=e.document,a=e.location,s=e.jQuery,u=e.$,l={},c=[],p="1.9.1",f=c.concat,d=c.push,h=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,b=function(e,t){return new b.fn.init(e,t,r)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^[\],:{}\s]*$/,E=/(?:^|:|,)(?:\s*\[)+/g,S=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,j=/^-ms-/,D=/-([\da-z])/gi,L=function(e,t){return t.toUpperCase()},H=function(e){(o.addEventListener||"load"===e.type||"complete"===o.readyState)&&(q(),b.ready())},q=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(o.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))};b.fn=b.prototype={jquery:p,constructor:b,init:function(e,n,r){var i,a;if(!e){return this}if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n){return !n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}if(i[1]){if(n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0)),C.test(i[1])&&b.isPlainObject(n)){for(i in n){b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i])}}return this}if(a=o.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2]){return r.find(e)}this.length=1,this[0]=a}return this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||b.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++){if(null!=(o=arguments[u])){for(i in o){e=s[i],r=o[i],s!==r&&(c&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,a=e&&b.isArray(e)?e:[]):a=e&&b.isPlainObject(e)?e:{},s[i]=b.extend(c,a,r)):r!==t&&(s[i]=r))}}}return s},b.extend({noConflict:function(t){return e.$===b&&(e.$=u),t&&e.jQuery===b&&(e.jQuery=s),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?!--b.readyWait:!b.isReady){if(!o.body){return setTimeout(b.ready)}b.isReady=!0,e!==!0&&--b.readyWait>0||(n.resolveWith(o,[b]),b.fn.trigger&&b(o).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray||function(e){return"array"===b.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==b.type(e)||e.nodeType||b.isWindow(e)){return !1}try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf")){return !1}}catch(n){return !1}var r;for(r in e){}return r===t||y.call(e,r)},isEmptyObject:function(e){var t;for(t in e){return !1}return !0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e){return null}"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=b.trim(n),n&&k.test(n.replace(S,"@").replace(A,"]").replace(E,"")))?Function("return "+n)():(b.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n){return null}try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(j,"ms-").replace(D,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++){if(r=t.apply(e[i],n),r===!1){break}}}else{for(i in e){if(r=t.apply(e[i],n),r===!1){break}}}}else{if(a){for(;o>i;i++){if(r=t.call(e[i],i,e[i]),r===!1){break}}}else{for(i in e){if(r=t.call(e[i],i,e[i]),r===!1){break}}}}return e},trim:v&&!v.call("\ufeff\u00a0")?function(e){return null==e?"":v.call(e)}:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?b.merge(n,"string"==typeof e?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(g){return g.call(t,e,n)}for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++){if(n in t&&t[n]===e){return n}}}return -1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r){for(;r>o;o++){e[i++]=n[o]}}else{while(n[o]!==t){e[i++]=n[o++]}}return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++){r=!!t(e[o],o),n!==r&&i.push(e[o])}return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a){for(;o>i;i++){r=t(e[i],i,n),null!=r&&(s[s.length]=r)}}else{for(i in e){r=t(e[i],i,n),null!=r&&(s[s.length]=r)}}return f.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),b.isFunction(e)?(r=h.call(arguments,2),i=function(){return e.apply(n||this,r.concat(h.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===b.type(r)){o=!0;for(u in r){b.access(e,n,u,r[u],!0,a,s)}}else{if(i!==t&&(o=!0,b.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n)){for(;l>u;u++){n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)))}}}return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n){if(n=b.Deferred(),"complete"===o.readyState){setTimeout(b.ready)}else{if(o.addEventListener){o.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1)}else{o.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var r=!1;try{r=null==e.frameElement&&o.documentElement}catch(i){}r&&r.doScroll&&function a(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(a,50)}q(),b.ready()}}()}}}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=b(o);var _={};function F(e){var t=_[e]={};return b.each(e.match(w)||[],function(e,n){t[n]=!0}),t}b.Callbacks=function(e){e="string"==typeof e?_[e]||F(e):b.extend({},e);var n,r,i,o,a,s,u=[],l=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=u.length,n=!0;u&&o>a;a++){if(u[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}}n=!1,u&&(l?l.length&&c(l.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this},remove:function(){return u&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,u,r))>-1){u.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}}),this},has:function(e){return e?b.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=r=t,this},disabled:function(){return !u},lock:function(){return l=t,r||p.disable(),this},locked:function(){return !l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!l||(n?l.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return !!i}};return p},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=h.call(arguments),r=n.length,i=1!==r||e&&b.isFunction(e.promise)?r:0,o=1===i?e:b.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?h.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1){for(s=Array(r),u=Array(r),l=Array(r);r>t;t++){n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i}}return i||o.resolveWith(l,n),o.promise()}}),b.support=function(){var t,n,r,a,s,u,l,c,p,f,d=o.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!r||!n.length){return{}}s=o.createElement("select"),l=s.appendChild(o.createElement("option")),a=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!a.value,optSelected:l.selected,enctype:!!o.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==o.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===o.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!l.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}a=o.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),u=o.createDocumentFragment(),u.appendChild(a),t.appendChecked=a.checked,t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in {submit:!0,change:!0,focusin:!0}){d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1}return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,b(function(){var n,r,a,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=o.getElementsByTagName("body")[0];u&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=d.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=p&&0===a[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(o.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(u.style.zoom=1)),u.removeChild(n),n=d=a=r=null)}),n=s=u=l=r=a=null,t}();var O=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function P(e,n,r,i){if(b.acceptData(e)){var o,a,s=b.expando,u="string"==typeof n,l=e.nodeType,p=l?b.cache:e,f=l?e[s]:e[s]&&s;if(f&&p[f]&&(i||p[f].data)||!u||r!==t){return f||(l?e[s]=f=c.pop()||b.guid++:f=s),p[f]||(p[f]={},l||(p[f].toJSON=b.noop)),("object"==typeof n||"function"==typeof n)&&(i?p[f]=b.extend(p[f],n):p[f].data=b.extend(p[f].data,n)),o=p[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[b.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[b.camelCase(n)])):a=o,a}}}function R(e,t,n){if(b.acceptData(e)){var r,i,o,a=e.nodeType,s=a?b.cache:e,u=a?e[b.expando]:b.expando;if(s[u]){if(t&&(o=n?s[u]:s[u].data)){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in o?t=[t]:(t=b.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++){delete o[t[r]]}if(!(n?$:b.isEmptyObject)(o)){return}}(n||(delete s[u].data,$(s[u])))&&(a?b.cleanData([e],!0):b.support.deleteExpando||s!=s.window?delete s[u]:s[u]=null)}}}b.extend({cache:{},expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!$(e)},data:function(e,t,n){return P(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return P(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType){return !1}var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return !t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,o=this[0],a=0,s=null;if(e===t){if(this.length&&(s=b.data(o),1===o.nodeType&&!b._data(o,"parsedAttrs"))){for(r=o.attributes;r.length>a;a++){i=r[a].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),W(o,i,s[i]))}b._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){b.data(this,e)}):b.access(this,function(n){return n===t?o?W(o,e,b.data(o,e)):null:(this.each(function(){b.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function W(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(B,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:O.test(r)?b.parseJSON(r):r}catch(o){}b.data(e,n,r)}else{r=t}}return r}function $(e){var t;for(t in e){if(("data"!==t||!b.isEmptyObject(e[t]))&&"toJSON"!==t){return !1}}return !0}b.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=b._data(e,n),r&&(!i||b.isArray(r)?i=b._data(e,n,b.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t),a=function(){b.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=b.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--){r=b._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u))}return u(),o.promise(n)}});var I,z,X=/[\t\r\n]/g,U=/\r/g,V=/^(?:input|select|textarea|button|object)$/i,Y=/^(?:a|area)$/i,J=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,G=/^(?:checked|selected)$/i,Q=b.support.getSetAttribute,K=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(b.isFunction(e)){return this.each(function(t){b(this).addClass(e.call(this,t,this.className))})}if(u){for(t=(e||"").match(w)||[];s>a;a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){o=0;while(i=t[o++]){0>r.indexOf(" "+i+" ")&&(r+=i+" ")}n.className=b.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e)){return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))})}if(u){for(t=(e||"").match(w)||[];s>a;a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){o=0;while(i=t[o++]){while(r.indexOf(" "+i+" ")>=0){r=r.replace(" "+i+" "," ")}}n.className=e?b.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,a=0,s=b(this),u=t,l=e.match(w)||[];while(o=l[a++]){u=r?u:!s.hasClass(o),s[u?"addClass":"removeClass"](o)}}else{(n===i||"boolean"===n)&&(this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||"")}})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++){if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0){return !0}}return !1},val:function(e){var n,r,i,o=this[0];if(arguments.length){return i=b.isFunction(e),this.each(function(n){var o,a=b(this);1===this.nodeType&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":b.isArray(o)&&(o=b.map(o,function(e){return null==e?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],r&&"set" in r&&r.set(this,o,"value")!==t||(this.value=o))})}if(o){return r=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()],r&&"get" in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(U,""):null==n?"":n)}}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return !t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;for(;s>u;u++){if(n=r[u],!(!n.selected&&u!==i||(b.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&b.nodeName(n.parentNode,"optgroup"))){if(t=b(n).val(),o){return t}a.push(t)}}return a},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u){return typeof e.getAttribute===i?b.prop(e,n,r):(a=1!==u||!b.isXMLDoc(e),a&&(n=n.toLowerCase(),o=b.attrHooks[n]||(J.test(n)?z:I)),r===t?o&&a&&"get" in o&&null!==(s=o.get(e,n))?s:(typeof e.getAttribute!==i&&(s=e.getAttribute(n)),null==s?t:s):null!==r?o&&a&&"set" in o&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r):(b.removeAttr(e,n),t))}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType){while(n=o[i++]){r=b.propFix[n]||n,J.test(n)?!Q&&G.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(Q?n:r)}}},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s){return a=1!==s||!b.isXMLDoc(e),a&&(n=b.propFix[n]||n,o=b.propHooks[n]),r!==t?o&&"set" in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get" in o&&null!==(i=o.get(e,n))?i:e[n]}},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):V.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:t}}}}),z={get:function(e,n){var r=b.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?K&&Q?null!=i:G.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}},K&&Q||(b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return b.nodeName(e,"input")?(e.defaultValue=n,t):I&&I.set(e,n,r)}}),Q||(I=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:I.get,set:function(e,t,n){I.set(e,""===t?!1:t,n)}},b.each(["width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,n){return b.isArray(n)?e.checked=b.inArray(b(e).val(),n)>=0:t}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return !0}function ot(){return !1}b.event={global:{},add:function(e,n,r,o,a){var s,u,l,c,p,f,d,h,g,m,y,v=b._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=b.guid++),(u=v.events)||(u=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof b===i||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(w)||[""],l=n.length;while(l--){s=rt.exec(n[l])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),p=b.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=b.event.special[g]||{},d=b.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&b.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=u[g])||(h=u[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),b.event.global[g]=!0}e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,p,f,d,h,g,m=b.hasData(e)&&b._data(e);if(m&&(c=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--){if(s=rt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=b.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;while(o--){a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a))}u&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||b.removeEvent(e,d,m.handle),delete c[d])}else{for(d in c){b.event.remove(e,d+t[l],n,r,!0)}}}b.isEmptyObject(c)&&(delete m.handle,b._removeData(e,"events"))}},trigger:function(n,r,i,a){var s,u,l,c,p,f,d,h=[i||o],g=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];if(l=f=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+b.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),u=0>g.indexOf(":")&&"on"+g,n=n[b.expando]?n:new b.Event(g,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:b.makeArray(r,[n]),p=b.event.special[g]||{},a||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!a&&!p.noBubble&&!b.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(l=l.parentNode);l;l=l.parentNode){h.push(l),f=l}f===(i.ownerDocument||o)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((l=h[d++])&&!n.isPropagationStopped()){n.type=d>1?c:p.bindType||g,s=(b._data(l,"events")||{})[n.type]&&b._data(l,"handle"),s&&s.apply(l,r),s=u&&l[u],s&&b.acceptData(l)&&s.apply&&s.apply(l,r)===!1&&n.preventDefault()}if(n.type=g,!(a||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===g&&b.nodeName(i,"a")||!b.acceptData(i)||!u||!i[g]||b.isWindow(i))){f=i[u],f&&(i[u]=null),b.event.triggered=g;try{i[g]()}catch(v){}b.event.triggered=t,f&&(i[u]=f)}return n.result}},dispatch:function(e){e=b.event.fix(e);var n,r,i,o,a,s=[],u=h.call(arguments),l=(b._data(this,"events")||{})[e.type]||[],c=b.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=b.event.handlers.call(this,e,l),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped()){(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type)){for(;l!=this;l=l.parentNode||this){if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],a=0;u>a;a++){i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?b(r,this).index(l)>=0:b.find(r,this,null,[l]).length),o[r]&&o.push(i)}o.length&&s.push({elem:l,handlers:o})}}}return n.length>u&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[b.expando]){return e}var t,n,r,i=e.type,a=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new b.Event(a),t=r.length;while(t--){n=r[t],e[n]=a[n]}return e.target||(e.target=a.srcElement||o),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,s=n.button,u=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||o,a=i.documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return b.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==o.activeElement&&this.focus){try{return this.focus(),!1}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){return this===o.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,n){return this instanceof b.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&b.extend(this,n),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0,t):new b.Event(e,n)},b.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!b.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){return b.nodeName(this,"form")?!1:(b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return b.nodeName(this,"form")?!1:(b.event.remove(this,"._submit"),t)}}),b.support.changeBubbles||(b.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(b.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)})),!1):(b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e){this.on(a,n,r,e[a],o)}return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1){i=ot}else{if(!i){return this}}return 1===o&&(s=i,i=function(e){return b().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj){return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if("object"==typeof e){for(o in e){this.off(o,n,e[o])}return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?b.event.trigger(e,n,r,!0):t}}),function(e,t){var n,r,i,o,a,s,u,l,c,p,f,d,h,g,m,y,v,x="sizzle"+-new Date,w=e.document,T={},N=0,C=0,k=it(),E=it(),S=it(),A=typeof t,j=1<<31,D=[],L=D.pop,H=D.push,q=D.slice,M=D.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++){if(this[t]===e){return t}}return -1},_="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=F.replace("w","w#"),B="([*^$|!~]?=)",P="\\["+_+"*("+F+")"+_+"*(?:"+B+_+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)"+_+"*\\]",R=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+P.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+_+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_+"+$","g"),$=RegExp("^"+_+"*,"+_+"*"),I=RegExp("^"+_+"*([\\x20\\t\\r\\n\\f>+~])"+_+"*"),z=RegExp(R),X=RegExp("^"+O+"$"),U={ID:RegExp("^#("+F+")"),CLASS:RegExp("^\\.("+F+")"),NAME:RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:RegExp("^("+F.replace("w","w*")+")"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+R),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_+"*(even|odd|(([+-]|)(\\d*)n|)"+_+"*(?:([+-]|)"+_+"*(\\d+)|))"+_+"*\\)|)","i"),needsContext:RegExp("^"+_+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_+"*((?:-\\d)?\\d*)"+_+"*\\)|)(?=[^-]|$)","i")},V=/[\x20\t\r\n\f]*[+~]/,Y=/^[^{]+\{\s*\[native code/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{q.call(w.documentElement.childNodes,0)[0].nodeType}catch(nt){q=function(e){var t,n=[];while(t=this[e++]){n.push(t)}return n}}function rt(e){return Y.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function ot(e){return e[x]=!0,e}function at(e){var t=p.createElement("div");try{return e(t)}catch(n){return !1}finally{t=null}}function st(e,t,n,r){var i,o,a,s,u,l,f,g,m,v;if((t?t.ownerDocument||t:w)!==p&&c(t),t=t||p,n=n||[],!e||"string"!=typeof e){return n}if(1!==(s=t.nodeType)&&9!==s){return[]}if(!d&&!r){if(i=J.exec(e)){if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode){return n}if(o.id===a){return n.push(o),n}}else{if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&y(t,o)&&o.id===a){return n.push(o),n}}}else{if(i[2]){return H.apply(n,q.call(t.getElementsByTagName(e),0)),n}if((a=i[3])&&T.getByClassName&&t.getElementsByClassName){return H.apply(n,q.call(t.getElementsByClassName(a),0)),n}}}if(T.qsa&&!h.test(e)){if(f=!0,g=x,m=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){l=ft(e),(f=t.getAttribute("id"))?g=f.replace(K,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",u=l.length;while(u--){l[u]=g+dt(l[u])}m=V.test(e)&&t.parentNode||t,v=l.join(",")}if(v){try{return H.apply(n,q.call(m.querySelectorAll(v),0)),n}catch(b){}finally{f||t.removeAttribute("id")}}}}return wt(e.replace(W,"$1"),t,n,r)}a=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},c=st.setDocument=function(e){var n=e?e.ownerDocument||e:w;return n!==p&&9===n.nodeType&&n.documentElement?(p=n,f=n.documentElement,d=a(n),T.tagNameNoComments=at(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.attributes=at(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),T.getByClassName=at(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),T.getByName=at(function(e){e.id=x+0,e.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",f.insertBefore(e,f.firstChild);var t=n.getElementsByName&&n.getElementsByName(x).length===2+n.getElementsByName(x+0).length;return T.getIdNotName=!n.getElementById(x),f.removeChild(e),t}),i.attrHandle=at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},T.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==A&&!d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==A&&!d){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==A&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=T.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++]){1===n.nodeType&&r.push(n)}return r}return o},i.find.NAME=T.getByName&&function(e,n){return typeof n.getElementsByName!==A?n.getElementsByName(name):t},i.find.CLASS=T.getByClassName&&function(e,n){return typeof n.getElementsByClassName===A||d?t:n.getElementsByClassName(e)},g=[],h=[":focus"],(T.qsa=rt(n.querySelectorAll))&&(at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+_+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||h.push(":checked")}),at(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&h.push("[*^$]="+_+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(T.matchesSelector=rt(m=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&at(function(e){T.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",R)}),h=RegExp(h.join("|")),g=RegExp(g.join("|")),y=rt(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return !0}}}return !1},v=f.compareDocumentPosition?function(e,t){var r;return e===t?(u=!0,0):(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===n||y(w,e)?-1:t===n||y(w,t)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t){return u=!0,0}if(!o||!a){return e===n?-1:t===n?1:o?-1:a?1:0}if(o===a){return ut(e,t)}r=e;while(r=r.parentNode){s.unshift(r)}r=t;while(r=r.parentNode){l.unshift(r)}while(s[i]===l[i]){i++}return i?ut(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},u=!1,[0,0].sort(v),T.detectDuplicates=u,p):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Z,"='$1']"),!(!T.matchesSelector||d||g&&g.test(t)||h.test(t))){try{var n=m.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType){return n}}catch(r){}}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},st.attr=function(e,t){var n;return(e.ownerDocument||e)!==p&&c(e),d||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):d||T.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},st.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,n=[],r=1,i=0;if(u=!T.detectDuplicates,e.sort(v),u){for(;t=e[r];r++){t===e[r-1]&&(i=n.push(r))}while(i--){e.splice(n[i],1)}}return e};function ut(e,t){var n=t&&e,r=n&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r){return r}if(n){while(n=n.nextSibling){if(n===t){return -1}}}return e?1:-1}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ot(function(t){return t=+t,ot(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--){n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}})})}o=st.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent){return e.textContent}for(e=e.firstChild;e;e=e.nextSibling){n+=o(e)}}else{if(3===i||4===i){return e.nodeValue}}}else{for(;t=e[r];r++){n+=o(t)}}return n},i=st.selectors={cacheLength:50,createPseudo:ot,match:U,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return U.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&z.test(n)&&(t=ft(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return !0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[e+" "];return t||(t=RegExp("(^|"+_+")"+e+"("+_+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return !!e.parentNode}:function(t,n,u){var l,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){while(g){p=t;while(p=p[g]){if(s?p.nodeName.toLowerCase()===y:1===p.nodeType){return !1}}h=g="only"===e&&!h&&"nextSibling"}return !0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[x]||(m[x]={}),l=c[e]||[],d=l[0]===N&&l[1],f=l[0]===N&&l[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if(1===p.nodeType&&++f&&p===t){c[e]=[N,d,f];break}}}else{if(v&&(l=(t[x]||(t[x]={}))[e])&&l[0]===N){f=l[1]}else{while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[x]||(p[x]={}))[e]=[N,f]),p===t)){break}}}}return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ot(function(e,n){var i,o=r(e,t),a=o.length;while(a--){i=M.call(e,o[a]),e[i]=!(n[i]=o[a])}}):function(e){return r(e,0,n)}):r}},pseudos:{not:ot(function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[x]?ot(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--){(o=a[s])&&(e[s]=!(t[s]=o))}}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ot(function(e){return function(t){return st(e,t).length>0}}),contains:ot(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ot(function(e){return X.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do{if(n=d?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang){return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}}while((t=t.parentNode)&&1===t.nodeType);return !1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType){return !1}}return !0},parent:function(e){return !i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){var n=0;for(;t>n;n+=2){e.push(n)}return e}),odd:pt(function(e,t){var n=1;for(;t>n;n+=2){e.push(n)}return e}),lt:pt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;){e.push(r)}return e}),gt:pt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;){e.push(r)}return e})}};for(n in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){i.pseudos[n]=lt(n)}for(n in {submit:!0,reset:!0}){i.pseudos[n]=ct(n)}function ft(e,t){var n,r,o,a,s,u,l,c=E[e+" "];if(c){return t?0:c.slice(0)}s=e,u=[],l=i.preFilter;while(s){(!n||(r=$.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=I.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length));for(a in i.filter){!(r=U[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length))}if(!n){break}}return t?s.length:s?st.error(e):E(e,u).slice(0)}function dt(e){var t=0,n=e.length,r="";for(;n>t;t++){r+=e[t].value}return r}function ht(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=C++;return t.first?function(t,n,r){while(t=t[i]){if(1===t.nodeType||o){return e(t,n,r)}}}:function(t,n,s){var u,l,c,p=N+" "+a;if(s){while(t=t[i]){if((1===t.nodeType||o)&&e(t,n,s)){return !0}}}else{while(t=t[i]){if(1===t.nodeType||o){if(c=t[x]||(t[x]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r){return u===!0}}else{if(l=c[i]=[p],l[1]=e(t,n,s)||r,l[1]===!0){return !0}}}}}}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--){if(!e[i](t,n,r)){return !1}}return !0}:e[0]}function mt(e,t,n,r,i){var o,a=[],s=0,u=e.length,l=null!=t;for(;u>s;s++){(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s))}return a}function yt(e,t,n,r,i,o){return r&&!r[x]&&(r=yt(r)),i&&!i[x]&&(i=yt(i,o)),ot(function(o,a,s,u){var l,c,p,f=[],d=[],h=a.length,g=o||xt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:mt(g,f,e,s,u),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,u),r){l=mt(y,d),r(l,[],s,u),c=l.length;while(c--){(p=l[c])&&(y[d[c]]=!(m[d[c]]=p))}}if(o){if(i||e){if(i){l=[],c=y.length;while(c--){(p=y[c])&&l.push(m[c]=p)}i(null,y=[],l,u)}c=y.length;while(c--){(p=y[c])&&(l=i?M.call(o,p):f[c])>-1&&(o[l]=!(a[l]=p))}}}else{y=mt(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)}})}function vt(e){var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],u=a?1:0,c=ht(function(e){return e===t},s,!0),p=ht(function(e){return M.call(t,e)>-1},s,!0),f=[function(e,n,r){return !a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>u;u++){if(n=i.relative[e[u].type]){f=[ht(gt(f),n)]}else{if(n=i.filter[e[u].type].apply(null,e[u].matches),n[x]){for(r=++u;o>r;r++){if(i.relative[e[r].type]){break}}return yt(u>1&&gt(f),u>1&&dt(e.slice(0,u-1)).replace(W,"$1"),n,r>u&&vt(e.slice(u,r)),o>r&&vt(e=e.slice(r)),o>r&&dt(e))}f.push(n)}}return gt(f)}function bt(e,t){var n=0,o=t.length>0,a=e.length>0,s=function(s,u,c,f,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,T=l,C=s||a&&i.find.TAG("*",d&&u.parentNode||u),k=N+=null==T?1:Math.random()||0.1;for(w&&(l=u!==p&&u,r=n);null!=(h=C[b]);b++){if(a&&h){g=0;while(m=e[g++]){if(m(h,u,c)){f.push(h);break}}w&&(N=k,r=++n)}o&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,o&&b!==v){g=0;while(m=t[g++]){m(x,y,u,c)}if(s){if(v>0){while(b--){x[b]||y[b]||(y[b]=L.call(f))}}y=mt(y)}H.apply(f,y),w&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(f)}return w&&(N=k,l=T),x};return o?ot(s):s}s=st.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=ft(e)),n=t.length;while(n--){o=vt(t[n]),o[x]?r.push(o):i.push(o)}o=S(e,bt(i,r))}return o};function xt(e,t,n){var r=0,i=t.length;for(;i>r;r++){st(e,t[r],n)}return n}function wt(e,t,n,r){var o,a,u,l,c,p=ft(e);if(!r&&1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!d&&i.relative[a[1].type]){if(t=i.find.ID(u.matches[0].replace(et,tt),t)[0],!t){return n}e=e.slice(a.shift().value.length)}o=U.needsContext.test(e)?0:a.length;while(o--){if(u=a[o],i.relative[l=u.type]){break}if((c=i.find[l])&&(r=c(u.matches[0].replace(et,tt),V.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),e=r.length&&dt(a),!e){return H.apply(n,q.call(r,0)),n}break}}}return s(e,p)(r,t,d,n,V.test(e)),n}i.pseudos.nth=i.pseudos.eq;function Tt(){}i.filters=Tt.prototype=i.pseudos,i.setFilters=new Tt,c(),st.attr=b.attr,b.find=st,b.expr=st.selectors,b.expr[":"]=b.expr.pseudos,b.unique=st.uniqueSort,b.text=st.getText,b.isXMLDoc=st.isXML,b.contains=st.contains}(e);var at=/Until$/,st=/^(?:parents|prev(?:Until|All))/,ut=/^.[^:#\[\.,]*$/,lt=b.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e){return r=this,this.pushStack(b(e).filter(function(){for(t=0;i>t;t++){if(b.contains(r[t],this)){return !0}}}))}for(n=[],t=0;i>t;t++){b.find(e,this[t],n)}return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++){if(b.contains(this,n[t])){return !0}}})},not:function(e){return this.pushStack(ft(this,e,!1))},filter:function(e){return this.pushStack(ft(this,e,!0))},is:function(e){return !!e&&("string"==typeof e?lt.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,o=[],a=lt.test(e)||"string"!=typeof e?b(e,t||this.context):0;for(;i>r;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&11!==n.nodeType){if(a?a.index(n)>-1:b.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}}return this.pushStack(o.length>1?b.unique(o):o)},index:function(e){return e?"string"==typeof e?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack;function pt(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return at.test(e)||(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),i=this.length>1&&!ct[e]?b.unique(i):i,this.length>1&&st.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!b(o).is(r))){1===o.nodeType&&i.push(o),o=o[n]}return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling){1===e.nodeType&&e!==t&&n.push(e)}return n}});function ft(e,t,n){if(t=t||0,b.isFunction(t)){return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n})}if(t.nodeType){return b.grep(e,function(e){return e===t===n})}if("string"==typeof t){var r=b.grep(e,function(e){return 1===e.nodeType});if(ut.test(t)){return b.filter(t,r,!n)}t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement){while(t.length){n.createElement(t.pop())}}return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Nt=/^(?:checkbox|radio)$/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(o),Dt=jt.appendChild(o.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e)){return this.each(function(t){b(this).wrapAll(e.call(this,t))})}if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType){e=e.firstChild}return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;null!=(n=this[r]);r++){(!e||b.filter(e,[n]).length>0)&&(t||1!==n.nodeType||b.cleanData(Ot(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Mt(Ot(n,"script")),n.parentNode.removeChild(n)))}return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&b.cleanData(Ot(e,!1));while(e.firstChild){e.removeChild(e.firstChild)}e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t){return 1===n.nodeType?n.innerHTML.replace(gt,""):t}if(!("string"!=typeof e||Tt.test(e)||!b.support.htmlSerialize&&mt.test(e)||!b.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++){n=this[r]||{},1===n.nodeType&&(b.cleanData(Ot(n,!1)),n.innerHTML=e)}n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return t||"string"==typeof e||(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=f.apply([],e);var i,o,a,s,u,l,c=0,p=this.length,d=this,h=p-1,g=e[0],m=b.isFunction(g);if(m||!(1>=p||"string"!=typeof g||b.support.checkClone)&&Ct.test(g)){return this.each(function(i){var o=d.eq(i);m&&(e[0]=g.call(this,i,n?o.html():t)),o.domManip(e,n,r)})}if(p&&(l=b.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(n=n&&b.nodeName(i,"tr"),s=b.map(Ot(l,"script"),Ht),a=s.length;p>c;c++){o=l,c!==h&&(o=b.clone(o,!0,!0),a&&b.merge(s,Ot(o,"script"))),r.call(n&&b.nodeName(this[c],"table")?Lt(this[c],"tbody"):this[c],o,c)}if(a){for(u=s[s.length-1].ownerDocument,b.map(s,qt),c=0;a>c;c++){o=s[c],kt.test(o.type||"")&&!b._data(o,"globalEval")&&b.contains(u,o)&&(o.src?b.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((o.text||o.textContent||o.innerHTML||"").replace(St,"")))}}l=i=null}return this}});function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ht(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Mt(e,t){var n,r=0;for(;null!=(n=e[r]);r++){b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}}function _t(e,t){if(1===t.nodeType&&b.hasData(e)){var n,r,i,o=b._data(e),a=b._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s){for(r=0,i=s[n].length;i>r;r++){b.event.add(t,n,s[n][r])}}}a.data&&(a.data=b.extend({},a.data))}}function Ft(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events){b.removeEvent(t,r,i.handle)}t.removeAttribute(b.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Nt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],o=b(e),a=o.length-1;for(;a>=r;r++){n=r===a?this:this.clone(!0),b(o[r])[t](n),d.apply(i,n.get())}return this.pushStack(i)}});function Ot(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s){for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++){!n||b.nodeName(o,n)?s.push(o):b.merge(s,Ot(o,n))}}return n===t||n&&b.nodeName(e,n)?b.merge([e],s):s}function Bt(e){Nt.test(e.type)&&(e.defaultChecked=e.checked)}b.extend({clone:function(e,t,n){var r,i,o,a,s,u=b.contains(e.ownerDocument,e);if(b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e))){for(r=Ot(o),s=Ot(e),a=0;null!=(i=s[a]);++a){r[a]&&Ft(i,r[a])}}if(t){if(n){for(s=s||Ot(e),r=r||Ot(o),a=0;null!=(i=s[a]);a++){_t(i,r[a])}}else{_t(e,o)}}return r=Ot(o,"script"),r.length>0&&Mt(r,!u&&Ot(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,u,l,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++){if(o=e[h],o||0===o){if("object"===b.type(o)){b.merge(d,o.nodeType?[o]:o)}else{if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),u=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[u]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--){s=s.lastChild}if(!b.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!b.support.tbody){o="table"!==u||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--){b.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l)}}b.merge(d,s.childNodes),s.textContent="";while(s.firstChild){s.removeChild(s.firstChild)}s=f.lastChild}else{d.push(t.createTextNode(o))}}}}s&&f.removeChild(s),b.support.appendChecked||b.grep(Ot(d,"input"),Bt),h=0;while(o=d[h++]){if((!r||-1===b.inArray(o,r))&&(a=b.contains(o.ownerDocument,o),s=Ot(f.appendChild(o),"script"),a&&Mt(s),n)){i=0;while(o=s[i++]){kt.test(o.type||"")&&n.push(o)}}}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,u=b.expando,l=b.cache,p=b.support.deleteExpando,f=b.event.special;for(;null!=(n=e[s]);s++){if((t||b.acceptData(n))&&(o=n[u],a=o&&l[o])){if(a.events){for(r in a.events){f[r]?b.event.remove(n,r):b.removeEvent(n,r,a.handle)}}l[o]&&(delete l[o],p?delete n[u]:typeof n.removeAttribute!==i?n.removeAttribute(u):n[u]=null,c.push(o))}}}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+x+")(.*)$","i"),Yt=RegExp("^("+x+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+x+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e){return t}var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){if(t=en[i]+n,t in e){return t}}return r}function nn(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++){r=e[a],r.style&&(o[a]=b._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=b._data(r,"olddisplay",un(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display"))))}for(a=0;s>a;a++){r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"))}return e}b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,o,a={},s=0;if(b.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++){a[n[s]]=b.css(e,n[s],!1,o)}return a}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=b.camelCase(n),l=e.style;if(n=b.cssProps[u]||(b.cssProps[u]=tn(l,u)),s=b.cssHooks[n]||b.cssHooks[u],r===t){return s&&"get" in s&&(o=s.get(e,!1,i))!==t?o:l[n]}if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(b.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||b.cssNumber[u]||(r+="px"),b.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set" in s&&(r=s.set(e,r,i))===t))){try{l[n]=r}catch(c){}}}},css:function(e,n,r,i){var o,a,s,u=b.camelCase(n);return n=b.cssProps[u]||(b.cssProps[u]=tn(e.style,u)),s=b.cssHooks[n]||b.cssHooks[u],s&&"get" in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||b.isNumeric(o)?o||0:a):a},swap:function(e,t,n,r){var i,o,a={};for(o in t){a[o]=e.style[o],e.style[o]=t[o]}i=n.apply(e,r||[]);for(o in t){e.style[o]=a[o]}return i}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||b.contains(e.ownerDocument,e)||(u=b.style(e,n)),Yt.test(u)&&Ut.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):o.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),Yt.test(u)&&!zt.test(n)&&(i=l.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2){"margin"===n&&(a+=b.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=b.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=b.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=b.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=b.css(e,"border"+Zt[o]+"Width",!0,i)))}return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i)){return i}r=a&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function un(e){var t=o,n=Gt[e];return n||(n=ln(e,t),"none"!==n&&n||(Pt=(Pt||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),Pt.detach()),Gt[e]=n),n}function ln(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}b.each(["height","width"],function(e,n){b.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(b.css(e,"display"))?b.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,i),i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===b.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,n){return n?b.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,n){b.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?b(e).position()[n]+"px":r):t}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!b.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||b.css(e,"display"))},b.expr.filters.visible=function(e){return !b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++){i[e+Zt[r]+t]=o[r]||o[r-2]||o[0]}return i}},Ut.test(e)||(b.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],o=function(e,t){t=b.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e)){b.each(e,function(){o(this.name,this.value)})}else{for(r in e){gn(r,e[r],n,o)}}return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(b.isArray(t)){b.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)})}else{if(n||"object"!==b.type(t)){r(e,t)}else{for(i in t){gn(e+"["+i+"]",t[i],n,r)}}}}b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,yn,vn=b.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=b.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=a.href}catch(Ln){yn=o.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(b.isFunction(n)){while(r=o[i++]){"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}}}function qn(e,n,r,i){var o={},a=e===jn;function s(u){var l;return o[u]=!0,b.each(e[u]||[],function(e,u){var c=u(n,r,i);return"string"!=typeof c||a||o[c]?a?!(l=c):t:(n.dataTypes.unshift(c),s(c),!1)}),l}return s(n.dataTypes[0])||!o["*"]&&s("*")}function Mn(e,n){var r,i,o=b.ajaxSettings.flatOptions||{};for(i in n){n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i])}return r&&b.extend(!0,e,r),e}b.fn.load=function(e,n,r){if("string"!=typeof e&&Sn){return Sn.apply(this,arguments)}var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),b.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&b.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,o){return b.isFunction(r)&&(o=o||i,i=r,r=t),b.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Nn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Mn(Mn(e,b.ajaxSettings),t):Mn(b.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,u,l,c,p=b.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?b(f):b.event,h=b.Deferred(),g=b.Callbacks("once memory"),m=p.statusCode||{},y={},v={},x=0,T="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!c){c={};while(t=Tn.exec(a)){c[t[1].toLowerCase()]=t[2]}}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e){if(2>x){for(t in e){m[t]=[m[t],e[t]]}}else{N.always(e[N.status])}}return this},abort:function(e){var t=e||T;return l&&l.abort(t),k(0,t),this}};if(h.promise(N).complete=g.add,N.success=N.done,N.error=N.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=b.trim(p.dataType||"*").toLowerCase().match(w)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?80:443))==(mn[3]||("http:"===mn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),qn(An,p,n,N),2===x){return N}u=p.global,u&&0===b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Cn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(b.lastModified[o]&&N.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&N.setRequestHeader("If-None-Match",b.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&N.setRequestHeader("Content-Type",p.contentType),N.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers){N.setRequestHeader(i,p.headers[i])}if(p.beforeSend&&(p.beforeSend.call(f,N,p)===!1||2===x)){return N.abort()}T="abort";for(i in {success:1,error:1,complete:1}){N[i](p[i])}if(l=qn(jn,p,n,N)){N.readyState=1,u&&d.trigger("ajaxSend",[N,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){N.abort("timeout")},p.timeout));try{x=1,l.send(y,k)}catch(C){if(!(2>x)){throw C}k(-1,C)}}else{k(-1,"No Transport")}function k(e,n,r,i){var c,y,v,w,T,C=n;2!==x&&(x=2,s&&clearTimeout(s),l=t,a=i||"",N.readyState=e>0?4:0,r&&(w=_n(p,N,r)),e>=200&&300>e||304===e?(p.ifModified&&(T=N.getResponseHeader("Last-Modified"),T&&(b.lastModified[o]=T),T=N.getResponseHeader("etag"),T&&(b.etag[o]=T)),204===e?(c=!0,C="nocontent"):304===e?(c=!0,C="notmodified"):(c=Fn(p,w),C=c.state,y=c.data,v=c.error,c=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),N.status=e,N.statusText=(n||C)+"",c?h.resolveWith(f,[y,C,N]):h.rejectWith(f,[N,C,v]),N.statusCode(m),m=t,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[N,p,c?y:v]),g.fireWith(f,[N,C]),u&&(d.trigger("ajaxComplete",[N,p]),--b.active||b.event.trigger("ajaxStop")))}return N},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}});function _n(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(s in c){s in r&&(n[c[s]]=r[s])}while("*"===l[0]){l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"))}if(o){for(s in u){if(u[s]&&u[s].test(o)){l.unshift(s);break}}}if(l[0] in r){a=l[0]}else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),r[a]):t}function Fn(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1]){for(i in e.converters){a[i.toLowerCase()]=e.converters[i]}}for(;r=u[++s];){if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i){for(n in a){if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}}}if(i!==!0){if(i&&e["throws"]){t=i(t)}else{try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}}}l=r}}return{state:"success",data:t}}b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||b("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var On=[],Bn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||b.expando+"_"+vn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||b.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,On.push(o)),s&&b.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn){Pn[e](t,!0)}};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}b.ajaxSettings.xhr=e.ActiveXObject?function(){return !this.isLocal&&In()||zn()}:In,Rn=b.ajaxSettings.xhr(),b.support.cors=!!Rn&&"withCredentials" in Rn,Rn=b.support.ajax=!!Rn,Rn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields){for(s in n.xhrFields){u[s]=n.xhrFields[s]}}n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i){u.setRequestHeader(s,i[s])}}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,p;try{if(r&&(i||4===u.readyState)){if(r=t,a&&(u.onreadystatechange=b.noop,$n&&delete Pn[a]),i){4!==u.readyState&&u.abort()}else{p={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(p.text=u.responseText);try{c=u.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}}catch(d){i||o(-1,d)}p&&o(s,c,p,l)},n.async?4===u.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},b(e).unload($n)),Pn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Yn.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(b.cssNumber[e]?"":"px"),"px"!==r&&s){s=b.css(i.elem,e,!0)||n||1;do{u=u||".5",s/=u,b.style(i.elem,e,s+r)}while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Qn[t]||[]).concat(Qn["*"]),i=0,o=r.length;for(;o>i;i++){if(r[i].call(e,t,n)){return}}})}function er(e,t,n){var r,i,o=0,a=Gn.length,s=b.Deferred().always(function(){delete u.elem}),u=function(){if(i){return !1}var t=Xn||Kn(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;for(;u>a;a++){l.tweens[a].run(o)}return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i){return this}for(i=!0;r>n;n++){l.tweens[n].run(1)}return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(tr(c,l.opts.specialEasing);a>o;o++){if(r=Gn[o].call(l,e,c,l.opts)){return r}}return Zn(l,c),b.isFunction(l.opts.start)&&l.opts.start.call(e,l),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function tr(e,t){var n,r,i,o,a;for(i in e){if(r=b.camelCase(i),o=t[r],n=e[i],b.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=b.cssHooks[r],a&&"expand" in a){n=a.expand(n),delete e[r];for(i in n){i in e||(e[i]=n[i],t[i]=o)}}else{t[r]=o}}}b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++){n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)}},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,u,l,c,p,f=this,d=e.style,h={},g=[],m=e.nodeType&&nn(e);n.queue||(c=b._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,p=c.empty.fire,c.empty.fire=function(){c.unqueued||p()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,b.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height" in t||"width" in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==un(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",b.support.shrinkWrapBlocks||f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t){if(a=t[i],Vn.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(m?"hide":"show")){continue}g.push(i)}}if(o=g.length){s=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden" in s&&(m=s.hidden),u&&(s.hidden=!m),m?b(e).show():f.done(function(){b(e).hide()}),f.done(function(){var t;b._removeData(e,"fxshow");for(t in h){b.style(e,t,h[t])}});for(i=0;o>i;i++){r=g[i],l=f.createTween(r,m?s[r]:0),h[r]=s[r]||b.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=er(this,b.extend({},e),o);a.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=b.timers,a=b._data(this);if(n){a[n]&&a[n].stop&&i(a[n])}else{for(n in a){a[n]&&a[n].stop&&Jn.test(n)&&i(a[n])}}for(n=o.length;n--;){o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1))}(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;){o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1))}for(t=0;a>t;t++){r[t]&&r[t].finish&&r[t].finish.call(this)}delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t){n=Zt[i],r["margin"+n]=r["padding"+n]=e}return t&&(r.opacity=r.width=e),r}b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};return r.duration=b.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;for(Xn=b.now();n.length>r;r++){e=n[r],e()||n[r]!==e||n.splice(r--,1)}n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Un||(Un=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Un),Un=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length){return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)})}var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s){return n=s.documentElement,b.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o}},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");"static"===r&&(e.style.position="relative");var i=b(e),o=i.offset(),a=b.css(e,"top"),s=b.css(e,"left"),u=("absolute"===r||"fixed"===r)&&b.inArray("auto",[a,s])>-1,l={},c={},p,f;u?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),b.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(l.top=t.top-o.top+p),null!=t.left&&(l.left=t.left-o.left+f),"using" in t?t.using.call(e,l):i.css(l)}},b.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===b.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.documentElement;while(e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position")){e=e.offsetParent}return e||o.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?b(a).scrollLeft():o,r?o:b(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return b.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return b.access(this,function(n,r,i){var o;return b.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?b.css(n,r,s):b.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=b,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})})(window);
/* jQuery Migrate v1.1.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(Ad,K,Z){function I(A){q[A]||(q[A]=!0,Ad.migrateWarnings.push(A),K.console&&console.warn&&!Ad.migrateMute&&(console.warn("JQMIGRATE: "+A),Ad.migrateTrace&&console.trace&&console.trace()))}function z(M,H,A,C){if(Object.defineProperty){try{return Object.defineProperty(M,H,{configurable:!0,enumerable:!0,get:function(){return I(C),A},set:function(Q){I(C),A=Q}}),Z}catch(N){}}Ad._definePropertyBroken=!0,M[H]=A}var q={};Ad.migrateWarnings=[],!Ad.migrateMute&&K.console&&console.log&&console.log("JQMIGRATE: Logging is active"),Ad.migrateTrace===Z&&(Ad.migrateTrace=!0),Ad.migrateReset=function(){q={},Ad.migrateWarnings.length=0},"BackCompat"===document.compatMode&&I("jQuery is not compatible with Quirks Mode");var U=Ad("<input/>",{size:1}).attr("size")&&Ad.attrFn,J=Ad.attr,L=Ad.attrHooks.value&&Ad.attrHooks.value.get||function(){return null},Ab=Ad.attrHooks.value&&Ad.attrHooks.value.set||function(){return Z},X=/^(?:input|button)$/i,Ac=/^[238]$/,G=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ae=/^(?:checked|selected)$/i;z(Ad,"attrFn",U||{},"jQuery.attrFn is deprecated"),Ad.attr=function(M,C,A,N){var H=C.toLowerCase(),Q=M&&M.nodeType;return N&&(4>J.length&&I("jQuery.fn.attr( props, pass ) is deprecated"),M&&!Ac.test(Q)&&(U?C in U:Ad.isFunction(Ad.fn[C])))?Ad(M)[C](A):("type"===C&&A!==Z&&X.test(M.nodeName)&&M.parentNode&&I("Can't change the 'type' of an input or button in IE 6/7/8"),!Ad.attrHooks[H]&&G.test(H)&&(Ad.attrHooks[H]={get:function(c,T){var b,S=Ad.prop(c,T);return S===!0||"boolean"!=typeof S&&(b=c.getAttributeNode(T))&&b.nodeValue!==!1?T.toLowerCase():Z},set:function(b,c,S){var T;return c===!1?Ad.removeAttr(b,S):(T=Ad.propFix[S]||S,T in b&&(b[T]=!0),b.setAttribute(S,S.toLowerCase())),S}},Ae.test(H)&&I("jQuery.fn.attr('"+H+"') may use property instead of attribute")),J.call(Ad,M,C,A))},Ad.attrHooks.value={get:function(H,A){var C=(H.nodeName||"").toLowerCase();return"button"===C?L.apply(this,arguments):("input"!==C&&"option"!==C&&I("jQuery.fn.attr('value') no longer gets properties"),A in H?H.value:null)},set:function(H,C){var A=(H.nodeName||"").toLowerCase();return"button"===A?Ab.apply(this,arguments):("input"!==A&&"option"!==A&&I("jQuery.fn.attr('value', val) no longer sets properties"),H.value=C,Z)}};var Af,R,O=Ad.fn.init,Y=Ad.parseJSON,F=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;Ad.fn.init=function(H,M,C){var A;return H&&"string"==typeof H&&!Ad.isPlainObject(M)&&(A=F.exec(H))&&A[1]&&("<"!==H.charAt(0)&&I("$(html) HTML strings must start with '<' character"),M&&M.context&&(M=M.context),Ad.parseHTML)?O.call(this,Ad.parseHTML(Ad.trim(H),M,!0),M,C):O.apply(this,arguments)},Ad.fn.init.prototype=Ad.fn,Ad.parseJSON=function(A){return A||null===A?Y.apply(this,arguments):(I("jQuery.parseJSON requires a valid JSON string"),null)},Ad.uaMatch=function(A){A=A.toLowerCase();var C=/(chrome)[ \/]([\w.]+)/.exec(A)||/(webkit)[ \/]([\w.]+)/.exec(A)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(A)||/(msie) ([\w.]+)/.exec(A)||0>A.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(A)||[];return{browser:C[1]||"",version:C[2]||"0"}},Ad.browser||(Af=Ad.uaMatch(navigator.userAgent),R={},Af.browser&&(R[Af.browser]=!0,R.version=Af.version),R.chrome?R.webkit=!0:R.webkit&&(R.safari=!0),Ad.browser=R),z(Ad,"browser",Ad.browser,"jQuery.browser is deprecated"),Ad.sub=function(){function C(M,H){return new C.fn.init(M,H)}Ad.extend(!0,C,this),C.superclass=this,C.fn=C.prototype=this(),C.fn.constructor=C,C.sub=this.sub,C.fn.init=function(H,M){return M&&M instanceof Ad&&!(M instanceof C)&&(M=C(M)),Ad.fn.init.call(this,H,M,A)},C.fn.init.prototype=C.fn;var A=C(document);return I("jQuery.sub() is deprecated"),C},Ad.ajaxSetup({converters:{"text json":Ad.parseJSON}});var Aa=Ad.fn.data;Ad.fn.data=function(M){var H,A,C=this[0];return !C||"events"!==M||1!==arguments.length||(H=Ad.data(C,M),A=Ad._data(C,M),H!==Z&&H!==A||A===Z)?Aa.apply(this,arguments):(I("Use of jQuery.fn.data('events') is deprecated"),A)};var V=/\/(java|ecma)script/i,P=Ad.fn.andSelf||Ad.fn.addBack;Ad.fn.andSelf=function(){return I("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),P.apply(this,arguments)},Ad.clean||(Ad.clean=function(S,M,H,A){M=M||document,M=!M.nodeType&&M[0]||M,M=M.ownerDocument||M,I("jQuery.clean() is deprecated");var Q,T,N,C,b=[];if(Ad.merge(b,Ad.buildFragment(S,M).childNodes),H){for(N=function(a){return !a.type||V.test(a.type)?A?A.push(a.parentNode?a.parentNode.removeChild(a):a):H.appendChild(a):Z},Q=0;null!=(T=b[Q]);Q++){Ad.nodeName(T,"script")&&N(T)||(H.appendChild(T),T.getElementsByTagName!==Z&&(C=Ad.grep(Ad.merge([],T.getElementsByTagName("script")),N),b.splice.apply(b,[Q+1,0].concat(C)),Q+=C.length))}}return b});var Ag=Ad.event.add,E=Ad.event.remove,W=Ad.event.trigger,Al=Ad.fn.toggle,D=Ad.fn.live,Ah=Ad.fn.die,Ai="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",Ak=RegExp("\\b(?:"+Ai+")\\b"),Aj=/(?:^|\s)hover(\.\S+|)\b/,B=function(A){return"string"!=typeof A||Ad.event.special.hover?A:(Aj.test(A)&&I("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),A&&A.replace(Aj,"mouseenter$1 mouseleave$1"))};Ad.event.props&&"attrChange"!==Ad.event.props[0]&&Ad.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),Ad.event.dispatch&&z(Ad.event,"handle",Ad.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),Ad.event.add=function(N,H,M,C,A){N!==document&&Ak.test(H)&&I("AJAX events should be attached to document: "+H),Ag.call(this,N,B(H||""),M,C,A)},Ad.event.remove=function(N,H,M,A,C){E.call(this,N,B(H)||"",M,A,C)},Ad.fn.error=function(){var A=Array.prototype.slice.call(arguments,0);return I("jQuery.fn.error() is deprecated"),A.splice(0,0,"error"),arguments.length?this.bind.apply(this,A):(this.triggerHandler.apply(this,A),this)},Ad.fn.toggle=function(Q,C){if(!Ad.isFunction(Q)||!Ad.isFunction(C)){return Al.apply(this,arguments)}I("jQuery.fn.toggle(handler, handler...) is deprecated");var M=arguments,H=Q.guid||Ad.guid++,A=0,N=function(S){var T=(Ad._data(this,"lastToggle"+Q.guid)||0)%A;return Ad._data(this,"lastToggle"+Q.guid,T+1),S.preventDefault(),M[T].apply(this,arguments)||!1};for(N.guid=H;M.length>A;){M[A++].guid=H}return this.click(N)},Ad.fn.live=function(C,H,A){return I("jQuery.fn.live() is deprecated"),D?D.apply(this,arguments):(Ad(this.context).on(C,this.selector,H,A),this)},Ad.fn.die=function(C,A){return I("jQuery.fn.die() is deprecated"),Ah?Ah.apply(this,arguments):(Ad(this.context).off(C,this.selector||"**",A),this)},Ad.event.trigger=function(M,C,H,A){return H||Ak.test(M)||I("Global events are undocumented and deprecated"),W.call(this,M,C,H||document,A)},Ad.each(Ai.split("|"),function(C,A){Ad.event.special[A]={setup:function(){var H=this;return H!==document&&(Ad.event.add(document,A+"."+Ad.guid,function(){Ad.event.trigger(A,null,H,!0)}),Ad._data(this,A,Ad.guid++)),!1},teardown:function(){return this!==document&&Ad.event.remove(document,A+"."+Ad._data(this,A)),!1}}})}(jQuery,window);
/* Deprecated functions support via new and alternate functionality */
jQuery.fn.live=function(B,A,C){jQuerySL(this.context).on(B,this.selector,A,C);return this};jQuery.fn.die=function(B,A,C){jQuerySL(this.context).off(B,this.selector,A,C);return this};jQuery.fn.attrSL=function(B,C){if(typeof C!=="undefined"){return jQuerySL(this).attr(B,C)}else{var A=jQuerySL(this).attr(B);if(typeof A!=="undefined"){return A}else{return""}}};
/*file name: /js/jqueryui_embed.js */
/* jQuery UI - v1.10.2 - 2013-04-12
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.effect.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
(function(E,F){function A(L,G){var J,H,K,I=L.nodeName.toLowerCase();return"area"===I?(J=L.parentNode,H=J.name,L.href&&H&&"map"===J.nodeName.toLowerCase()?(K=E("img[usemap=#"+H+"]")[0],!!K&&D(K)):!1):(/input|select|textarea|button|object/.test(I)?!L.disabled:"a"===I?L.href||G:G)&&D(L)}function D(G){return E.expr.filters.visible(G)&&!E(G).parents().addBack().filter(function(){return"hidden"===E.css(this,"visibility")}).length}var C=0,B=/^ui-id-\d+$/;E.ui=E.ui||{},E.extend(E.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),E.fn.extend({focus:function(G){return function(H,I){return"number"==typeof H?this.each(function(){var J=this;setTimeout(function(){E(J).focus(),I&&I.call(J)},H)}):G.apply(this,arguments)}}(E.fn.focus),scrollParent:function(){var G;return G=E.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(E.css(this,"position"))&&/(auto|scroll)/.test(E.css(this,"overflow")+E.css(this,"overflow-y")+E.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(E.css(this,"overflow")+E.css(this,"overflow-y")+E.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!G.length?E(document):G},zIndex:function(H){if(H!==F){return this.css("zIndex",H)}if(this.length){for(var I,G,J=E(this[0]);J.length&&J[0]!==document;){if(I=J.css("position"),("absolute"===I||"relative"===I||"fixed"===I)&&(G=parseInt(J.css("zIndex"),10),!isNaN(G)&&0!==G)){return G}J=J.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++C)})},removeUniqueId:function(){return this.each(function(){B.test(this.id)&&E(this).removeAttr("id")})}}),E.extend(E.expr[":"],{data:E.expr.createPseudo?E.expr.createPseudo(function(G){return function(H){return !!E.data(H,G)}}):function(I,G,H){return !!E.data(I,H[3])},focusable:function(G){return A(G,!isNaN(E.attr(G,"tabindex")))},tabbable:function(I){var H=E.attr(I,"tabindex"),G=isNaN(H);return(G||H>=0)&&A(I,!G)}}),E("<a>").outerWidth(1).jquery||E.each(["Width","Height"],function(G,L){function J(P,N,O,M){return E.each(H,function(){N-=parseFloat(E.css(P,"padding"+this))||0,O&&(N-=parseFloat(E.css(P,"border"+this+"Width"))||0),M&&(N-=parseFloat(E.css(P,"margin"+this))||0)}),N}var H="Width"===L?["Left","Right"]:["Top","Bottom"],K=L.toLowerCase(),I={innerWidth:E.fn.innerWidth,innerHeight:E.fn.innerHeight,outerWidth:E.fn.outerWidth,outerHeight:E.fn.outerHeight};E.fn["inner"+L]=function(M){return M===F?I["inner"+L].call(this):this.each(function(){E(this).css(K,J(this,M)+"px")})},E.fn["outer"+L]=function(N,M){return"number"!=typeof N?I["outer"+L].call(this,N):this.each(function(){E(this).css(K,J(this,N,!0,M)+"px")})}}),E.fn.addBack||(E.fn.addBack=function(G){return this.add(null==G?this.prevObject:this.prevObject.filter(G))}),E("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(E.fn.removeData=function(G){return function(H){return arguments.length?G.call(this,E.camelCase(H)):G.call(this)}}(E.fn.removeData)),E.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),E.support.selectstart="onselectstart" in document.createElement("div"),E.fn.extend({disableSelection:function(){return this.bind((E.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(G){G.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),E.extend(E.ui,{plugin:{add:function(J,H,I){var G,K=E.ui[J].prototype;for(G in I){K.plugins[G]=K.plugins[G]||[],K.plugins[G].push([H,I[G]])}},call:function(K,J,H){var I,G=K.plugins[J];if(G&&K.element[0].parentNode&&11!==K.element[0].parentNode.nodeType){for(I=0;G.length>I;I++){K.options[G[I][0]]&&G[I][1].apply(K.element,H)}}}},hasScroll:function(J,H){if("hidden"===E(J).css("overflow")){return !1}var I=H&&"left"===H?"scrollLeft":"scrollTop",G=!1;return J[I]>0?!0:(J[I]=1,G=J[I]>0,J[I]=0,G)}})})(jQuery);(function(E,C){var A=0,B=Array.prototype.slice,D=E.cleanData;E.cleanData=function(I){for(var G,H=0;null!=(G=I[H]);H++){try{E(G).triggerHandler("remove")}catch(F){}}D(I)},E.widget=function(G,M,I){var K,L,J,F,H={},N=G.split(".")[0];G=G.split(".")[1],K=N+"-"+G,I||(I=M,M=E.Widget),E.expr[":"][K.toLowerCase()]=function(O){return !!E.data(O,K)},E[N]=E[N]||{},L=E[N][G],J=E[N][G]=function(O,P){return this._createWidget?(arguments.length&&this._createWidget(O,P),C):new J(O,P)},E.extend(J,L,{version:I.version,_proto:E.extend({},I),_childConstructors:[]}),F=new M,F.options=E.widget.extend({},F.options),E.each(I,function(P,O){return E.isFunction(O)?(H[P]=function(){var Q=function(){return M.prototype[P].apply(this,arguments)},R=function(S){return M.prototype[P].apply(this,S)};return function(){var T,U=this._super,S=this._superApply;return this._super=Q,this._superApply=R,T=O.apply(this,arguments),this._super=U,this._superApply=S,T}}(),C):(H[P]=O,C)}),J.prototype=E.widget.extend(F,{widgetEventPrefix:L?F.widgetEventPrefix:G},H,{constructor:J,namespace:N,widgetName:G,widgetFullName:K}),L?(E.each(L._childConstructors,function(Q,O){var P=O.prototype;E.widget(P.namespace+"."+P.widgetName,J,O._proto)}),delete L._childConstructors):M._childConstructors.push(J),E.widget.bridge(G,J)},E.widget.extend=function(G){for(var H,J,K=B.call(arguments,1),I=0,F=K.length;F>I;I++){for(H in K[I]){J=K[I][H],K[I].hasOwnProperty(H)&&J!==C&&(G[H]=E.isPlainObject(J)?E.isPlainObject(G[H])?E.widget.extend({},G[H],J):E.widget.extend({},J):J)}}return G},E.widget.bridge=function(F,H){var G=H.prototype.widgetFullName||F;E.fn[F]=function(J){var I="string"==typeof J,L=B.call(arguments,1),K=this;return J=!I&&L.length?E.widget.extend.apply(null,[J].concat(L)):J,I?this.each(function(){var N,M=E.data(this,G);return M?E.isFunction(M[J])&&"_"!==J.charAt(0)?(N=M[J].apply(M,L),N!==M&&N!==C?(K=N&&N.jquery?K.pushStack(N.get()):N,!1):C):E.error("no such method '"+J+"' for "+F+" widget instance"):E.error("cannot call methods on "+F+" prior to initialization; attempted to call method '"+J+"'")}):this.each(function(){var M=E.data(this,G);M?M.option(J||{})._init():E.data(this,G,new H(J,this))}),K}},E.Widget=function(){},E.Widget._childConstructors=[],E.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(G,F){F=E(F||this.defaultElement||this)[0],this.element=E(F),this.uuid=A++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=E.widget.extend({},this.options,this._getCreateOptions(),G),this.bindings=E(),this.hoverable=E(),this.focusable=E(),F!==this&&(E.data(F,this.widgetFullName,this),this._on(!0,this.element,{remove:function(H){H.target===F&&this.destroy()}}),this.document=E(F.style?F.ownerDocument:F.document||F),this.window=E(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:E.noop,_getCreateEventData:E.noop,_create:E.noop,_init:E.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(E.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:E.noop,widget:function(){return this.element},option:function(F,K){var G,I,J,H=F;if(0===arguments.length){return E.widget.extend({},this.options)}if("string"==typeof F){if(H={},G=F.split("."),F=G.shift(),G.length){for(I=H[F]=E.widget.extend({},this.options[F]),J=0;G.length-1>J;J++){I[G[J]]=I[G[J]]||{},I=I[G[J]]}if(F=G.pop(),K===C){return I[F]===C?null:I[F]}I[F]=K}else{if(K===C){return this.options[F]===C?null:this.options[F]}H[F]=K}}return this._setOptions(H),this},_setOptions:function(F){var G;for(G in F){this._setOption(G,F[G])}return this},_setOption:function(F,G){return this.options[F]=G,"disabled"===F&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!G).attr("aria-disabled",G),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(G,H,J){var F,I=this;"boolean"!=typeof G&&(J=H,H=G,G=!1),J?(H=F=E(H),this.bindings=this.bindings.add(H)):(J=H,H=this.element,F=this.widget()),E.each(J,function(M,N){function K(){return G||I.options.disabled!==!0&&!E(this).hasClass("ui-state-disabled")?("string"==typeof N?I[N]:N).apply(I,arguments):C}"string"!=typeof N&&(K.guid=N.guid=N.guid||K.guid||E.guid++);var L=M.match(/^(\w+)\s*(.*)$/),P=L[1]+I.eventNamespace,O=L[2];O?F.delegate(O,P,K):H.bind(P,K)})},_off:function(F,G){G=(G||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,F.unbind(G).undelegate(G)},_delay:function(I,H){function F(){return("string"==typeof I?G[I]:I).apply(G,arguments)}var G=this;return setTimeout(F,H||0)},_hoverable:function(F){this.hoverable=this.hoverable.add(F),this._on(F,{mouseenter:function(G){E(G.currentTarget).addClass("ui-state-hover")},mouseleave:function(G){E(G.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(F){this.focusable=this.focusable.add(F),this._on(F,{focusin:function(G){E(G.currentTarget).addClass("ui-state-focus")},focusout:function(G){E(G.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(K,F,J){var G,H,I=this.options[K];if(J=J||{},F=E.Event(F),F.type=(K===this.widgetEventPrefix?K:this.widgetEventPrefix+K).toLowerCase(),F.target=this.element[0],H=F.originalEvent){for(G in H){G in F||(F[G]=H[G])}}return this.element.trigger(F,J),!(E.isFunction(I)&&I.apply(this.element[0],[F].concat(J))===!1||F.isDefaultPrevented())}},E.each({show:"fadeIn",hide:"fadeOut"},function(G,F){E.Widget.prototype["_"+G]=function(J,L,I){"string"==typeof L&&(L={effect:L});var K,H=L?L===!0||"number"==typeof L?F:L.effect||F:G;L=L||{},"number"==typeof L&&(L={duration:L}),K=!E.isEmptyObject(L),L.complete=I,L.delay&&J.delay(L.delay),K&&E.effects&&E.effects.effect[H]?J[G](L):H!==G&&J[H]?J[H](L.duration,L.easing,I):J.queue(function(M){E(this)[G](),I&&I.call(J[0]),M()})}})})(jQuery);(function(A){var B=!1;A(document).mouseup(function(){B=!1}),A.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var C=this;this.element.bind("mousedown."+this.widgetName,function(D){return C._mouseDown(D)}).bind("click."+this.widgetName,function(D){return !0===A.data(D.target,C.widgetName+".preventClickEvent")?(A.removeData(D.target,C.widgetName+".preventClickEvent"),D.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&A(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(D){if(!B){this._mouseStarted&&this._mouseUp(D),this._mouseDownEvent=D;var E=this,F=1===D.which,C="string"==typeof this.options.cancel&&D.target.nodeName?A(D.target).closest(this.options.cancel).length:!1;return F&&!C&&this._mouseCapture(D)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){E.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(D)&&this._mouseDelayMet(D)&&(this._mouseStarted=this._mouseStart(D)!==!1,!this._mouseStarted)?(D.preventDefault(),!0):(!0===A.data(D.target,this.widgetName+".preventClickEvent")&&A.removeData(D.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(G){return E._mouseMove(G)},this._mouseUpDelegate=function(G){return E._mouseUp(G)},A(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),D.preventDefault(),B=!0,!0)):!0}},_mouseMove:function(C){return A.ui.ie&&(!document.documentMode||9>document.documentMode)&&!C.button?this._mouseUp(C):this._mouseStarted?(this._mouseDrag(C),C.preventDefault()):(this._mouseDistanceMet(C)&&this._mouseDelayMet(C)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,C)!==!1,this._mouseStarted?this._mouseDrag(C):this._mouseUp(C)),!this._mouseStarted)},_mouseUp:function(C){return A(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,C.target===this._mouseDownEvent.target&&A.data(C.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(C)),!1},_mouseDistanceMet:function(C){return Math.max(Math.abs(this._mouseDownEvent.pageX-C.pageX),Math.abs(this._mouseDownEvent.pageY-C.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})})(jQuery);(function(D,N){function G(Q,R,P){return[parseFloat(Q[0])*(A.test(Q[0])?R/100:1),parseFloat(Q[1])*(A.test(Q[1])?P/100:1)]}function C(P,Q){return parseInt(D.css(P,Q),10)||0}function I(P){var Q=P[0];return 9===Q.nodeType?{width:P.width(),height:P.height(),offset:{top:0,left:0}}:D.isWindow(Q)?{width:P.width(),height:P.height(),offset:{top:P.scrollTop(),left:P.scrollLeft()}}:Q.preventDefault?{width:0,height:0,offset:{top:Q.pageY,left:Q.pageX}}:{width:P.outerWidth(),height:P.outerHeight(),offset:P.offset()}}D.ui=D.ui||{};var K,J=Math.max,B=Math.abs,F=Math.round,H=/left|center|right/,L=/top|center|bottom/,E=/[\+\-]\d+(\.[\d]+)?%?/,M=/^\w+/,A=/%$/,O=D.fn.position;D.position={scrollbarWidth:function(){if(K!==N){return K}var Q,R,S=D("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),P=S.children()[0];return D("body").append(S),Q=P.offsetWidth,S.css("overflow","scroll"),R=P.offsetWidth,Q===R&&(R=S[0].clientWidth),S.remove(),K=Q-R},getScrollInfo:function(T){var Q=T.isWindow?"":T.element.css("overflow-x"),R=T.isWindow?"":T.element.css("overflow-y"),S="scroll"===Q||"auto"===Q&&T.width<T.element[0].scrollWidth,P="scroll"===R||"auto"===R&&T.height<T.element[0].scrollHeight;return{width:P?D.position.scrollbarWidth():0,height:S?D.position.scrollbarWidth():0}},getWithinInfo:function(R){var P=D(R||window),Q=D.isWindow(P[0]);return{element:P,isWindow:Q,offset:P.offset()||{left:0,top:0},scrollLeft:P.scrollLeft(),scrollTop:P.scrollTop(),width:Q?P.width():P.outerWidth(),height:Q?P.height():P.outerHeight()}}},D.fn.position=function(Y){if(!Y||!Y.of){return O.apply(this,arguments)}Y=D.extend({},Y);var W,U,T,Z,c,V,X=D(Y.of),R=D.position.getWithinInfo(Y.within),P=D.position.getScrollInfo(R),Q=(Y.collision||"flip").split(" "),S={};return V=I(X),X[0].preventDefault&&(Y.at="left top"),U=V.width,T=V.height,Z=V.offset,c=D.extend({},Z),D.each(["my","at"],function(){var d,a,b=(Y[this]||"").split(" ");1===b.length&&(b=H.test(b[0])?b.concat(["center"]):L.test(b[0])?["center"].concat(b):["center","center"]),b[0]=H.test(b[0])?b[0]:"center",b[1]=L.test(b[1])?b[1]:"center",d=E.exec(b[0]),a=E.exec(b[1]),S[this]=[d?d[0]:0,a?a[0]:0],Y[this]=[M.exec(b[0])[0],M.exec(b[1])[0]]}),1===Q.length&&(Q[1]=Q[0]),"right"===Y.at[0]?c.left+=U:"center"===Y.at[0]&&(c.left+=U/2),"bottom"===Y.at[1]?c.top+=T:"center"===Y.at[1]&&(c.top+=T/2),W=G(S.at,U,T),c.left+=W[0],c.top+=W[1],this.each(function(){var e,b,j=D(this),o=j.outerWidth(),k=j.outerHeight(),q=C(this,"marginLeft"),h=C(this,"marginTop"),p=o+q+C(this,"marginRight")+P.width,m=k+h+C(this,"marginBottom")+P.height,a=D.extend({},c),g=G(S.my,j.outerWidth(),j.outerHeight());"right"===Y.my[0]?a.left-=o:"center"===Y.my[0]&&(a.left-=o/2),"bottom"===Y.my[1]?a.top-=k:"center"===Y.my[1]&&(a.top-=k/2),a.left+=g[0],a.top+=g[1],D.support.offsetFractions||(a.left=F(a.left),a.top=F(a.top)),e={marginLeft:q,marginTop:h},D.each(["left","top"],function(d,f){D.ui.position[Q[d]]&&D.ui.position[Q[d]][f](a,{targetWidth:U,targetHeight:T,elemWidth:o,elemHeight:k,collisionPosition:e,collisionWidth:p,collisionHeight:m,offset:[W[0]+g[0],W[1]+g[1]],my:Y.my,at:Y.at,within:R,elem:j})}),Y.using&&(b=function(w){var f=Z.left-a.left,v=f+U-o,l=Z.top-a.top,u=l+T-k,d={target:{element:X,left:Z.left,top:Z.top,width:U,height:T},element:{element:j,left:a.left,top:a.top,width:o,height:k},horizontal:0>v?"left":f>0?"right":"center",vertical:0>u?"top":l>0?"bottom":"middle"};o>U&&U>B(f+v)&&(d.horizontal="center"),k>T&&T>B(l+u)&&(d.vertical="middle"),d.important=J(B(f),B(v))>J(B(l),B(u))?"horizontal":"vertical",Y.using.call(this,w,d)}),j.offset(D.extend(a,{using:b}))})},D.ui.position={fit:{left:function(X,W){var Q,V=W.within,S=V.isWindow?V.scrollLeft:V.offset.left,T=V.width,U=X.left-W.collisionPosition.marginLeft,P=S-U,R=U+W.collisionWidth-T-S;W.collisionWidth>T?P>0&&0>=R?(Q=X.left+P+W.collisionWidth-T-S,X.left+=P-Q):X.left=R>0&&0>=P?S:P>R?S+T-W.collisionWidth:S:P>0?X.left+=P:R>0?X.left-=R:X.left=J(X.left-U,X.left)},top:function(X,W){var Q,V=W.within,S=V.isWindow?V.scrollTop:V.offset.top,T=W.within.height,U=X.top-W.collisionPosition.marginTop,P=S-U,R=U+W.collisionHeight-T-S;W.collisionHeight>T?P>0&&0>=R?(Q=X.top+P+W.collisionHeight-T-S,X.top+=P-Q):X.top=R>0&&0>=P?S:P>R?S+T-W.collisionHeight:S:P>0?X.top+=P:R>0?X.top-=R:X.top=J(X.top-U,X.top)}},flip:{left:function(R,g){var U,Q,W=g.within,Y=W.offset.left+W.scrollLeft,X=W.width,T=W.isWindow?W.scrollLeft:W.offset.left,V=R.left-g.collisionPosition.marginLeft,Z=V-T,S=V+g.collisionWidth-X-T,b="left"===g.my[0]?-g.elemWidth:"right"===g.my[0]?g.elemWidth:0,P="left"===g.at[0]?g.targetWidth:"right"===g.at[0]?-g.targetWidth:0,j=-2*g.offset[0];0>Z?(U=R.left+b+P+j+g.collisionWidth-X-Y,(0>U||B(Z)>U)&&(R.left+=b+P+j)):S>0&&(Q=R.left-g.collisionPosition.marginLeft+b+P+j-T,(Q>0||S>B(Q))&&(R.left+=b+P+j))},top:function(R,j){var U,Q,X=j.within,Z=X.offset.top+X.scrollTop,Y=X.height,T=X.isWindow?X.scrollTop:X.offset.top,V=R.top-j.collisionPosition.marginTop,b=V-T,S=V+j.collisionHeight-Y-T,g="top"===j.my[1],P=g?-j.elemHeight:"bottom"===j.my[1]?j.elemHeight:0,k="top"===j.at[1]?j.targetHeight:"bottom"===j.at[1]?-j.targetHeight:0,W=-2*j.offset[1];0>b?(Q=R.top+P+k+W+j.collisionHeight-Y-Z,R.top+P+k+W>b&&(0>Q||B(b)>Q)&&(R.top+=P+k+W)):S>0&&(U=R.top-j.collisionPosition.marginTop+P+k+W-T,R.top+P+k+W>S&&(U>0||S>B(U))&&(R.top+=P+k+W))}},flipfit:{left:function(){D.ui.position.flip.left.apply(this,arguments),D.ui.position.fit.left.apply(this,arguments)},top:function(){D.ui.position.flip.top.apply(this,arguments),D.ui.position.fit.top.apply(this,arguments)}}},function(){var V,P,U,Q,S,R=document.getElementsByTagName("body")[0],T=document.createElement("div");V=document.createElement(R?"div":"body"),U={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},R&&D.extend(U,{position:"absolute",left:"-1000px",top:"-1000px"});for(S in U){V.style[S]=U[S]}V.appendChild(T),P=R||document.documentElement,P.insertBefore(V,P.firstChild),T.style.cssText="position: absolute; left: 10.7432222px;",Q=D(T).offset().left,D.support.offsetFractions=Q>10&&11>Q,V.innerHTML="",P.removeChild(V)}()})(jQuery);(function(B,C){var A="ui-effects-";B.effects={effect:{}},function(G,Q){function J(U,V,S){var T=H[V.type]||{};return null==U?S||!V.def?null:V.def:(U=T.floor?~~U:parseFloat(U),isNaN(U)?V.def:T.mod?(U+T.mod)%T.mod:0>U?0:U>T.max?T.max:U)}function F(S){var T=K(),U=T._rgba=[];return S=S.toLowerCase(),R(I,function(b,Y){var X,Z=Y.re.exec(S),V=Z&&Y.parse(Z),W=Y.space||"rgba";return V?(X=T[W](V),T[O[W].cache]=X[O[W].cache],U=T._rgba=X._rgba,!1):Q}),U.length?("0,0,0,0"===U.join()&&G.extend(U,N.transparent),T):N[S]}function L(T,U,S){return S=(S+1)%1,1>6*S?T+6*(U-T)*S:1>2*S?U:2>3*S?T+6*(U-T)*(2/3-S):T}var N,M="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",E=/^([\-+])=\s*(\d+\.?\d*)/,I=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(S){return[S[1],S[2],S[3],S[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(S){return[2.55*S[1],2.55*S[2],2.55*S[3],S[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(S){return[parseInt(S[1],16),parseInt(S[2],16),parseInt(S[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(S){return[parseInt(S[1]+S[1],16),parseInt(S[2]+S[2],16),parseInt(S[3]+S[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(S){return[S[1],S[2]/100,S[3]/100,S[4]]}}],K=G.Color=function(V,S,T,U){return new G.Color.fn.parse(V,S,T,U)},O={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},H={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},P=K.support={},D=G("<p>")[0],R=G.each;D.style.cssText="background-color:rgba(1,1,1,.5)",P.rgba=D.style.backgroundColor.indexOf("rgba")>-1,R(O,function(T,S){S.cache="_"+T,S.props.alpha={idx:3,type:"percent",def:1}}),K.fn=G.extend(K.prototype,{parse:function(T,U,W,S){if(T===Q){return this._rgba=[null,null,null,null],this}(T.jquery||T.nodeType)&&(T=G(T).css(U),U=Q);var Y=this,X=G.type(T),V=this._rgba=[];return U!==Q&&(T=[T,U,W,S],X="array"),"string"===X?this.parse(F(T)||N._default):"array"===X?(R(O.rgba.props,function(a,Z){V[Z.idx]=J(T[Z.idx],Z)}),this):"object"===X?(T instanceof K?R(O,function(a,Z){T[Z.cache]&&(Y[Z.cache]=T[Z.cache].slice())}):R(O,function(c,b){var Z=b.cache;R(b.props,function(d,a){if(!Y[Z]&&b.to){if("alpha"===d||null==T[d]){return}Y[Z]=b.to(Y._rgba)}Y[Z][a.idx]=J(T[d],a,!0)}),Y[Z]&&0>G.inArray(null,Y[Z].slice(0,3))&&(Y[Z][3]=1,b.from&&(Y._rgba=b.from(Y[Z])))}),this):Q},is:function(U){var S=K(U),T=!0,V=this;return R(O,function(Z,Y){var W,X=S[Y.cache];return X&&(W=V[Y.cache]||Y.to&&Y.to(V._rgba)||[],R(Y.props,function(b,a){return null!=X[a.idx]?T=X[a.idx]===W[a.idx]:Q})),T}),T},_space:function(){var T=[],S=this;return R(O,function(U,V){S[V.cache]&&T.push(U)}),T.pop()},transition:function(Z,Y){var X=K(Z),T=X._space(),V=O[T],U=0===this.alpha()?K("transparent"):this,W=U[V.cache]||V.to(U._rgba),S=W.slice();return X=X[V.cache],R(V.props,function(h,d){var f=d.idx,e=W[f],b=X[f],g=H[d.type]||{};null!==b&&(null===e?S[f]=b:(g.mod&&(b-e>g.mod/2?e+=g.mod:e-b>g.mod/2&&(e-=g.mod)),S[f]=J((b-e)*Y+e,d)))}),this[T](S)},blend:function(V){if(1===this._rgba[3]){return this}var S=this._rgba.slice(),T=S.pop(),U=K(V)._rgba;return K(G.map(S,function(X,W){return(1-T)*U[W]+T*X}))},toRgbaString:function(){var S="rgba(",T=G.map(this._rgba,function(V,U){return null==V?U>2?1:0:V});return 1===T[3]&&(T.pop(),S="rgb("),S+T.join()+")"},toHslaString:function(){var S="hsla(",T=G.map(this.hsla(),function(V,U){return null==V&&(V=U>2?1:0),U&&3>U&&(V=Math.round(100*V)+"%"),V});return 1===T[3]&&(T.pop(),S="hsl("),S+T.join()+")"},toHexString:function(U){var S=this._rgba.slice(),T=S.pop();return U&&S.push(~~(255*T)),"#"+G.map(S,function(V){return V=(V||0).toString(16),1===V.length?"0"+V:V}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),K.fn.parse.prototype=K.fn,O.hsla.to=function(d){if(null==d[0]||null==d[1]||null==d[2]){return[null,null,null,d[3]]}var b,T,Z=d[0]/255,V=d[1]/255,X=d[2]/255,W=d[3],Y=Math.max(Z,V,X),S=Math.min(Z,V,X),U=Y-S,f=Y+S,g=0.5*f;return b=S===Y?0:Z===Y?60*(V-X)/U+360:V===Y?60*(X-Z)/U+120:60*(Z-V)/U+240,T=0===U?0:0.5>=g?U/f:U/(2-f),[Math.round(b)%360,T,g,null==W?1:W]},O.hsla.from=function(Y){if(null==Y[0]||null==Y[1]||null==Y[2]){return[null,null,null,Y[3]]}var X=Y[0]/360,S=Y[1],W=Y[2],U=Y[3],T=0.5>=W?W*(1+S):W+S-W*S,V=2*W-T;return[Math.round(255*L(V,T,X+1/3)),Math.round(255*L(V,T,X)),Math.round(255*L(V,T,X-1/3)),U]},R(O,function(X,T){var V=T.props,U=T.cache,S=T.to,W=T.from;K.fn[X]=function(Z){if(S&&!this[U]&&(this[U]=S(this._rgba)),Z===Q){return this[U].slice()}var c,Y=G.type(Z),a="array"===Y||"object"===Y?Z:arguments,b=this[U].slice();return R(V,function(f,g){var d=a["object"===Y?f:g.idx];null==d&&(d=b[g.idx]),b[g.idx]=J(d,g)}),W?(c=K(W(b)),c[U]=b,c):K(b)},R(V,function(Y,Z){K.fn[Y]||(K.fn[Y]=function(e){var g,f=G.type(e),b="alpha"===Y?this._hsla?"hsla":"rgba":X,d=this[b](),j=d[Z.idx];return"undefined"===f?j:("function"===f&&(e=e.call(this,j),f=G.type(e)),null==e&&Z.empty?this:("string"===f&&(g=E.exec(e),g&&(e=j+parseFloat(g[2])*("+"===g[1]?1:-1))),d[Z.idx]=e,this[b](d)))})})}),K.hook=function(S){var T=S.split(" ");R(T,function(U,V){G.cssHooks[V]={set:function(c,X){var Z,Y,b="";if("transparent"!==X&&("string"!==G.type(X)||(Z=F(X)))){if(X=K(Z||X),!P.rgba&&1!==X._rgba[3]){for(Y="backgroundColor"===V?c.parentNode:c;(""===b||"transparent"===b)&&Y&&Y.style;){try{b=G.css(Y,"backgroundColor"),Y=Y.parentNode}catch(W){}}X=X.blend(b&&"transparent"!==b?b:"_default")}X=X.toRgbaString()}try{c.style[V]=X}catch(W){}}},G.fx.step[V]=function(W){W.colorInit||(W.start=K(W.elem,V),W.end=K(W.end),W.colorInit=!0),G.cssHooks[V].set(W.elem,W.start.transition(W.end,W.pos))}})},K.hook(M),G.cssHooks.borderColor={expand:function(T){var S={};return R(["Top","Right","Bottom","Left"],function(U,V){S["border"+V+"Color"]=T}),S}},N=G.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function E(L){var I,J,K=L.ownerDocument.defaultView?L.ownerDocument.defaultView.getComputedStyle(L,null):L.currentStyle,H={};if(K&&K.length&&K[0]&&K[K[0]]){for(J=K.length;J--;){I=K[J],"string"==typeof K[I]&&(H[B.camelCase(I)]=K[I])}}else{for(I in K){"string"==typeof K[I]&&(H[I]=K[I])}}return H}function F(L,I){var J,K,H={};for(J in I){K=I[J],L[J]!==K&&(D[J]||(B.fx.step[J]||!isNaN(parseFloat(K)))&&(H[J]=K))}return H}var G=["add","remove","toggle"],D={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};B.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(H,I){B.fx.step[I]=function(J){("none"!==J.end&&!J.setAttr||1===J.pos&&!J.setAttr)&&(jQuery.style(J.elem,I,J.end),J.setAttr=!0)}}),B.fn.addBack||(B.fn.addBack=function(H){return this.add(null==H?this.prevObject:this.prevObject.filter(H))}),B.effects.animateClass=function(L,J,H,I){var K=B.speed(J,H,I);return this.queue(function(){var O,M=B(this),N=M.attr("class")||"",P=K.children?M.find("*").addBack():M;P=P.map(function(){var Q=B(this);return{el:Q,start:E(this)}}),O=function(){B.each(G,function(R,Q){L[Q]&&M[Q+"Class"](L[Q])})},O(),P=P.map(function(){return this.end=E(this.el[0]),this.diff=F(this.start,this.end),this}),M.attr("class",N),P=P.map(function(){var S=this,Q=B.Deferred(),R=B.extend({},K,{queue:!1,complete:function(){Q.resolve(S)}});return this.el.animate(this.diff,R),Q.promise()}),B.when.apply(B,P.get()).done(function(){O(),B.each(arguments,function(){var Q=this.el;B.each(this.diff,function(R){Q.css(R,"")})}),K.complete.call(M[0])})})},B.fn.extend({addClass:function(H){return function(J,K,L,I){return K?B.effects.animateClass.call(this,{add:J},K,L,I):H.apply(this,arguments)}}(B.fn.addClass),removeClass:function(H){return function(J,K,L,I){return arguments.length>1?B.effects.animateClass.call(this,{remove:J},K,L,I):H.apply(this,arguments)}}(B.fn.removeClass),toggleClass:function(H){return function(K,M,J,I,L){return"boolean"==typeof M||M===C?J?B.effects.animateClass.call(this,M?{add:K}:{remove:K},J,I,L):H.apply(this,arguments):B.effects.animateClass.call(this,{toggle:K},M,J,I)}}(B.fn.toggleClass),switchClass:function(L,I,J,K,H){return B.effects.animateClass.call(this,{add:I,remove:L},J,K,H)}})}(),function(){function E(I,F,G,H){return B.isPlainObject(I)&&(F=I,I=I.effect),I={effect:I},null==F&&(F={}),B.isFunction(F)&&(H=F,G=null,F={}),("number"==typeof F||B.fx.speeds[F])&&(H=G,G=F,F={}),B.isFunction(G)&&(H=G,G=null),F&&B.extend(I,F),G=G||F.duration,I.duration=B.fx.off?0:"number"==typeof G?G:G in B.fx.speeds?B.fx.speeds[G]:B.fx.speeds._default,I.complete=H||F.complete,I}function D(F){return !F||"number"==typeof F||B.fx.speeds[F]?!0:"string"!=typeof F||B.effects.effect[F]?B.isFunction(F)?!0:"object"!=typeof F||F.effect?!1:!0:!0}B.extend(B.effects,{version:"1.10.2",save:function(G,H){for(var F=0;H.length>F;F++){null!==H[F]&&G.data(A+H[F],G[0].style[H[F]])}},restore:function(H,G){var I,F;for(F=0;G.length>F;F++){null!==G[F]&&(I=H.data(A+G[F]),I===C&&(I=""),H.css(G[F],I))}},setMode:function(G,F){return"toggle"===F&&(F=G.is(":hidden")?"show":"hide"),F},getBaseline:function(H,I){var F,G;switch(H[0]){case"top":F=0;break;case"middle":F=0.5;break;case"bottom":F=1;break;default:F=H[0]/I.height}switch(H[1]){case"left":G=0;break;case"center":G=0.5;break;case"right":G=1;break;default:G=H[1]/I.width}return{x:G,y:F}},createWrapper:function(K){if(K.parent().is(".ui-effects-wrapper")){return K.parent()}var F={width:K.outerWidth(!0),height:K.outerHeight(!0),"float":K.css("float")},J=B("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),G={width:K.width(),height:K.height()},I=document.activeElement;try{I.id}catch(H){I=document.body}return K.wrap(J),(K[0]===I||B.contains(K[0],I))&&B(I).focus(),J=K.parent(),"static"===K.css("position")?(J.css({position:"relative"}),K.css({position:"relative"})):(B.extend(F,{position:K.css("position"),zIndex:K.css("z-index")}),B.each(["top","left","bottom","right"],function(M,L){F[L]=K.css(L),isNaN(parseInt(F[L],10))&&(F[L]="auto")}),K.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),K.css(G),J.css(F).show()},removeWrapper:function(F){var G=document.activeElement;return F.parent().is(".ui-effects-wrapper")&&(F.parent().replaceWith(F),(F[0]===G||B.contains(F[0],G))&&B(G).focus()),F},setTransition:function(I,F,G,H){return H=H||{},B.each(F,function(L,J){var K=I.cssUnit(J);K[0]>0&&(H[J]=K[0]*G+K[1])}),H}}),B.fn.extend({effect:function(){function J(O){function M(){B.isFunction(L)&&L.call(N[0]),B.isFunction(O)&&O()}var N=B(this),L=G.complete,K=G.mode;(N.is(":hidden")?"hide"===K:"show"===K)?(N[K](),M()):F.call(N[0],G,M)}var G=E.apply(this,arguments),I=G.mode,H=G.queue,F=B.effects.effect[G.effect];return B.fx.off||!F?I?this[I](G.duration,G.complete):this.each(function(){G.complete&&G.complete.call(this)}):H===!1?this.each(J):this.queue(H||"fx",J)},show:function(F){return function(G){if(D(G)){return F.apply(this,arguments)}var H=E.apply(this,arguments);return H.mode="show",this.effect.call(this,H)}}(B.fn.show),hide:function(F){return function(G){if(D(G)){return F.apply(this,arguments)}var H=E.apply(this,arguments);return H.mode="hide",this.effect.call(this,H)}}(B.fn.hide),toggle:function(F){return function(G){if(D(G)||"boolean"==typeof G){return F.apply(this,arguments)}var H=E.apply(this,arguments);return H.mode="toggle",this.effect.call(this,H)}}(B.fn.toggle),cssUnit:function(H){var F=this.css(H),G=[];return B.each(["em","px","%","pt"],function(J,I){F.indexOf(I)>0&&(G=[parseFloat(F),I])}),G}})}(),function(){var D={};B.each(["Quad","Cubic","Quart","Quint","Expo"],function(F,E){D[E]=function(G){return Math.pow(G,F+2)}}),B.extend(D,{Sine:function(E){return 1-Math.cos(E*Math.PI/2)},Circ:function(E){return 1-Math.sqrt(1-E*E)},Elastic:function(E){return 0===E||1===E?E:-Math.pow(2,8*(E-1))*Math.sin((80*(E-1)-7.5)*Math.PI/15)},Back:function(E){return E*E*(3*E-2)},Bounce:function(F){for(var G,E=4;((G=Math.pow(2,--E))-1)/11>F;){}return 1/Math.pow(4,3-E)-7.5625*Math.pow((3*G-2)/22-F,2)}}),B.each(D,function(E,F){B.easing["easeIn"+E]=F,B.easing["easeOut"+E]=function(G){return 1-F(1-G)},B.easing["easeInOut"+E]=function(G){return 0.5>G?F(2*G)/2:1-F(-2*G+2)/2}})}()})(jQuery);(function(B){var A=B.scrollTo=function(E,D,F){B(window).scrollTo(E,D,F)};A.defaults={axis:"xy",duration:parseFloat(B.fn.jquery)>=1.3?0:1};A.window=function(D){return B(window)._scrollable()};B.fn._scrollable=function(){return this.map(function(){var E=this,D=!E.nodeName||B.inArray(E.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!D){return E}var F=(E.contentWindow||E).document||E.ownerDocument||E;return B.browser.safari||F.compatMode=="BackCompat"?F.body:F.documentElement})};B.fn.scrollTo=function(F,D,E){if(typeof D=="object"){E=D;D=0}if(typeof E=="function"){E={onAfter:E}}if(F=="max"){F=9000000000}E=B.extend({},A.defaults,E);D=D||E.speed||E.duration;E.queue=E.queue&&E.axis.length>1;if(E.queue){D/=2}E.offset=C(E.offset);E.over=C(E.over);return this._scrollable().each(function(){var G=this,H=B(G),K=F,I,L={},M=H.is("html,body");switch(typeof K){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(K)){K=C(K);break}K=B(K,this);case"object":if(K.is||K.style){I=(K=B(K)).offset()}}B.each(E.axis.split(""),function(S,O){var U=O=="x"?"Left":"Top",N=U.toLowerCase(),T="scroll"+U,P=G[T],Q=A.max(G,O);if(I){L[T]=I[N]+(M?0:P-H.offset()[N]);if(E.margin){L[T]-=parseInt(K.css("margin"+U))||0;L[T]-=parseInt(K.css("border"+U+"Width"))||0}L[T]+=E.offset[N]||0;if(E.over[N]){L[T]+=K[O=="x"?"width":"height"]()*E.over[N]}}else{var R=K[N];L[T]=R.slice&&R.slice(-1)=="%"?parseFloat(R)/100*Q:R}if(/^\d+$/.test(L[T])){L[T]=L[T]<=0?0:Math.min(L[T],Q)}if(!S&&E.queue){if(P!=L[T]){J(E.onAfterFirst)}delete L[T]}});J(E.onAfter);function J(N){H.animate(L,D,E.easing,N&&function(){N.call(this,F,E)})}}).end()};A.max=function(H,E){var J=E=="x"?"Width":"Height",D="scroll"+J;if(!B(H).is("html,body")){return H[D]-B(H)[J.toLowerCase()]()}var I="client"+J,F=H.ownerDocument.documentElement,G=H.ownerDocument.body;return Math.max(F[D],G[D])-Math.min(F[I],G[I])};function C(D){return typeof D=="object"?D:{top:D,left:D}}})(jQuery);(function(E,A,H){var F=E([]),J=E.resize=E.extend(E.resize,{}),B,D="setTimeout",C="resize",I=C+"-special-event",G="delay",K="throttleWindow";J[G]=250;J[K]=true;E.event.special[C]={setup:function(){if(!J[K]&&this[D]){return false}var M=E(this);F=F.add(M);E.data(this,I,{w:M.width(),h:M.height()});if(F.length===1){L()}},teardown:function(){if(!J[K]&&this[D]){return false}var M=E(this);F=F.not(M);M.removeData(I);if(!F.length){clearTimeout(B)}},add:function(M){if(!J[K]&&this[D]){return false}var O;function N(R,P,T){var S=E(this),Q=E.data(this,I);Q.w=P!==H?P:S.width();Q.h=T!==H?T:S.height();O.apply(this,arguments)}if(E.isFunction(M)){O=M;return N}else{O=M.handler;M.handler=N}}};function L(){B=A[D](function(){F.each(function(){var P=E(this),O=P.width(),N=P.height(),M=E.data(this,I);if(O!==M.w||N!==M.h){P.trigger(C,[M.w=O,M.h=N])}});L()},J[G])}})(jQuery,this);if("undefined"!=typeof jQuery){(function(A){A.imgpreload=function(B,C){C=A.extend({},A.fn.imgpreload.defaults,C instanceof Function?{all:C}:C);if("string"==typeof B){B=new Array(B)}var D=new Array;A.each(B,function(I,E){var F=new Image;var H=E;var G=F;if("string"!=typeof E){H=A(E).attr("src");G=E}A(F).bind("load error",function(J){D.push(G);A.data(G,"loaded","error"==J.type?false:true);if(C.each instanceof Function){C.each.call(G)}if(D.length>=B.length&&C.all instanceof Function){C.all.call(D)}});F.src=H})};A.fn.imgpreload=function(B){A.imgpreload(this,B);return this};A.fn.imgpreload.defaults={each:null,all:null}})(jQuery)}if(typeof deconcept=="undefined"){var deconcept={}}if(typeof deconcept.util=="undefined"){deconcept.util={}}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil={}}deconcept.SWFObject=function(F,D,L,A,H,J,E,I,K,C){if(!document.getElementById){return}this.DETECT_KEY=C?C:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params={};this.variables={};this.attributes=[];if(F){this.setAttribute("swf",F)}if(D){this.setAttribute("id",D)}if(L){this.setAttribute("width",L)}if(A){this.setAttribute("height",A)}if(H){this.setAttribute("version",new deconcept.PlayerVersion(H.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true}}if(J){this.addParam("bgcolor",J)}var G=E?E:"high";this.addParam("quality",G);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var B=(I)?I:window.location;this.setAttribute("xiRedirectUrl",B);this.setAttribute("redirectUrl","");if(K){this.setAttribute("redirectUrl",K)}};deconcept.SWFObject.prototype={useExpressInstall:function(A){this.xiSWFPath=!A?"expressinstall.swf":A;this.setAttribute("useExpressInstall",true)},setAttribute:function(A,B){this.attributes[A]=B},getAttribute:function(A){return this.attributes[A]||""},addParam:function(A,B){this.params[A]=B},getParams:function(){return this.params},addVariable:function(A,B){this.variables[A]=B},getVariable:function(A){return this.variables[A]||""},getVariables:function(){return this.variables},getVariablePairs:function(){var B=[];var C;var A=this.getVariables();for(C in A){B[B.length]=C+"="+A[C]}return B},getSWFHTML:function(){var D="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}D='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+(this.getAttribute("style")||"")+'"';D+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var C=this.getParams();for(var B in C){D+=[B]+'="'+C[B]+'" '}var A=this.getVariablePairs().join("&");if(A.length>0){D+='flashvars="'+A+'"'}D+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}D='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+(this.getAttribute("style")||"")+'">';D+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var C=this.getParams();for(var B in C){D+='<param name="'+B+'" value="'+C[B]+'" />'}var A=this.getVariablePairs().join("&");if(A.length>0){D+='<param name="flashvars" value="'+A+'" />'}D+="</object>"}return D},write:function(B){if(this.getAttribute("useExpressInstall")){var A=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(A)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var C=(typeof B=="string")?document.getElementById(B):B;C.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var C=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var D=navigator.plugins["Shockwave Flash"];if(D&&D.description){C=new deconcept.PlayerVersion(D.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var A=1;var B=3;while(A){try{B++;A=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+B);C=new deconcept.PlayerVersion([B,0,0])}catch(E){A=null}}}else{try{var A=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(E){try{var A=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");C=new deconcept.PlayerVersion([6,0,21]);A.AllowScriptAccess="always"}catch(E){if(C.major==6){return C}}try{A=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(E){}}if(A!=null){C=new deconcept.PlayerVersion(A.GetVariable("$version").split(" ")[1].split(","))}}}return C};deconcept.PlayerVersion=function(A){this.major=A[0]!=null?parseInt(A[0]):0;this.minor=A[1]!=null?parseInt(A[1]):0;this.rev=A[2]!=null?parseInt(A[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(A){if(this.major<A.major){return false}if(this.major>A.major){return true}if(this.minor<A.minor){return false}if(this.minor>A.minor){return true}if(this.rev<A.rev){return false}return true};deconcept.util={getRequestParameter:function(C){var A=document.location.search||document.location.hash;if(C==null){return A}if(A){var B=A.substring(1).split("&");for(var D=0;D<B.length;D++){if(B[D].substring(0,B[D].indexOf("="))==C){return B[D].substring((B[D].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var C=document.getElementsByTagName("OBJECT");for(var A=C.length-1;A>=0;A--){C[A].style.display="none";for(var B in C[A]){if(typeof C[A][B]=="function"){C[A][B]=function(){}}}}};if(!document.getElementById&&document.all){document.getElementById=function(A){return document.all[A]}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;jQuery.fn.countdown=function(options){if(!options){options="()"}if(jQuerySL(this).length==0){return false}var obj=this;if(options.seconds<0||options.seconds=="undefined"){if(options.callback){eval(options.callback)}return null}function formatTime(seconds){var days=Math.floor(seconds/(60*60*24));seconds-=Math.floor(days*(60*60*24));var hours=Math.floor(seconds/(60*60));seconds-=Math.floor(hours*(60*60));var minutes=Math.floor(seconds/60);seconds-=Math.floor(minutes*60);var time="";if(hours>0||days>0){time+=(hours<10?"0"+hours:hours)+":"}else{time+="00:"}if(days>0||hours>0||minutes>0){time+=(minutes<10?"0"+minutes:minutes)+":"}else{time+="00:"}time+=(Math.floor(seconds)<10?"0"+Math.floor(seconds):Math.floor(seconds));return time}window.setTimeout(function(){var Output="";if(options.text&&options.placeholder){Output=String(options.text.replace(options.placeholder,formatTime(options.seconds)))}else{Output=String(formatTime(options.seconds))}jQuerySL(obj).html(Output);--options.seconds;jQuerySL(obj).countdown(options)},1000);return this};jQuery.fn.countdown.stop=function(){window.clearTimeout(setTimeout("0")-1)};function DateTimeCountdown(J){var A=new Date();var D=A.getDay();var H=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday");var E=A.getMonth();var G=new Array("January","February","March","April","May","June","July","August","September","October","November","December");var I=A.getDate();var F=A.getFullYear();var K=A.getHours();var M="AM";if(K>=12){M="PM"}if(K>12){K=K-12}if(K==0){K=12}var C=A.getMinutes();C=AddZero(C);var L=A.getSeconds();L=AddZero(L);var B=H[D]+", "+G[E]+" "+I+", "+F;J.html(B+" "+K+":"+C+":"+L+" "+M)}$(document).ready(function(){if(typeof jQuerySL!="undefined"){var A=jQuerySL("#PageInfo .Time");if(A.length>0){setInterval(function(){if(Date.CultureInfo!=null&&Date.CultureInfo!=undefined){var C=new Date(new Date().getTime());var B=C.toString(Date.CultureInfo.formatPatterns.fullDateTime);A.text(B)}else{DateTimeCountdown(A)}},1000)}}});function AddZero(A){if(A<10){A="0"+A}return A}jQuery.cookie=function(F,A,B){if(arguments.length>1&&String(A)!=="[object Object]"){B=jQuerySL.extend({},B);if(A===null||A===undefined){B.expires=-1}if(typeof B.expires==="number"){var E=B.expires,G=B.expires=new Date();G.setDate(G.getDate()+E)}A=String(A);return(document.cookie=[encodeURIComponent(F),"=",B.raw?A:encodeURIComponent(A),B.expires?"; expires="+B.expires.toUTCString():"",B.path?"; path="+B.path:"",B.domain?"; domain="+B.domain:"",B.secure?"; secure":""].join(""))}B=A||{};var D,C=B.raw?function(H){return H}:decodeURIComponent;return(D=new RegExp("(?:^|; )"+encodeURIComponent(F)+"=([^;]*)").exec(document.cookie))?C(D[1]):null};var jQuerySL=jQuery.noConflict(true);
/*file name: /js/Utilities.aspx */
if(typeof SCRIBBLE==="undefined"||!SCRIBBLE){var SCRIBBLE={}}SCRIBBLE.namespace=function(){var C=arguments,A=null,B,E,D;for(B=0;B<C.length;B=B+1){D=C[B].split(".");A=SCRIBBLE;for(E=0;E<D.length;E=E+1){A[D[E]]=A[D[E]]||{};A=A[D[E]]}}return A};(function(){var $U=SCRIBBLE.namespace("utilities");var ConvertPostToOldFormat=function(Post,pOpts){pOpts=pOpts||{};var LastModifiedDate=Post.LastModified.replace(/\/Date\(((\d+)\+(\d+))\)\//,"$2");var LastModifiedDateInt=parseInt(LastModifiedDate);var PostLastModified=new Date(LastModifiedDateInt);var UTCffSetInt=(new Date()).getTimezoneOffset();PostLastModified.addMinutes(UTCffSetInt);Post.CreatorName=Post.Creator.Name;Post.CreatorId=Post.Creator.Id;Post.CreatorThumbnail=Post.Creator.Avatar;Post.Date=PostLastModified.toString("yyyy/MM/dd hh:mm:ss tt");if(Post.Editor){Post.EditorId=Post.Editor.Id;Post.EditorName=Post.Editor.Name}else{Post.EditorId=""}if(Post.IsStuck==1){Post.Rank="0"}if(Post.Creator.LoginProvider){Post.LoginProvider=Post.Creator.LoginProvider.Type.toString().toUpperCase().charAt(0)+Post.Creator.LoginProvider.Type.toString().toLowerCase().substring(1)}Post.Group=(typeof(pOpts.Group)!=="undefined"?pOpts.Group:(typeof(Post.Group)!=="undefined"?Post.Group:0));var PostDate=eval("new "+(Post.LastModified.replace(/\//g,"")));Post.Date=(PostDate.getUTCMonth()+1)+"/"+PostDate.getUTCDate()+"/"+PostDate.getUTCFullYear()+" "+(PostDate.getUTCHours())+":"+PostDate.getUTCMinutes()+":"+PostDate.getUTCSeconds();Post.ReceivedDate=Post.Date;for(var m in Post.Media){if(Post.Media[m].Type=="IMAGE"){if(Post.Content!=""){Post.Caption=Post.Content}Post.Content=Post.Media[m].Url;Post.Type=2}else{if(Post.Media[m].Type=="VIDEO"){if(Post.Content!=""){Post.Caption=Post.Content}Post.Content=Post.Media[m].Url;if(!Post.Content.match(/https:\/\/vines.s3.amazonaws.com/i)){Post.Content=Post.Content.replace(/\.mp4$/,".xml")}Post.Type=3;break}else{if(Post.Media[m].Type=="AUDIO"){if(Post.Content!=""){Post.Caption=Post.Content}Post.Content=Post.Media[m].Url.replace(/\.mp3$/,".xml");Post.Type=6;break}}}}if(Post.Type=="POLL"){Post.Type=9}return Post};var GetElementsByClassName=function(className,tag,elm){if(document.getElementsByClassName){getElementsByClassName=function(className,tag,elm){elm=elm||document;var elements=elm.getElementsByClassName(className),nodeName=(tag)?new RegExp("\\b"+tag+"\\b","i"):null,returnElements=[],current;for(var i=0,il=elements.length;i<il;i+=1){current=elements[i];if(!nodeName||nodeName.test(current.nodeName)){returnElements.push(current)}}return returnElements}}else{if(document.evaluate){getElementsByClassName=function(className,tag,elm){tag=tag||"*";elm=elm||document;var classes=className.split(" "),classesToCheck="",xhtmlNamespace="http://www.w3.org/1999/xhtml",namespaceResolver=(document.documentElement.namespaceURI===xhtmlNamespace)?xhtmlNamespace:null,returnElements=[],elements,node;for(var j=0,jl=classes.length;j<jl;j+=1){classesToCheck+="[contains(concat(' ', @class, ' '), ' "+classes[j]+" ')]"}try{elements=document.evaluate(".//"+tag+classesToCheck,elm,namespaceResolver,0,null)}catch(e){elements=document.evaluate(".//"+tag+classesToCheck,elm,null,0,null)}while((node=elements.iterateNext())){returnElements.push(node)}return returnElements}}else{getElementsByClassName=function(className,tag,elm){tag=tag||"*";elm=elm||document;var classes=className.split(" "),classesToCheck=[],elements=(tag==="*"&&elm.all)?elm.all:elm.getElementsByTagName(tag),current,returnElements=[],match;for(var k=0,kl=classes.length;k<kl;k+=1){classesToCheck.push(new RegExp("(^|\\s)"+classes[k]+"(\\s|$)"))}for(var l=0,ll=elements.length;l<ll;l+=1){current=elements[l];match=false;for(var m=0,ml=classesToCheck.length;m<ml;m+=1){match=classesToCheck[m].test(current.className);if(!match){break}}if(match){returnElements.push(current)}}return returnElements}}}return getElementsByClassName(className,tag,elm)};var ConvertImageUrl=function(pUrl){if(pUrl.match(/twitpic.com\//i)){var id=pUrl.match(/twitpic.com\/([0-9a-z]+)/);if(id.length>0){return"http://twitpic.com/show/full/"+id[1]}}else{if(pUrl.match(/twitgoo.com\//i)){var id=pUrl.match(/twitgoo.com\/([0-9a-z]+)/);if(id.length>0){return"http://twitgoo.com/show/img/"+id[1]}}else{if(pUrl.match(/tweetphoto.com\//i)||pUrl.match(/plixi.com\//i)||pUrl.match(/lockerz.com\//i)){return"http://api.plixi.com/api/tpapi.svc/imagefromurl?size=big&url="+pUrl}else{if(pUrl.match(/mobypicture.com\//i)||pUrl.match(/moby.to\//i)){return null}else{if(pUrl.match(/instagr.am\//i)||pUrl.match(/instagram.com\//i)){return pUrl+(pUrl.match(/\/$/)?"media":"/media")}else{if(pUrl.match(/yfrog/i)&&pUrl.match(/[\.\/]yfrog\.(com|ru|fr|it|co|pl|eu)[^\/]\/([a-z0-9_\-]+)$/i)){var id=pUrl.match(/[\.\/]yfrog\.(com|ru|fr|it|co|pl|eu)[^\/]\/([a-z0-9_\-]+)$/i);if(id.length>0){return"http://yfrog.com/"+id[2]+":iphone"}}}}}}}return null};$U.ConvertPostToOldFormat=ConvertPostToOldFormat;$U.GetElementsByClassName=GetElementsByClassName;$U.ConvertImageUrl=ConvertImageUrl}());Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};(function(){var H=Date,E=H.prototype,G=H.CultureInfo,D=function(I,J){if(!J){J=2}return("000"+I).slice(J*-1)};E.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};E.setTimeToNow=function(){var I=new Date();this.setHours(I.getHours());this.setMinutes(I.getMinutes());this.setSeconds(I.getSeconds());this.setMilliseconds(I.getMilliseconds());return this};H.today=function(){return new Date().clearTime()};H.compare=function(I,J){if(isNaN(I)||isNaN(J)){throw new Error(I+" - "+J)}else{if(I instanceof Date&&J instanceof Date){return(I<J)?-1:(I>J)?1:0}else{throw new TypeError(I+" - "+J)}}};H.equals=function(I,J){return(I.compareTo(J)===0)};H.getDayNumberFromName=function(N){var K=G.dayNames,J=G.abbreviatedDayNames,L=G.shortestDayNames,M=N.toLowerCase();for(var I=0;I<K.length;I++){if(K[I].toLowerCase()==M||J[I].toLowerCase()==M||L[I].toLowerCase()==M){return I}}return -1};H.getMonthNumberFromName=function(M){var K=G.monthNames,L=G.abbreviatedMonthNames,J=M.toLowerCase();for(var I=0;I<K.length;I++){if(K[I].toLowerCase()==J||L[I].toLowerCase()==J){return I}}return -1};H.isLeapYear=function(I){return((I%4===0&&I%100!==0)||I%400===0)};H.getDaysInMonth=function(J,I){return[31,(H.isLeapYear(J)?29:28),31,30,31,30,31,31,30,31,30,31][I]};H.getTimezoneAbbreviation=function(L){var I=G.timezones,K;for(var J=0;J<I.length;J++){if(I[J].offset===L){return I[J].name}}return null};H.getTimezoneOffset=function(L){var I=G.timezones,K;for(var J=0;J<I.length;J++){if(I[J].name===L.toUpperCase()){return I[J].offset}}return null};E.clone=function(){return new Date(this.getTime())};E.compareTo=function(I){return Date.compare(this,I)};E.equals=function(I){return Date.equals(this,I||new Date())};E.between=function(J,I){return this.getTime()>=J.getTime()&&this.getTime()<=I.getTime()};E.isAfter=function(I){return this.compareTo(I||new Date())===1};E.isBefore=function(I){return(this.compareTo(I||new Date())===-1)};E.isToday=E.isSameDay=function(I){return this.clone().clearTime().equals((I||new Date()).clone().clearTime())};E.addMilliseconds=function(I){this.setMilliseconds(this.getMilliseconds()+I*1);return this};E.addSeconds=function(I){return this.addMilliseconds(I*1000)};E.addMinutes=function(I){return this.addMilliseconds(I*60000)};E.addHours=function(I){return this.addMilliseconds(I*3600000)};E.addDays=function(I){this.setDate(this.getDate()+I*1);return this};E.addWeeks=function(I){return this.addDays(I*7)};E.addMonths=function(J){var I=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+J*1);this.setDate(Math.min(I,H.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};E.addYears=function(I){return this.addMonths(I*12)};E.add=function(I){if(typeof I=="number"){this._orient=I;return this}var J=I;if(J.milliseconds){this.addMilliseconds(J.milliseconds)}if(J.seconds){this.addSeconds(J.seconds)}if(J.minutes){this.addMinutes(J.minutes)}if(J.hours){this.addHours(J.hours)}if(J.weeks){this.addWeeks(J.weeks)}if(J.months){this.addMonths(J.months)}if(J.years){this.addYears(J.years)}if(J.days){this.addDays(J.days)}return this};var A,C,F;E.getWeek=function(){var K,L,M,N,O,P,Q,J,R,I;A=(!A)?this.getFullYear():A;C=(!C)?this.getMonth()+1:C;F=(!F)?this.getDate():F;if(C<=2){K=A-1;L=(K/4|0)-(K/100|0)+(K/400|0);M=((K-1)/4|0)-((K-1)/100|0)+((K-1)/400|0);R=L-M;O=0;P=F-1+(31*(C-1))}else{K=A;L=(K/4|0)-(K/100|0)+(K/400|0);M=((K-1)/4|0)-((K-1)/100|0)+((K-1)/400|0);R=L-M;O=R+1;P=F+((153*(C-3)+2)/5)+58+R}Q=(K+L)%7;N=(P+Q-O)%7;J=(P+3-N)|0;if(J<0){I=53-((Q-R)/5|0)}else{if(J>364+R){I=1}else{I=(J/7|0)+1}}A=C=F=null;return I};E.getISOWeek=function(){A=this.getUTCFullYear();C=this.getUTCMonth()+1;F=this.getUTCDate();return D(this.getWeek())};E.setWeek=function(I){return this.moveToDayOfWeek(1).addWeeks(I-this.getWeek())};var B=function(L,I,K,J){if(typeof L=="undefined"){return false}else{if(typeof L!="number"){throw new TypeError(L+" is not a Number.")}else{if(L<I||L>K){throw new RangeError(L+" is not a valid value for "+J+".")}}}return true};H.validateMillisecond=function(I){return B(I,0,999,"millisecond")};H.validateSecond=function(I){return B(I,0,59,"second")};H.validateMinute=function(I){return B(I,0,59,"minute")};H.validateHour=function(I){return B(I,0,23,"hour")};H.validateDay=function(I,J,K){return B(I,1,H.getDaysInMonth(J,K),"day")};H.validateMonth=function(I){return B(I,0,11,"month")};H.validateYear=function(I){return B(I,0,9999,"year")};E.set=function(I){if(H.validateMillisecond(I.millisecond)){this.addMilliseconds(I.millisecond-this.getMilliseconds())}if(H.validateSecond(I.second)){this.addSeconds(I.second-this.getSeconds())}if(H.validateMinute(I.minute)){this.addMinutes(I.minute-this.getMinutes())}if(H.validateHour(I.hour)){this.addHours(I.hour-this.getHours())}if(H.validateMonth(I.month)){this.addMonths(I.month-this.getMonth())}if(H.validateYear(I.year)){this.addYears(I.year-this.getFullYear())}if(H.validateDay(I.day,this.getFullYear(),this.getMonth())){this.addDays(I.day-this.getDate())}if(I.timezone){this.setTimezone(I.timezone)}if(I.timezoneOffset){this.setTimezoneOffset(I.timezoneOffset)}if(I.week&&B(I.week,0,53,"week")){this.setWeek(I.week)}return this};E.moveToFirstDayOfMonth=function(){return this.set({day:1})};E.moveToLastDayOfMonth=function(){return this.set({day:H.getDaysInMonth(this.getFullYear(),this.getMonth())})};E.moveToNthOccurrence=function(J,K){var I=0;if(K>0){I=K-1}else{if(K===-1){this.moveToLastDayOfMonth();if(this.getDay()!==J){this.moveToDayOfWeek(J,-1)}return this}}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(J,+1).addWeeks(I)};E.moveToDayOfWeek=function(K,J){var I=(K-this.getDay()+7*(J||+1))%7;return this.addDays((I===0)?I+=7*(J||+1):I)};E.moveToMonth=function(K,J){var I=(K-this.getMonth()+12*(J||+1))%12;return this.addMonths((I===0)?I+=12*(J||+1):I)};E.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/86400000)+1};E.getTimezone=function(){return H.getTimezoneAbbreviation(this.getUTCOffset())};E.setTimezoneOffset=function(K){var I=this.getTimezoneOffset(),J=Number(K)*-6/10;return this.addMinutes(J-I)};E.setTimezone=function(I){return this.setTimezoneOffset(H.getTimezoneOffset(I))};E.hasDaylightSavingTime=function(){return(Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset())};E.isDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!=this.getTimezoneOffset()};E.getUTCOffset=function(){var I=this.getTimezoneOffset()*-10/6,J;if(I<0){J=(I-10000).toString();return J.charAt(0)+J.substr(2)}else{J=(I+10000).toString();return"+"+J.substr(1)}};E.getElapsed=function(I){return(I||new Date())-this};if(!E.toISOString){E.toISOString=function(){function I(J){return J<10?"0"+J:J}return'"'+this.getUTCFullYear()+"-"+I(this.getUTCMonth()+1)+"-"+I(this.getUTCDate())+"T"+I(this.getUTCHours())+":"+I(this.getUTCMinutes())+":"+I(this.getUTCSeconds())+'Z"'}}if(E._toString==undefined){E._toString=E.toString}E.toString=function(I){var J=this;if(I&&I.length==1){var M=G.formatPatterns;J.t=J.toString;switch(I){case"d":return J.t(M.shortDate);case"D":return J.t(M.longDate);case"F":return J.t(M.fullDateTime);case"m":return J.t(M.monthDay);case"r":return J.t(M.rfc1123);case"s":return J.t(M.sortableDateTime);case"t":return J.t(M.shortTime);case"T":return J.t(M.longTime);case"u":return J.t(M.universalSortableDateTime);case"y":return J.t(M.yearMonth)}}var O=function(P){switch(P*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};var K=0;var N=null;if(I){N=I.match(/'.*?'/g);I=I.replace(/'.*?'/g,function(P){return"#"+K+++"#"})}I=I?I.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(P){if(P.charAt(0)==="\\"){return P.replace("\\","")}J.h=J.getHours;switch(P){case"hh":return D(J.h()<13?(J.h()===0?12:J.h()):(J.h()-12));case"h":return J.h()<13?(J.h()===0?12:J.h()):(J.h()-12);case"HH":return D(J.h());case"H":return J.h();case"mm":return D(J.getMinutes());case"m":return J.getMinutes();case"ss":return D(J.getSeconds());case"s":return J.getSeconds();case"yyyy":return D(J.getFullYear(),4);case"yy":return D(J.getFullYear());case"dddd":return G.dayNames[J.getDay()];case"ddd":return G.abbreviatedDayNames[J.getDay()];case"dd":return D(J.getDate());case"d":return J.getDate();case"MMMM":return G.monthNames[J.getMonth()];case"MMM":return G.abbreviatedMonthNames[J.getMonth()];case"MM":return D((J.getMonth()+1));case"M":return J.getMonth()+1;case"t":return J.h()<12?G.amDesignator.substring(0,1):G.pmDesignator.substring(0,1);case"tt":return J.h()<12?G.amDesignator:G.pmDesignator;case"S":return O(J.getDate());default:return P}}):this._toString();if(K>0){for(var L=0;L<K;L++){I=I.replace("#"+L+"#",N[L].match(/'(.*)'/)[1])}}return I}}());(function(){Date.Parsing={Exception:function(I){this.message="Parse error at '"+I.substring(0,10)+" ...'"}};var H=Date.Parsing;var D=H.Operators={rtoken:function(I){return function(K){var J=K.match(I);if(J){return([J[0],K.substring(J[0].length)])}else{throw new H.Exception(K)}}},token:function(I){return function(J){return D.rtoken(new RegExp("^s*"+J+"s*"))(J)}},stoken:function(I){return D.rtoken(new RegExp("^"+I))},until:function(I){return function(L){var J=[],K=null;while(L.length){try{K=I.call(this,L)}catch(M){J.push(K[0]);L=K[1];continue}break}return[J,L]}},many:function(I){return function(K){var J=[],M=null;while(K.length){try{M=I.call(this,K)}catch(L){return[J,K]}J.push(M[0]);K=M[1]}return[J,K]}},optional:function(I){return function(K){var J=null;try{J=I.call(this,K)}catch(L){return[null,K]}return[J[0],J[1]]}},not:function(I){return function(K){try{I.call(this,K)}catch(J){return[null,K]}throw new H.Exception(K)}},ignore:function(I){return I?function(K){var J=null;J=I.call(this,K);return[null,J[1]]}:null},product:function(){var L=arguments[0],I=Array.prototype.slice.call(arguments,1),J=[];for(var K=0;K<L.length;K++){J.push(D.each(L[K],I))}return J},cache:function(I){var K={},J=null;return function(M){try{J=K[M]=(K[M]||I.call(this,M))}catch(L){J=K[M]=L}if(J instanceof H.Exception){throw J}else{return J}}},any:function(){var I=arguments;return function(K){var J=null;for(var M=0;M<I.length;M++){if(I[M]==null){continue}try{J=(I[M].call(this,K))}catch(L){J=null}if(J){return J}}throw new H.Exception(K)}},each:function(){var I=arguments;return function(K){var J=[],N=null;for(var L=0;L<I.length;L++){if(I[L]==null){continue}try{N=(I[L].call(this,K))}catch(M){throw new H.Exception(K)}J.push(N[0]);K=N[1]}return[J,K]}},all:function(){var J=arguments,I=I;return I.each(I.optional(J))},sequence:function(K,J,I){J=J||D.rtoken(/^\s*/);I=I||null;if(K.length==1){return K[0]}return function(R){var Q=null,P=null;var M=[];for(var L=0;L<K.length;L++){try{Q=K[L].call(this,R)}catch(S){break}M.push(Q[0]);try{P=J.call(this,Q[1])}catch(N){P=null;break}R=P[1]}if(!Q){throw new H.Exception(R)}if(P){throw new H.Exception(P[1])}if(I){try{Q=I.call(this,Q[1])}catch(O){throw new H.Exception(Q[1])}}return[M,(Q?Q[1]:R)]}},between:function(J,L,K){K=K||J;var I=D.each(D.ignore(J),L,D.ignore(K));return function(M){var N=I.call(this,M);return[[N[0][0],r[0][2]],N[1]]}},list:function(K,J,I){J=J||D.rtoken(/^\s*/);I=I||null;return(K instanceof Array?D.each(D.product(K.slice(0,-1),D.ignore(J)),K.slice(-1),D.ignore(I)):D.each(D.many(D.each(K,D.ignore(J))),px,D.ignore(I)))},set:function(K,J,I){J=J||D.rtoken(/^\s*/);I=I||null;return function(P){var O=null,M=null,N=null,U=null,W=[[],P],V=false;for(var R=0;R<K.length;R++){N=null;M=null;O=null;V=(K.length==1);try{O=K[R].call(this,P)}catch(X){continue}U=[[O[0]],O[1]];if(O[1].length>0&&!V){try{N=J.call(this,O[1])}catch(L){V=true}}else{V=true}if(!V&&N[1].length===0){V=true}if(!V){var T=[];for(var S=0;S<K.length;S++){if(R!=S){T.push(K[S])}}M=D.set(T,J).call(this,N[1]);if(M[0].length>0){U[0]=U[0].concat(M[0]);U[1]=M[1]}}if(U[1].length<W[1].length){W=U}if(W[1].length===0){break}}if(W[0].length===0){return W}if(I){try{N=I.call(this,W[1])}catch(Q){throw new H.Exception(W[1])}W[1]=N[1]}return W}},forward:function(J,I){return function(K){return J[I].call(this,K)}},replace:function(I,J){return function(L){var K=I.call(this,L);return[J,K[1]]}},process:function(I,J){return function(L){var K=I.call(this,L);return[J.call(this,K[0]),K[1]]}},min:function(I,J){return function(K){var L=J.call(this,K);if(L[0].length<I){throw new H.Exception(K)}return L}}};var F=function(I){return function(){var L=null,K=[];if(arguments.length>1){L=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){L=arguments[0]}}if(L){for(var M=0,J=L.shift();M<J.length;M++){L.unshift(J[M]);K.push(I.apply(null,L));L.shift();return K}}else{return I.apply(null,arguments)}}};var E="optional not ignore cache".split(/\s/);for(var A=0;A<E.length;A++){D[E[A]]=F(D[E[A]])}var C=function(I){return function(){if(arguments[0] instanceof Array){return I.apply(null,arguments[0])}else{return I.apply(null,arguments)}}};var G="each any all".split(/\s/);for(var B=0;B<G.length;B++){D[G[B]]=C(D[G[B]])}}());(function(){var K=Date,H=K.prototype,J=K.CultureInfo;var I=function(M){var L=[];for(var N=0;N<M.length;N++){if(M[N] instanceof Array){L=L.concat(I(M[N]))}else{if(M[N]){L.push(M[N])}}}return L};K.Grammar={};K.Translator={hour:function(L){return function(){this.hour=Number(L)}},minute:function(L){return function(){this.minute=Number(L)}},second:function(L){return function(){this.second=Number(L)}},meridian:function(L){return function(){this.meridian=L.slice(0,1).toLowerCase()}},timezone:function(L){return function(){var M=L.replace(/[^\d\+\-]/g,"");if(M.length){this.timezoneOffset=Number(M)}else{this.timezone=L.toLowerCase()}}},day:function(M){var L=M[0];return function(){this.day=Number(L.match(/\d+/)[0])}},month:function(L){return function(){this.month=(L.length==3)?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(L)/4:Number(L)-1}},year:function(L){return function(){var M=Number(L);this.year=((L.length>2)?M:(M+(((M+2000)<J.twoDigitYearMax)?2000:1900)))}},rday:function(L){return function(){switch(L){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(N){N=(N instanceof Array)?N:[N];for(var L=0;L<N.length;L++){if(N[L]){N[L].call(this)}}var M=new Date();if((this.hour||this.minute)&&(!this.month&&!this.year&&!this.day)){this.day=M.getDate()}if(!this.year){this.year=M.getFullYear()}if(!this.month&&this.month!==0){this.month=M.getMonth()}if(!this.day){this.day=1}if(!this.hour){this.hour=0}if(!this.minute){this.minute=0}if(!this.second){this.second=0}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}if(this.day>K.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var O=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){O.set({timezone:this.timezone})}else{if(this.timezoneOffset){O.set({timezoneOffset:this.timezoneOffset})}}return O},finish:function(L){L=(L instanceof Array)?I(L):[L];if(L.length===0){return null}for(var M=0;M<L.length;M++){if(typeof L[M]=="function"){L[M].call(this)}}var R=K.today();if(this.now&&!this.unit&&!this.operator){return new Date()}else{if(this.now){R=new Date()}}var O=!!(this.days&&this.days!==null||this.orient||this.operator);var S,P,Q;Q=((this.orient=="past"||this.operator=="subtract")?-1:1);if(!this.now&&"hour minute second".indexOf(this.unit)!=-1){R.setTimeToNow()}if(this.month||this.month===0){if("year day hour minute second".indexOf(this.unit)!=-1){this.value=this.month+1;this.month=null;O=true}}if(!O&&this.weekday&&!this.day&&!this.days){var N=Date[this.weekday]();this.day=N.getDate();if(!this.month){this.month=N.getMonth()}this.year=N.getFullYear()}if(O&&this.weekday&&this.unit!="month"){this.unit="day";S=(K.getDayNumberFromName(this.weekday)-R.getDay());P=7;this.days=S?((S+(Q*P))%P):(Q*P)}if(this.month&&this.unit=="day"&&this.operator){this.value=(this.month+1);this.month=null}if(this.value!=null&&this.month!=null&&this.year!=null){this.day=this.value*1}if(this.month&&!this.day&&this.value){R.set({day:this.value*1});if(!O){this.day=this.value*1}}if(!this.month&&this.value&&this.unit=="month"&&!this.now){this.month=this.value;O=true}if(O&&(this.month||this.month===0)&&this.unit!="year"){this.unit="month";S=(this.month-R.getMonth());P=12;this.months=S?((S+(Q*P))%P):(Q*P);this.month=null}if(!this.unit){this.unit="day"}if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null){this[this.unit+"s"]=this[this.unit+"s"]+((this.operator=="add")?1:-1)+(this.value||0)*Q}else{if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}this[this.unit+"s"]=this.value*Q}}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}if(this.weekday&&!this.day&&!this.days){var N=Date[this.weekday]();this.day=N.getDate();if(N.getMonth()!==R.getMonth()){this.month=N.getMonth()}}if((this.month||this.month===0)&&!this.day){this.day=1}if(!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month){return Date.today().setWeek(this.value)}if(O&&this.timezone&&this.day&&this.days){this.day=this.days}return(O)?R.add(this):R.set(this)}};var F=K.Parsing.Operators,A=K.Grammar,B=K.Translator,C;A.datePartDelimiter=F.rtoken(/^([\s\-\.\,\/\x27]+)/);A.timePartDelimiter=F.stoken(":");A.whiteSpace=F.rtoken(/^\s*/);A.generalDelimiter=F.rtoken(/^(([\s\,]|at|@|on)+)/);var G={};A.ctoken=function(N){var P=G[N];if(!P){var O=J.regexPatterns;var Q=N.split(/\s+/),M=[];for(var L=0;L<Q.length;L++){M.push(F.replace(F.rtoken(O[Q[L]]),Q[L]))}P=G[N]=F.any.apply(null,M)}return P};A.ctoken2=function(L){return F.rtoken(J.regexPatterns[L])};A.h=F.cache(F.process(F.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),B.hour));A.hh=F.cache(F.process(F.rtoken(/^(0[0-9]|1[0-2])/),B.hour));A.H=F.cache(F.process(F.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),B.hour));A.HH=F.cache(F.process(F.rtoken(/^([0-1][0-9]|2[0-3])/),B.hour));A.m=F.cache(F.process(F.rtoken(/^([0-5][0-9]|[0-9])/),B.minute));A.mm=F.cache(F.process(F.rtoken(/^[0-5][0-9]/),B.minute));A.s=F.cache(F.process(F.rtoken(/^([0-5][0-9]|[0-9])/),B.second));A.ss=F.cache(F.process(F.rtoken(/^[0-5][0-9]/),B.second));A.hms=F.cache(F.sequence([A.H,A.m,A.s],A.timePartDelimiter));A.t=F.cache(F.process(A.ctoken2("shortMeridian"),B.meridian));A.tt=F.cache(F.process(A.ctoken2("longMeridian"),B.meridian));A.z=F.cache(F.process(F.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),B.timezone));A.zz=F.cache(F.process(F.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),B.timezone));A.zzz=F.cache(F.process(A.ctoken2("timezone"),B.timezone));A.timeSuffix=F.each(F.ignore(A.whiteSpace),F.set([A.tt,A.zzz]));A.time=F.each(F.optional(F.ignore(F.stoken("T"))),A.hms,A.timeSuffix);A.d=F.cache(F.process(F.each(F.rtoken(/^([0-2]\d|3[0-1]|\d)/),F.optional(A.ctoken2("ordinalSuffix"))),B.day));A.dd=F.cache(F.process(F.each(F.rtoken(/^([0-2]\d|3[0-1])/),F.optional(A.ctoken2("ordinalSuffix"))),B.day));A.ddd=A.dddd=F.cache(F.process(A.ctoken("sun mon tue wed thu fri sat"),function(L){return function(){this.weekday=L}}));A.M=F.cache(F.process(F.rtoken(/^(1[0-2]|0\d|\d)/),B.month));A.MM=F.cache(F.process(F.rtoken(/^(1[0-2]|0\d)/),B.month));A.MMM=A.MMMM=F.cache(F.process(A.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),B.month));A.y=F.cache(F.process(F.rtoken(/^(\d\d?)/),B.year));A.yy=F.cache(F.process(F.rtoken(/^(\d\d)/),B.year));A.yyy=F.cache(F.process(F.rtoken(/^(\d\d?\d?\d?)/),B.year));A.yyyy=F.cache(F.process(F.rtoken(/^(\d\d\d\d)/),B.year));C=function(){return F.each(F.any.apply(null,arguments),F.not(A.ctoken2("timeContext")))};A.day=C(A.d,A.dd);A.month=C(A.M,A.MMM);A.year=C(A.yyyy,A.yy);A.orientation=F.process(A.ctoken("past future"),function(L){return function(){this.orient=L}});A.operator=F.process(A.ctoken("add subtract"),function(L){return function(){this.operator=L}});A.rday=F.process(A.ctoken("yesterday tomorrow today now"),B.rday);A.unit=F.process(A.ctoken("second minute hour day week month year"),function(L){return function(){this.unit=L}});A.value=F.process(F.rtoken(/^\d\d?(st|nd|rd|th)?/),function(L){return function(){this.value=L.replace(/\D/g,"")}});A.expression=F.set([A.rday,A.operator,A.value,A.unit,A.orientation,A.ddd,A.MMM]);C=function(){return F.set(arguments,A.datePartDelimiter)};A.mdy=C(A.ddd,A.month,A.day,A.year);A.ymd=C(A.ddd,A.year,A.month,A.day);A.dmy=C(A.ddd,A.day,A.month,A.year);A.date=function(L){return((A[J.dateElementOrder]||A.mdy).call(this,L))};A.format=F.process(F.many(F.any(F.process(F.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(L){if(A[L]){return A[L]}else{throw K.Parsing.Exception(L)}}),F.process(F.rtoken(/^[^dMyhHmstz]+/),function(L){return F.ignore(F.stoken(L))}))),function(L){return F.process(F.each.apply(null,L),B.finishExact)});var D={};var E=function(L){return D[L]=(D[L]||A.format(L)[0])};A.formats=function(L){if(L instanceof Array){var M=[];for(var N=0;N<L.length;N++){M.push(E(L[N]))}return F.any.apply(null,M)}else{return E(L)}};A._formats=A.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);A._start=F.process(F.set([A.date,A.time,A.expression],A.generalDelimiter,A.whiteSpace),B.finish);A.start=function(M){try{var L=A._formats.call({},M);if(L[1].length===0){return L}}catch(N){}return A._start.call({},M)};K._parse=K.parse;K.parse=function(M){var L=null;if(!M){return null}if(M instanceof Date){return M}try{L=K.Grammar.start.call({},M.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(N){return null}return((L[1].length===0)?L[0]:null)};K.getParseFunction=function(L){var M=K.Grammar.formats(L);return function(O){var N=null;try{N=M.call({},O)}catch(P){return null}return((N[1].length===0)?N[0]:null)}};K.parseExact=function(M,L){return K.getParseFunction(L)(M)}}());(function(){var T=Date,C=T.prototype,Q=T.CultureInfo,K=Number.prototype;C._orient=+1;C._nth=null;C._is=false;C._same=false;C._isSecond=false;K._dateElement="day";C.next=function(){this._orient=+1;return this};T.next=function(){return T.today().next()};C.last=C.prev=C.previous=function(){this._orient=-1;return this};T.last=T.prev=T.previous=function(){return T.today().last()};C.is=function(){this._is=true;return this};C.same=function(){this._same=true;this._isSecond=false;return this};C.today=function(){return this.same().day()};C.weekday=function(){if(this._is){this._is=false;return(!this.is().sat()&&!this.is().sun())}return false};C.at=function(V){return(typeof V==="string")?T.parse(this.toString("d")+" "+V):this.set(V)};K.fromNow=K.after=function(V){var W={};W[this._dateElement]=this;return((!V)?new Date():V.clone()).add(W)};K.ago=K.before=function(V){var W={};W[this._dateElement]=this*-1;return((!V)?new Date():V.clone()).add(W)};var G=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),U=("january february march april may june july august september october november december").split(/\s/),P=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),A=("Milliseconds Seconds Minutes Hours Date Week Month FullYear").split(/\s/),E=("final first second third fourth fifth").split(/\s/),B;C.toObject=function(){var V={};for(var W=0;W<P.length;W++){V[P[W].toLowerCase()]=this["get"+A[W]]()}return V};T.fromObject=function(V){V.week=null;return Date.today().set(V)};var S=function(V){return function(){if(this._is){this._is=false;return this.getDay()==V}if(this._nth!==null){if(this._isSecond){this.addSeconds(this._orient*-1)}this._isSecond=false;var W=this._nth;this._nth=null;var X=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(V,W);if(this>X){throw new RangeError(T.getDayName(V)+" does not occur "+W+" times in the month of "+T.getMonthName(X.getMonth())+" "+X.getFullYear()+".")}return this}return this.moveToDayOfWeek(V,this._orient)}};var R=function(V){return function(){var X=T.today(),W=V-X.getDay();if(V===0&&Q.firstDayOfWeek===1&&X.getDay()!==0){W=W+7}return X.addDays(W)}};for(var L=0;L<G.length;L++){T[G[L].toUpperCase()]=T[G[L].toUpperCase().substring(0,3)]=L;T[G[L]]=T[G[L].substring(0,3)]=R(L);C[G[L]]=C[G[L].substring(0,3)]=S(L)}var H=function(V){return function(){if(this._is){this._is=false;return this.getMonth()===V}return this.moveToMonth(V,this._orient)}};var D=function(V){return function(){return T.today().set({month:V,day:1})}};for(var M=0;M<U.length;M++){T[U[M].toUpperCase()]=T[U[M].toUpperCase().substring(0,3)]=M;T[U[M]]=T[U[M].substring(0,3)]=D(M);C[U[M]]=C[U[M].substring(0,3)]=H(M)}var F=function(V){return function(){if(this._isSecond){this._isSecond=false;return this}if(this._same){this._same=this._is=false;var a=this.toObject(),W=(arguments[0]||new Date()).toObject(),Z="",X=V.toLowerCase();for(var Y=(P.length-1);Y>-1;Y--){Z=P[Y].toLowerCase();if(a[Z]!=W[Z]){return false}if(X==Z){break}}return true}if(V.substring(V.length-1)!="s"){V+="s"}return this["add"+V](this._orient)}};var I=function(V){return function(){this._dateElement=V;return this}};for(var N=0;N<P.length;N++){B=P[N].toLowerCase();C[B]=C[B+"s"]=F(P[N]);K[B]=K[B+"s"]=I(B)}C._ss=F("Second");var J=function(V){return function(W){if(this._same){return this._ss(arguments[0])}if(W||W===0){return this.moveToNthOccurrence(W,V)}this._nth=V;if(V===2&&(W===undefined||W===null)){this._isSecond=true;return this.addSeconds(this._orient)}return this}};for(var O=0;O<E.length;O++){C[E[O]]=(O===0)?J(-1):J(O)}}());UserLanguage=function(){return"en"};UserCulture=function(){return"en-US"};function hasClass(A,B){return new RegExp("(\\s|^)"+B+"(\\s|$)").test(A.className)}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(A){if(this==null){throw new TypeError()}var C=Object(this);var E=C.length>>>0;if(E===0){return -1}var D=0;if(arguments.length>0){D=Number(arguments[1]);if(D!=D){D=0}else{if(D!=0&&D!=Infinity&&D!=-Infinity){D=(D>0||-1)*Math.floor(Math.abs(D))}}}if(D>=E){return -1}var B=D>=0?D:Math.max(E-Math.abs(D),0);for(;B<E;B++){if(B in C&&C[B]===A){return B}}return -1}}if(!Object.keys){Object.keys=function(A){if(A!==Object(A)){throw new TypeError("Object.keys called on a non-object")}var B=[],C;for(C in A){if(Object.prototype.hasOwnProperty.call(A,C)){B.push(C)}}return B}}var twitteoauthDialog=null;function PopUpTwitterOauth(A){var B=SCRIBBLE.ui.Dialog;twitteoauthDialog=new B({id:"twitter-auth",modal:true,fixedcenter:true});twitteoauthDialog.setBody("<div id='TwitterLoginMessage'><h3>You need to log into Twitter to perform this action.</h3><a href='#' id='TwitterLoginButton' onclick='javascript: twitteoauthDialog.hide(); window.open(\"/twitter/OAuth.aspx?jscallback="+A+'", "TwitterLogin", "height=400,width=600,modal=yes,alwaysRaised=yes"); return false;\'>Click here to login</a></div>');twitteoauthDialog.show()}function PopUpInstagramOauth(A){var B=SCRIBBLE.ui.Dialog;instagramOauthDialog=new B({id:"instagram-auth",modal:true,fixedcenter:true});instagramOauthDialog.setBody("<div id='InstagramLoginMessage'><h3>You need to log into Instagram to perform this action.</h3><a href='#' class='Button' id='InstagramLoginButton' onclick='javascript: instagramOauthDialog.hide(); window.open(\"/instagram/OAuth.aspx?jscallback="+A+'", "InstagramLogin", "height=400,width=600,modal=yes,alwaysRaised=yes"); return false;\'>Click here to login</a></div>');instagramOauthDialog.show()}
/*file name: /js/LiveBlog.aspx */
if(typeof(XMLHttpRequest)=="undefined"){XMLHttpRequest=function(){var B=["MSXML3","MSXML2","Microsoft"];for(var A=0;A<B.length;A++){try{return new ActiveXObject(B[A]+".XMLHTTP")}catch(C){}}throw new Error("No XML component installed")}}function LiveBlog(D,C,M,N,E,K,L,H,F,I,A,B){if((document.location+"").match(/(stage\.|localhost).*[\?&]reload=/i)){LiveBlog.LoadPageReload()}this.Title=null;this.Description=null;this.PreviewImage=null;this.URL=null;this.IsTopPostsWidget=false;this.OpenLinksType=(F!=null&&F!=undefined?F:0);this.pTextOnlyMeta=(A!=null&&A!=undefined?A:false);this.PauseModeratedComments=false;this.MaxModeratedCommentQueueSize=200;this.PausedCommentsWaiting=0;this.IsGetModeratedPostsPollingBlocked=false;if(C==null){C=true}if(M==null){M=(new Date()).toUTCString()}if(H==null){this.Width=600}else{this.Width=H}this.UserId=N;this.UserName=I;this.ASPSID=null;this.NewestAtBottom=C;this.Time=new Date(M);this.UID=null;if((D+"").match(/^[0-9]+$/)){this.ThreadId=D;this.ThreadKey=""}else{this.ThreadId="";this.ThreadKey=D}if(L==null){this.PostsList=document.getElementById("Posts")}else{this.PostsList=L}this.StickyPostsList=null;this.LastTweet=null;try{this.StickyPostsList=document.getElementById("StickyPostHolder")}catch(J){}this.GroupPostsLists=new Array();this.GroupPostsLists[0]=this.PostsList;this.GroupNewestAtBottom=new Array();this.GroupNewestAtBottom[0]=this.NewestAtBottom;this.IsScriptaculousAvailable=false;this.IsjQueryAvailable=LiveBlog.CheckIfjQueryAvailable();this.IsCookiesAvailable=LiveBlog.CheckIfCookiesAvailable();this.IsPostUIAvailable=false;try{this.IsPostUIAvailable=(PostUI!=null)}catch(J){}this.IsWikiAvailable=false;this.IsSoundManagerAvailable=false;try{this.IsSoundManagerAvailable=(soundManager!=null&&soundManager.createSound!=null)}catch(J){}this.IsLivePollAvailable=LiveBlog.CheckIfLivePollAvailable();this.IsDeconceptAvailable=LiveBlog.CheckIfDeconceptAvailable();this.IsCrossDomain=false;this.HasWritePermission=false;this.HasModeratePermission=false;this.HasSkipModerationPermission=false;this.AllowedToEdit=(E==true);if(this.AllowedToEdit){this.HasWritePermission=true;this.HasModeratePermission=true;this.HasSkipModerationPermission=true}this.FadeColor_Start="#0099cc";this.FadeColor_End="#F9F9F9";this.FadeColor_End_Comment="#F4F4F4";this.NumPolls=0;this.IsEmergency=false;this.IsApprovingComment=null;this.CurrentVisitors=0;this.IsFlashAvailable=(this.IsDeconceptAvailable&&deconcept.SWFObjectUtil.getPlayerVersion()!=null&&deconcept.SWFObjectUtil.getPlayerVersion().major>0);if(!this.IsFlashAvailable){LiveBlog.RemoveUnsupportedFlash()}this.DisplayLanguage=K;this.CurrentDisplayLanguage=this.DisplayLanguage;this.Language=(typeof(pLanguage)=="undefined"||pLanguage==null?"en":pLanguage);this.CurrentRequestId=null;this.HasShownReloadPrompt=false;LiveBlog.StoreInstance(this);this.LastModeratedCommentsPulsate=null;if(B===true){this.PollForModeratedComments()}this.MetricsDisplayThreshold=1;this.PollForMetrics();this.NewPostSound=null;this.MaxCommentsDisplayed=200;this.MaxTweetsDisplayed=10;this.MaxListItems=200;this.UseCDN=true;this.IsModerated=true;this.NextClass="Odd";this.DefaultThumbnail="http://avatars.scribblelive.com/default.png";this.DefaultThumbnailSmall=(typeof DefaultThumbnailSmall!="undefined"&&DefaultThumbnailSmall!="")?DefaultThumbnailSmall:this.DefaultThumbnail;this.FilteredPostIds="";this.SetupContentTransformMatrix();LiveBlog.StartAdReload();this.IsPaused=false;this.IsCometAvailable=false;if(this.IsPostUIAvailable){var G=(this.AllowedToEdit?1:this.OpenLinksType);PostUI.SetupLinksToOpen(this.StickyPostsList,G);PostUI.SetupLinksToOpen(this.PostsList,G)}if(LiveBlog.IsjQueryAvailable==true&&typeof SlideShow!=="undefined"){SlideShow.Configure(false)}if(LiveBlog.IsjQueryAvailable){jQuerySL(this.PostsList).find(".Caption").each(function(){if(this.contentEditable){this.contentEditable=false}})}if(typeof DiscussionsEnabled!="undefined"&&DiscussionsEnabled===true){if(!this.PostActionsTmpl){this.PostActionsTmpl=jQuerySL.trim(jQuerySL("#postactions-tmpl").html());this.PostActions=Handlebars.compile(this.PostActionsTmpl)}}}LiveBlog.Location=null;LiveBlog.CheckIfCookiesAvailable=function(){if(LiveBlog.IsCookiesAvailable!=null){return LiveBlog.IsCookiesAvailable}else{try{LiveBlog.IsCookiesAvailable=((LiveBlog.IsjQueryAvailable==true||LiveBlog.CheckIfjQueryAvailable())&&jQuerySL.cookie!=null&&jQuerySL.cookie!=undefined?true:false)}catch(A){}return LiveBlog.IsCookiesAvailable}};LiveBlog.CheckIfDeconceptAvailable=function(){if(LiveBlog.IsDeconceptAvailable!=null){return LiveBlog.IsDeconceptAvailable}else{LiveBlog.IsDeconceptAvailable=false;try{LiveBlog.IsDeconceptAvailable=(deconcept!=null&&deconcept.SWFObjectUtil!=null)}catch(A){}return LiveBlog.IsDeconceptAvailable}};LiveBlog.CheckIfLivePollAvailable=function(){if(LiveBlog.IsLivePollAvailable!=null){return LiveBlog.IsLivePollAvailable}else{LiveBlog.IsLivePollAvailable=false;try{LiveBlog.IsLivePollAvailable=(LivePoll!=null)}catch(A){}return LiveBlog.IsLivePollAvailable}};LiveBlog.H264Playable;LiveBlog.CanPlayh264=function(){if(LiveBlog.H264Playable==null){var A=document.createElement("video");LiveBlog.H264Playable=(typeof A.canPlayType==="function"&&(A.canPlayType('video/mp4; codecs="avc1.42E01E"')!==""||A.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')!==""))}return LiveBlog.H264Playable};LiveBlog.MpegPlayable;LiveBlog.CanPlayMpeg=function(){if(LiveBlog.MpegPlayable==null){var A=document.createElement("audio");LiveBlog.MpegPlayable=(A.canPlayType==="function"&&A.canPlayType('audio/mpeg; codecs="avc1.42E01E"')!=="")}return LiveBlog.MpegPlayable};LiveBlog.CheckIfjQueryAvailable=function(){if(LiveBlog.IsjQueryAvailable!=null){return LiveBlog.IsjQueryAvailable}else{LiveBlog.IsjQueryAvailable=false;try{LiveBlog.IsjQueryAvailable=(jQuerySL!=null&&jQuerySL.effects!=null)}catch(A){}return LiveBlog.IsjQueryAvailable}};LiveBlog.CheckIfSWFObjectAvailable=function(){if(LiveBlog.IsSWFObjectAvailable!=null){return LiveBlog.IsSWFObjectAvailable}else{LiveBlog.IsSWFObjectAvailable=false;try{LiveBlog.IsSWFObjectAvailable=(SWFObject!=null)}catch(A){}return LiveBlog.IsSWFObjectAvailable}};LiveBlog.prototype.AddGroupPostsList=function(A,B,C){this.GroupPostsLists[A]=B;if(C==null){C=this.NewestAtBottom}this.GroupNewestAtBottom[A]=C};LiveBlog.prototype.GetGroupNewestAtBottom=function(A){if(A==null){A=0}return this.GroupNewestAtBottom[A]};LiveBlog.prototype.GetGroupPostsList=function(A){if(A==null){A=0}return this.GroupPostsLists[A]};LiveBlog.RemoveUnsupportedFlash=function(B){if(LiveBlog.CheckIfjQueryAvailable()){var A=(B!=""&&B!=null)?"#LiveBlog_Post"+B+" ":"";jQuerySL(A+" embed").each(function(){if(!this.src.match(/https?:\/\/www\.(youtube|youtube-nocookie|youtu\.be)\.com\/?[a-zA-Z0-9-]+/i)){var D=jQuerySL(this);if(D.attrSL("src").indexOf("http://embed.scribblelive.com/js/jwflvplayer/player-licensed.swf")>-1||D.attrSL("src").indexOf("https://client.scribblelive.com/js/jwflvplayer/player-licensed.swf")>-1){var H=D.width();var G=D.height();var C="http://embed.scribblelive.com/MediaData.aspx";B=D.attrSL("id").match(/Player(\d+)/)[1];var F=C+"?action=GetMediaFile&PostId="+B;var I=C+"?action=GetThumbnail&PostId="+B;var E="";if(D.parent().is("object")){D=D.parent()}if(D.parent().hasClass("Audio")){E='<audio src="'+F+'" controls="controls" width="'+H+'" height="'+G+'"></audio>'}else{E='<video src="'+F+'" controls="controls" width="'+H+'" height="'+G+'" poster="'+I+'"></video>'}D.after(E);D.remove()}else{jQuerySL(this).after('<div class="flashremoved">Unsupported Flash object removed.</div>').remove()}}})}};LiveBlog.prototype.TranslateAllPosts=function(J){if(!J){this.DisplayLanguage=null;this.CurrentDisplayLanguage=null;return}else{this.DisplayLanguage=J}if(!this.IsCrossDomain){var G=document.getElementsByTagName("h2");for(var B=0;B<G.length;B++){this.TranslateContent(G[B].innerHTML,G[B])}var H=document.getElementsByTagName("h3");for(var B=0;B<H.length;B++){if(H[B].className!="Schedule"){this.TranslateContent(H[B].innerHTML,H[B])}}if(this.PostsList){var I=this.PostsList.getElementsByTagName("div");for(var B=0;B<I.length;B++){var A=I[B];if(A.className.match("Content")&&!A.innerHTML.match(/<(img|embed|object|iframe)/i)){this.TranslateContent(A.innerHTML,A)}else{if(A.className.match("Content")){var D=A.getElementsByTagName("p");for(var C=0;C<D.length;C++){var E=D[C];this.TranslateContent(E.innerHTML,E)}}}}}if(this.StickyPostsList){var F=this.StickyPostsList.getElementsByTagName("div");for(var B=0;B<F.length;B++){var A=F[B];if(A.className.match("Content")&&!A.innerHTML.match(/<(img|embed|object|iframe)/i)){this.TranslateContent(A.innerHTML,A)}else{if(A.className.match("Content")){var D=A.getElementsByTagName("p");for(var C=0;C<D.length;C++){var E=D[C];this.TranslateContent(E.innerHTML,E)}}}}}}else{if(this.PostsList){var I=this.PostsList.getElementsByTagName("li");for(var B=0;B<I.length;B++){if(PostUI.PostId(I[B])!=null){var A=I[B];if(!A.innerHTML.match(/<(embed|object|img|iframe)/i)){this.TranslateContent(A.innerHTML,A)}else{if(A.className.match("Content")){var D=A.getElementsByTagName("p");for(var C=0;C<Caption.length;C++){var E=D[C];this.TranslateContent(E.innerHTML,E)}}}}}}if(this.StickyPostsList){var F=this.StickyPostsList.getElementsByTagName("li");for(var B=0;B<F.length;B++){if(PostUI.PostId(F[B])!=null){var A=F[B];if(!A.innerHTML.match(/<(embed|object|img|iframe)/i)){this.TranslateContent(A.innerHTML,A)}else{if(A.className.match("Content")){var D=A.getElementsByTagName("p");for(var C=0;C<Caption.length;C++){var E=D[C];this.TranslateContent(E.innerHTML,E)}}}}}}}this.CurrentDisplayLanguage=this.DisplayLanguage};LiveBlog.StoreInstance=function(B){if(LiveBlog.__instances==null){LiveBlog.__instances=new Array()}var A;if(B.ThreadId!=""){A=""+B.ThreadId}else{if(B.ThreadKey!=""){A=B.ThreadKey}else{A="0"}}if(LiveBlog.__instances[A]==null){LiveBlog.__instance=B;LiveBlog.__instances[A]=B;return true}else{return false}};LiveBlog.GetInstance=function(A){if(LiveBlog.__instances==null){return null}else{if(A==null){return LiveBlog.__instance}else{return LiveBlog.__instances[""+A]}}};LiveBlog.GetInstances=function(){return LiveBlog.__instances};LiveBlog.DestroyElement=function(A){A.parentNode.removeChild(A);return false};LiveBlog.UserLanguage=function(){return"en"};LiveBlog.Ping=function(C,A,G){var D=LiveBlog.GetInstance(C);if(D==null){return}if(G==null){G=false}var B=false;if(A.Posts!=null){B=true}var H=new Date(A.Time);if(G||H>=new Date(D.Time)){D.PollForNew_Handler(A)}var E=6000;var F=Math.round(Math.random()*4000);if(F>2000){E+=F-2000}else{E-=F}if(B){setTimeout(function(){D.PollForNew(D.Time)},E)}else{if(new Date(A.Time)>new Date(D.Time)){D.PollForNew(D.Time,true)}else{setTimeout(function(){D.PollForNew(D.Time)},E)}}};LiveBlog.prototype.BlockPostDisplay=function(A){this.FilteredPostIds+=A+","};LiveBlog.prototype.PollForNew_Handler=function(E){var b=E;var J=b.Time;var c=new Date(b.Time);var Z=b.Posts;var S=0;pTextOnlyMeta=LiveBlog.GetInstance().pTextOnlyMeta;var a=(pTextOnlyMeta)?"span":"em";if(Z!=null){var A=false;if(!this.IsCrossDomain&&Z.length>0&&this.NewestAtBottom){A=((LiveBlog.YPosition()+50)>=LiveBlog.PageHeight())}try{if(!this.UserId){this.UserId=-1}}catch(X){this.UserId=-1}var M;var I;var Y=null;for(var G=0;G<Z.length;G++){I=new Date(Z[G].Date);if(I<=this.Time){}else{if(!this.FilteredPostIds.match(Z[G].Id+",")){Y=null;if(document.getElementById("LiveBlog_Post"+Z[G].Id)!=null){Y=document.getElementById("LiveBlog_Post"+Z[G].Id).LastEdit}if(this.GetGroupPostsList(Z[G].Group)==null&&!Z[G].Content.match(/^LiveArticleRevision[0-9]+$/)){}else{if(this.NewestAtBottom&&!this.IsCrossDomain&&!Z[G].IsDeleted&&(Z[G].EditorId==null||Z[G].EditorId=="")&&document.getElementById("LiveBlog_Post"+Z[G].Id)==null&&Z[G].Type=="1"){LiveBlog.Refresh(100)}else{if(Z[G].Type=="4"&&Z[G].Content.match(/^LiveArticleRevision[0-9]+$/)&&!LiveBlog.IsEmbed()){try{if(this.IsjQueryAvailable&&typeof(LiveArticle_Viewer)!="undefined"&&LiveArticle_Viewer.GetInstance()!=null){var B=Z[G].Content.match(/^LiveArticleRevision([0-9]+)$/)[1];if(B!=null){LiveArticle_Viewer.LoadRevision(B)}}else{if(this.IsjQueryAvailable&&typeof(LiveArticle_Viewer)!="undefined"&&LiveArticle_Viewer.GetInstance()==null){jQuerySL("#TopPagination").before('<div class="LiveArticle"></div>');var B=Z[G].Content.match(/^LiveArticleRevision([0-9]+)$/)[1];(new LiveArticle_Viewer(null,".LiveArticle")).AnimateEdits();if(B!=null){LiveArticle_Viewer.LoadRevision(B)}}}}catch(X){}}else{if(Z[G].Type=="4"&&(this.AllowedToEdit||Z[G].CreatorId==this.Userid||Z[G].EditorId==this.UserId)&&!Z[G].IsDeleted){if(this.EditorId==this.UserId&&Z[G].Content.match(/invited/)){if(confirm("You have been invited to join this live event as a writer.\nClick OK to load the writer interface immediately, or just reload when you have a chance.")){LiveBlog.ReloadPage()}}else{this.AttachNewPost(Z[G],5)}}else{if(Z[G].IsDeleted&&document.getElementById("LiveBlog_Post"+Z[G].Id)!=null){this.DisconnectPost(document.getElementById("LiveBlog_Post"+Z[G].Id),S);if(this.IsjQueryAvailable){var Q=jQuerySL.Event("DisconnectPost");jQuerySL(document).trigger(Q,{PostInfo:Z[G]})}S++}else{if(document.getElementById("LiveBlog_Post"+Z[G].Id)!=null&&document.getElementById("LiveBlog_Post"+Z[G].Id).parentNode==document.getElementById("VideoHolderList")){if(Z[G].Rank>0){M=document.getElementById("LiveBlog_Post"+Z[G].Id);M.id+="DELETING";this.DisconnectPost(M,S);if(this.IsCrossDomain){this.AttachNewCrossposting(Z[G])}else{if(!Z[G].IsComment){this.AttachNewPost(Z[G],null,null,S)}else{this.AttachNewComment(Z[G],null,S)}}S++}}else{if((!Z[G].IsDeleted&&((this.IsTopPostsWidget&&Z[G].Type!="9")||!this.IsTopPostsWidget)&&document.getElementById("LiveBlog_Post"+Z[G].Id)==null)||(document.getElementById("LiveBlog_Post"+Z[G].Id)!=null&&((this.IsTopPostsWidget&&Z[G].Type!="9")||!this.IsTopPostsWidget)&&document.getElementById("LiveBlog_Post"+Z[G].Id).parentNode!=this.GetGroupPostsList(Z[G].Group)&&document.getElementById("LiveBlog_Post"+Z[G].Id).parentNode!=document.getElementById("VideoHolderList")&&document.getElementById("LiveBlog_Post"+Z[G].Id).parentNode!=document.getElementById("StickyPostHolder"))){if(document.getElementById("LiveBlog_Post"+Z[G].Id)!=null){M=document.getElementById("LiveBlog_Post"+Z[G].Id);M.id+="DELETING";this.DisconnectPost(M,S)}if(this.IsCrossDomain){this.AttachNewCrossposting(Z[G])}else{if(!Z[G].IsComment){this.AttachNewPost(Z[G],null,null,S);if(Z[G].Source==""){this.UpdateWhosBlogging(Z[G].CreatorName,LiveBlog.GetUrlWithCorrectSecurity(Z[G].CreatorThumbnail))}}else{this.AttachNewComment(Z[G],null,S)}}S++}else{if(document.getElementById("LiveBlog_Post"+Z[G].Id)!=null&&Y!=Z[G].Date&&!this.IsCrossDomain){M=document.getElementById("LiveBlog_Post"+Z[G].Id);if(this.IsjQueryAvailable){var R=jQuerySL.Event("UpdatePost");jQuerySL(document).trigger(R,{PostInfo:Z[G]})}if(!SCRIBBLE.utilities.GetElementsByClassName("Content","",M)[0].className.indexOf("IsEditing")>-1&&M.LastModified!=Z[G].Date){if(Z[G].Type=="1"||Z[G].Type=="7"||Z[G].Type=="10"||Z[G].Type=="9"){var V=SCRIBBLE.utilities.GetElementsByClassName("content-area","",M)[0];var L=SCRIBBLE.utilities.GetElementsByClassName("Content","",M)[0];if(V&&L){L.parentNode.replaceChild(this.ConstructContentElement(Z[G]),L)}}if(Z[G].Type=="9"&&this.IsLivePollAvailable){var D=null;D=LivePoll.GetInstance(Z[G].Entities.Id);if(D!=null){if(Z[G].Entities.IsOpen==1&&!D.IsOpen){D.Load(Z[G].Entities);D.IsOpen=true;D.Draw(D.DrawHolder)}else{if(Z[G].Entities.IsOpen==0){D.Load(Z[G].Entities);D.IsOpen=false;D.Update()}}}}else{if((Z[G].Type=="1"||Z[G].Type=="7"||Z[G].Type=="10")){if(this.IsjQueryAvailable){try{var U=jQuerySL(SCRIBBLE.utilities.GetElementsByClassName("Content","",M)).find("p.Caption").html();jQuerySL("#LiveBlog_Post"+Z[G].Id).find("p.Caption").html(this.TranslateContent(U.replace(/&quot;/g,'"'),jQuerySL("#LiveBlog_Post"+Z[G].Id).find("p.Caption")[0]))}catch(K){}}}else{if(!Z[G].Content.match(/(<img)/i)&&Z[G].Type=="1"){SCRIBBLE.utilities.GetElementsByClassName("Content","",M)[0].innerHTML=this.TranslateContent(Z[G].Content.replace(/&quot;/g,'"'),SCRIBBLE.utilities.GetElementsByClassName("Content","",document.getElementById("LiveBlog_Post"+Z[G].Id))[0])}else{if(Z[G].Type=="2"||Z[G].Type=="3"||Z[G].Type=="6"){var T="#LiveBlog_Post"+Z[G].Id+" .Content textarea";var d="LiveBlog_Post"+Z[G].Id;var W=SCRIBBLE.utilities.GetElementsByClassName("Caption","",SCRIBBLE.utilities.GetElementsByClassName("Content","",M)[0]);if(W.length>0){W=W[0]}else{W=null}if(Z[G].Caption!=null){if(W!=null&&W!=undefined){W.innerHTML=this.TranslateContent(Z[G].Caption.replace(/&quot;/g,'"'),W)}else{try{var P=SCRIBBLE.utilities.GetElementsByClassName("Content","",document.getElementById(d))[0];P.removeChild(P.getElementsByTagName("textarea")[0])}catch(X){}var O=document.createElement("p");O.className="Caption";O.innerHTML=Z[G].Caption.replace(/&quot;/g,'"');SCRIBBLE.utilities.GetElementsByClassName("Content","",M)[0].appendChild(O);O.innerHTML=this.TranslateContent(O.innerHTML,O)}}else{if(W!=null&&W!=undefined){try{SCRIBBLE.utilities.GetElementsByClassName("Content","",document.getElementById(d))[0].removeChild(W)}catch(X){}}}if(Z[G].Type=="2"){var F=M.getElementsByTagName("img")[0].src;F=F.replace(/_\d+\.(jpg|png|gif)$/i,".$1");if(Z[G].Content.match(/^http:\/\/(.*?)\.(jpg|png|gif)$/i)&&F!=null&&F!=Z[G].Content){var P=this.ConstructContentElement(Z[G],null);SCRIBBLE.utilities.GetElementsByClassName("content-area","",M)[0].replaceChild(P,SCRIBBLE.utilities.GetElementsByClassName("Content","",M)[0])}}}}}}var N="";if(this.HasWritePermission||this.IsTopPostsWidget||pTextOnlyMeta||(typeof(ShowPostPermalink)!="undefined"&&ShowPostPermalink==false)){N=LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(Z[G].Date)}else{N='<span class="DisplayPostTime"><a href="javascript:void(0)" class="SinglePostLink" onmouseover="this.href=GetSinglePostPermalink ('+Z[G].Id+', true)" onclick="return GoToSinglePostPermalink('+Z[G].Id+');return false;">'+LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(Z[G].Date)+"</a></span>"}var V=SCRIBBLE.utilities.GetElementsByClassName("content-area","",M)[0];var C=SCRIBBLE.utilities.GetElementsByClassName("Meta","",M);for(var H=0;H<C.length;H++){if(V&&C[H]){if(C[H].parentNode===V){C[H].parentNode.replaceChild(this.ConstructMetaElement(Z[G]),C[H])}else{}}}this.SetPostRank(M,Z[G].Rank,Z[G].Group,Z[G]);this.OnEditPost(M,M.parentNode,Z[G].Id,Z[G].Rank,Z[G].Group,Z[G]);if(this.IsPostUIAvailable){PostUI.GetInstance().Setup(M)}this.FlashEdited(M);S++}}else{if(document.getElementById("LiveBlog_Post"+Z[G].Id)!=null&&Y!=Z[G].Date&&this.IsCrossDomain&&!Z[G].Content.match(/(<img|<object|<embed|<iframe)/i)&&Z[G].Type=="1"){M=document.getElementById("LiveBlog_Post"+Z[G].Id);M.innerHTML=M.innerHTML.replace(/^(.*?<\/em>).*$/i,"$1 "+Z[G].Content);this.SetPostRank(M,Z[G].Rank,Z[G].Group,Z[G]);this.OnEditPost(M,M.parentNode,Z[G].Id,Z[G].Rank,Z[G].Group,Z[G]);this.FadeIn(document.getElementById("LiveBlog_Post"+Z[G].Id));S++}else{if(document.getElementById("LiveBlog_Post"+Z[G].Id)!=null){this.SetPostRank(document.getElementById("LiveBlog_Post"+Z[G].Id),Z[G].Rank,Z[G].Group,Z[G])}}}}}}}}}}if(!this.IsFlashAvailable){LiveBlog.RemoveUnsupportedFlash(Z[G].Id)}}}}}if(Z!=null){this.Time=c}};LiveBlog.prototype.DisconnectPost=function(D,A){if(D==null){return}if(D.IsDeleted!=null&&D.IsDeleted){return}if(jQuerySL(D).closest(".socialsearch-container").hasClass("search-events")){return}if(A==null){A=0}((D.className+"").match(/Comment/))?this.UpdateStats(0,-1):this.UpdateStats(-1,0);for(var C=0;C<D.parentNode.childNodes.length;C++){if(D.parentNode.childNodes[C].tagName==null||(D.parentNode.childNodes[C].tagName.toUpperCase()!="LI"&&!(D.parentNode.childNodes[C].className+"").match(/FloatingEdit/))){D.parentNode.removeChild(D.parentNode.childNodes[C])}}var B=false;if(D.id==D.parentNode.firstChild.id&&D.parentNode.childNodes.length>1){B=true;D.nextSibling.className=D.nextSibling.className+" First"}var F=D.parentNode.id==="Moderated",E=(/Sticky/).test(D.className+"");if(A<10&&this.IsjQueryAvailable&&!jQuerySL.browser.msie){D.IsDeleted=true;jQuerySL(D).animate({opacity:"0",height:"0"},500,function(){jQuerySL(this).remove();if(F){jQuerySL(document).trigger("indicator:comments")}});if(E){this.OnStickPost(false)}}else{D.parentNode.removeChild(D);if(E){this.OnStickPost(false)}if(F){jQuerySL(document).trigger("indicator:comments")}}D.onmouseover=null;D.onmouseout=null};LiveBlog.prototype.OnStickPost=function(){};LiveBlog.prototype.PollForNew=function(C,I){if(this.IsCometAvailable){return}I=(typeof I=="undefined")?false:I;C=(typeof C=="undefined")?this.Time:C;var H=this;if(H.IsPaused){return false}this.NumPolls++;var J;if(I){J="recentposts.js"}else{J="lastmodified.js"}var L;var A=/(dev\.scribblelive\.com|\.scribblelive\.me)/i;var G=(document.location+"").match(/(localhost)/i);var B=(("http://embed.scribblelive.com").match(A)||(document.location+"").match(A));if(G||!this.UseCDN){L="/LastModified.aspx?ThreadId="+this.ThreadId+"&rand="+Math.round(100000000*Math.random())}else{if(B){L=((LiveBlog.IsSecure())?"https://s3.amazonaws.com/liveupdate1-stage.scribblelive.com/":"http://liveupdate1-stage.scribblelive.com/")+(this.ThreadId+"").replace(/([0-9])/g,"$1/")+J+"?rand="+Math.round(100000000*Math.random())}else{if(this.ThreadKey!=""){L="/LastModified.aspx?ThreadKey="+this.ThreadKey+"&rand="+Math.round(100000000*Math.random())}else{L=((LiveBlog.IsSecure())?"https://s3.amazonaws.com/liveupdate1.scribblelive.com/":"http://liveupdate1.scribblelive.com/")+(this.ThreadId+"").replace(/([0-9])/g,"$1/")+J+"?rand="+Math.round(100000000*Math.random())}}}var F=document.createElement("script");F.src=L;F.type="text/javascript";var K=Math.round(Math.random()*10000000000);H.CurrentRequestId=K;document.head=document.head||document.getElementsByTagName("head")[0];document.head.appendChild(F);var D=0;var E=setInterval(function(){if(H.CurrentRequestId!=K){F.parentNode.removeChild(F);clearInterval(E)}else{if(H.CurrentRequestId==K&&D>15){H.PollForNew(C,I);clearInterval(E)}}D++},1000)};LiveBlog.prototype.MetricsPing=function(A){if(typeof(A)!="undefined"&&typeof(A[this.ThreadId])!="undefined"){this.CurrentVisitors=A[this.ThreadId]}if(parseInt(this.CurrentVisitors)>100){this.IsEmergency=true}var B=document.getElementById("CurrentVisitors");if(B!=null){(this.NewestAtBottom||parseInt(this.CurrentVisitors)<=this.MetricsDisplayThreshold)?B.innerHTML="&nbsp;":B.innerHTML=(this.CurrentVisitors+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")+"&nbsp;watchers"}if(document.getElementById("TotalVisitors")!=null){}};LiveBlog.prototype.UpdateWhosBlogging=function(D,C){var E=document.getElementById("WhosBloggingSidebar");if(E!=null){if(this.Writers==null){this.Writers=new Array();var H=E.getElementsByTagName("li");var A;for(var B=0;B<H.length;B++){try{A=(H[B].innerHTML+"").match(/([^>]+)\s*$/)[1];this.Writers[A]=1}catch(F){}}}if(this.Writers[D]==null){var G="<img src='http://avatars.scribblelive.com/default.png' />";if(C!=null&&C!=""){G="<img src='"+C+"' />"}E.getElementsByTagName("ul")[0].innerHTML+="<li>"+G+D+"</li>";this.Writers[D]=1}}};LiveBlog.prototype.UpdateStats=function(A,B){if(A!=null&&A!=0&&document.getElementById("TotalPosts")!=null){document.getElementById("TotalPosts").innerHTML=parseInt(document.getElementById("TotalPosts").innerHTML)+A}if(B!=null&&B!=0&&document.getElementById("TotalComments")!=null){document.getElementById("TotalComments").innerHTML=parseInt(document.getElementById("TotalComments").innerHTML)+B}};LiveBlog.prototype.PollForModeratedComments=function(){var AllowRequestForModeratedPosts=!this.IsGetModeratedPostsPollingBlocked;if(!this.AllowedToEdit||this.IsCrossDomain||document.getElementById("Moderated")==null){AllowRequestForModeratedPosts=false}if(this.ModCommentsSince==null){this.ModCommentsSince=""}var req=new XMLHttpRequest();req.open("GET","/GetModeratedPosts.aspx?threadid="+this.ThreadId+"&since="+(this.ModCommentsSince)+"&getmoderatedposts="+(AllowRequestForModeratedPosts?1:0)+"&rand="+Math.round(10000000*Math.random()),true);var _LiveBlog=this;req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200&&req.responseText!=""){var ResponseObject=eval("("+req.responseText+")");var ChatPosts=ResponseObject.ChatPosts;try{if(ChatPosts&&ChatPosts.length>0&&_LiveBlog.IsjQueryAvailable){var DrawPosts=jQuerySL.Event("chat:draw-posts");jQuerySL(document).trigger(DrawPosts,[ChatPosts])}}catch(err){}if(this.ModCommentsSince!=""&&AllowRequestForModeratedPosts){var ModeratedComments=ResponseObject.ModeratedComments;if(ModeratedComments!=null){for(var i=0;i<ModeratedComments.length;i++){if(ModeratedComments[i].IsDeleted=="0"){if(document.getElementById("LiveBlog_Post"+ModeratedComments[i].Id)==null){_LiveBlog.AttachNewModeratedComment(ModeratedComments[i],null,ModeratedComments.length)}else{PostElement=document.getElementById("LiveBlog_Post"+ModeratedComments[i].Id);if(PostElement.LastEdit!=ModeratedComments[i].Date){if((ModeratedComments[i].Type=="1"||ModeratedComments[i].Type=="7")&&ModeratedComments[i].Content.match(/<(object|embed|iframe)/i)){SCRIBBLE.utilities.GetElementsByClassName("Content","",PostElement)[0].className="temp-content";SCRIBBLE.utilities.GetElementsByClassName("content-area","",PostElement)[0].insertBefore(_LiveBlog.ConstructContentElement(ModeratedComments[i],210),SCRIBBLE.utilities.GetElementsByClassName("temp-content","",PostElement)[0]);SCRIBBLE.utilities.GetElementsByClassName("content-area","",PostElement)[0].removeChild(SCRIBBLE.utilities.GetElementsByClassName("temp-content","",PostElement)[0])}else{if(!ModeratedComments[i].Content.match(/(<img)/i)&&ModeratedComments[i].Type=="1"){SCRIBBLE.utilities.GetElementsByClassName("Content","",PostElement)[0].innerHTML=_LiveBlog.TranslateContent(ModeratedComments[i].Content.replace(/&quot;/g,'"'),SCRIBBLE.utilities.GetElementsByClassName("Content","",document.getElementById("LiveBlog_Post"+ModeratedComments[i].Id))[0])}else{if(ModeratedComments[i].Type=="2"||ModeratedComments[i].Type=="3"||ModeratedComments[i].Type=="6"){var ElementName="#LiveBlog_Post"+ModeratedComments[i].Id+" .Content textarea";if(_LiveBlog.IsjQueryAvailable){if(ModeratedComments[i].Caption!=null){if(jQuerySL(SCRIBBLE.utilities.GetElementsByClassName("Content","",PostElement)[0]).find("p.Caption").length>0){jQuerySL(SCRIBBLE.utilities.GetElementsByClassName("Content","",PostElement)[0]).find("p.Caption").html(ModeratedComments[i].Caption.replace(/&quot;/g,'"'))}else{jQuerySL(ElementName).remove();SCRIBBLE.utilities.GetElementsByClassName("Content","",PostElement)[0].innerHTML+="<p class='Caption'>"+ModeratedComments[i].Caption.replace(/&quot;/g,'"')+"</p>"}}else{jQuerySL(SCRIBBLE.utilities.GetElementsByClassName("Content","",PostElement)[0]).find("p.Caption").remove()}if(ModeratedComments[i].Type=="2"){var ImageUrl=PostElement.getElementsByTagName("img")[0].src;ImageUrl=ImageUrl.replace(/_\d+\.(jpg|png|gif)$/i,".$1");if(ModeratedComments[i].Content.match(/^http:\/\/(.*?)\.(jpg|png|gif)$/i)&&ImageUrl!=null&&ImageUrl!=ModeratedComments[i].Content){var ContentElement=_LiveBlog.ConstructContentElement(ModeratedComments[i],null);SCRIBBLE.utilities.GetElementsByClassName("content-area","",PostElement)[0].replaceChild(ContentElement,SCRIBBLE.utilities.GetElementsByClassName("Content","",PostElement)[0])}}}}}}if(_LiveBlog.IsPostUIAvailable){PostUI.GetInstance().Setup(PostElement)}_LiveBlog.FlashEdited(PostElement)}}}else{var currentElementId="LiveBlog_Post"+ModeratedComments[i].Id;_LiveBlog.DisconnectPost(document.getElementById(currentElementId));_LiveBlog.RemovePostFromQueue(ModeratedComments[i].Id)}}if(_LiveBlog.IsjQueryAvailable){jQuerySL(document).trigger("indicator:comments")}}}_LiveBlog.ModCommentsSince=ResponseObject.Time;setTimeout(function(){_LiveBlog.PollForModeratedComments()},5000)}else{setTimeout(function(){_LiveBlog.PollForModeratedComments()},10000)}}};req.send(null);return true};LiveBlog.prototype.RemovePostFromQueue=function(A){var D="LiveBlog_Post"+A;if(LiveBlog.GetInstance().ModeratedCommentConnectQueue!=undefined&&LiveBlog.GetInstance().ModeratedCommentConnectQueue!=null){for(var B=0;B<LiveBlog.GetInstance().ModeratedCommentConnectQueue.length;B++){var C=LiveBlog.GetInstance().ModeratedCommentConnectQueue[B].NewItem.id;if(C!=null&&C!=undefined&&D==C){LiveBlog.GetInstance().ModeratedCommentConnectQueue.splice(B,1);LiveBlog.GetInstance().PausedCommentsWaiting--;break}}}};LiveBlog.prototype.GetStickyPosts=function(A,B){if(this.IsjQueryAvailable){return jQuerySL.makeArray(jQuerySL(A).children("li.Sticky:not(#"+B.id+")"))}else{var D=new Array();var E=A.getElementsByTagName("li");for(var C=0;C<E.length;C++){if((E[C].className+"").match(/Sticky/)&&E[C]!=B){D.push(E[C])}}return D}};LiveBlog.prototype.IsEmbed=function(A){if(A!=null&&SCRIBBLE.utilities.GetElementsByClassName("Content","",A).length>0){return(SCRIBBLE.utilities.GetElementsByClassName("Content","",A)[0].innerHTML.match(/<(object|embed|iframe)/i))}else{return false}};LiveBlog.HasEmbedCode=function(B){if(B!=null&&B!=undefined){var A=B.match(/(<)(object|embed|iframe)/i);if(A!=null&&A!=undefined&&A.length>=1){return true}}return false};LiveBlog.prototype.IsStuck=function(A){return((A.className+"").match(/Sticky/)!=null)?true:false};LiveBlog.prototype.SetPostRank=function(A,D,B,C){return this.ConnectNewPost(A,null,null,null,D,B,null,C)};LiveBlog.prototype.OnEditPost=function(){return true};LiveBlog.prototype.OnConnectNewPost=function(){return true};LiveBlog.prototype.ConnectNewPost=function(E,N,C,M,W,D,G,I,Q){if(!this.OnConnectNewPost(E,N,C,M,W,D,I)){return}if(this.IsjQueryAvailable){jQuerySL(E).find(".Caption").each(function(){if(this.contentEditable){this.contentEditable=false}})}if(I!=undefined&&I.Content!=undefined&&I.Content.indexOf("SL_SlideShow")!=-1&&this.IsjQueryAvailable){var T=jQuerySL(SCRIBBLE.utilities.GetElementsByClassName("Content","",E)[0]);var A=T.find(".SL_SlideShow");for(var K=0;K<A.length;K++){var V=jQuerySL(A[K]);V.find(".Media img").each(function(a,Z){var b=document.createElement("img");var Y=V;b.onload=function(){SlideShow.SetMaxHeight(Y);SlideShow.CenterSlides(Y)};b.onreadystatechange=function(){if(b.readyState=="complete"||b.readyState==4){SlideShow.SetMaxHeight(Y);SlideShow.CenterSlides(Y)}};b.src=Z.src})}}if(G==null){G=0}if(D==null){D=0}if(N==null){N=this.GetGroupPostsList(D);if(N==null){return}if(D==1){if(!this.HasAttachedFirstOnDeckComment){jQuerySL(".OnDecksComment").remove();this.HasAttachedFirstOnDeckComment=true}}}var H=false;if(N==this.GetGroupPostsList(0)&&W==0&&this.IsEmbed(E)&&document.getElementById("VideoHolderList")!=null){N=document.getElementById("VideoHolderList");H=true}if(N==this.GetGroupPostsList(0)&&W==0&&document.getElementById("StickyPostHolder")!=null){N=document.getElementById("StickyPostHolder");this.OnStickPost(true)}if(N==E.parentNode){if(W==0&&this.IsStuck(E)){return}else{if(W>0&&!this.IsStuck(E)){return}}}else{if((this.IsjQueryAvailable&&E.parentNode!=null&&E.parentNode.id=="StickyPostHolder"&&jQuerySL(E).parent().children("li").length<=1&&jQuerySL("a#ToggleStuckPosts").is(":visible"))){this.OnStickPost(false)}}if(H){var T=SCRIBBLE.utilities.GetElementsByClassName("Content","",E)[0];var O=jQuerySL(N).width();var R=T.getElementsByTagName("span");if(R.length>0){for(var K=0;K<R.length;K++){if((R[K].className+"").match(/VideoEmbedHolder/)){R[K].style.width="auto";R[K].style.height="auto"}}}}if((E.className+"").match(/Comment/)){this.UpdateStats(0,1)}else{this.UpdateStats(1,0)}var B=false;if(G<10&&this.IsjQueryAvailable&&(E.parentNode==null||typeof E.parentNode=="object")){B=true;E.style.display="none"}if(C==null){C=this.GetGroupNewestAtBottom(D)}if(M==null){M=this.MaxListItems}else{if(M>this.MaxListItems){M=this.MaxListItems}}if(W==null||!this.IsjQueryAvailable){W=1}if(W==0){E.className+=" Sticky";var P=document.createElement("div");P.className="Sticky";E.insertBefore(P,E.firstChild)}else{E.className=(E.className+"").replace(/Sticky/g,"");if(SCRIBBLE.utilities.GetElementsByClassName("Sticky","",E)[0]!=undefined){E.removeChild(SCRIBBLE.utilities.GetElementsByClassName("Sticky","",E)[0])}}if(C||N.getElementsByTagName("li").length==0){N.appendChild(E);if(N.getElementsByTagName("li").length==1){E.className+=" First"}}else{var F=this.GetStickyPosts(N,E);if(F.length==0){if((N.id!=null&&N.id=="Moderated"&&typeof(ModeratedNewestAtBottom)!=undefined&&ModeratedNewestAtBottom)||(Q!=null&&Q)){N.appendChild(E)}else{for(var K=0;K<N.childNodes.length&&K<3;K++){if(N.childNodes[K].className){N.childNodes[K].className=N.childNodes[K].className.replace("First","")}}E.className+=" First";N.insertBefore(E,N.firstChild)}}else{if(F[F.length-1].nextSibling==null||Q){N.appendChild(E)}else{N.insertBefore(E,F[F.length-1].nextSibling)}}}var L=E.parentNode;if(L!=null&&L.id=="Posts"){E.className+="  "+this.NextClass;if(this.NextClass==""){this.NextClass="Odd"}else{this.NextClass=""}}if(this.IsjQueryAvailable&&B){ItemHeight=jQuerySL(E).height()+"px";jQuerySL(E).css({"display":"block","height":"0","verticalAlign":"top"});jQuerySL(E).animate({"height":ItemHeight},500,function(){jQuerySL(E).css({"height":"auto"})});this.FadeIn(E)}else{if(this.FadeColor_End_Comment!=null&&E.className&&(E.className+"").match(/Comment/)&&(N.id=="SocialTwitterModerated"||N.id=="SocialFacebookModerated"||N.id=="Moderated")){E.style.backgroundColor=this.FadeColor_End_Comment;E.style.display="block"}else{if(this.FadeColor_End!=null){E.style.backgroundColor=((typeof PageSpecific_FadeColor_End!="undefined"&&PageSpecific_FadeColor_End!="")?PageSpecific_FadeColor_End:this.FadeColor_End);E.style.display="block"}}}if(L!=null&&(L.id=="SocialTwitterModerated"||L.id=="SocialFacebookModerated"||L.id=="Moderated")){LiveBlog.GetInstance().UpdateAvatarFromData(E)}if(!Q){try{if(this.NewPostSound!=null&&this.IsSoundManagerAvailable&&(this.LastSoundPlay==null||this.LastSoundPlay+""!=new Date()+"")){var S=this.NewPostSound;soundManager.onready(function(){if(soundManager.getSoundById("ScribbleLiveSoundEmbed")==null){soundManager.createSound({id:"ScribbleLiveSoundEmbed",url:S,autoLoad:true,autoPlay:true})}else{if(soundManager.getSoundById("ScribbleLiveSoundEmbed").url!=S){soundManager.getSoundById("ScribbleLiveSoundEmbed").destruct();soundManager.createSound({id:"ScribbleLiveSoundEmbed",url:S,autoLoad:true,autoPlay:true})}else{soundManager.getSoundById("ScribbleLiveSoundEmbed").play()}}});this.LastSoundPlay=new Date()}}catch(U){}}if(N.firstChild&&N.firstChild.nodeType==3&&N.firstChild.nodeValue&&N.firstChild.nodeValue.match(/\s*/)){N.removeChild(N.firstChild)}if(N.childNodes.length>M){var J;if(C){J=N.getElementsByTagName("li")[0]}else{if(this.IsjQueryAvailable){J=jQuerySL(N).children("li:last-child").get(0)}else{J=N.childNodes[N.childNodes.length-1]}}if(!SCRIBBLE.utilities.GetElementsByClassName("Content","",J)[0].className.indexOf("IsEditing")>-1){N.removeChild(J)}else{if(J.previousSibling!=null){N.removeChild(J.previousSibling)}}}if(this.IsPostUIAvailable){PostUI.GetInstance().Setup(E)}if(this.IsjQueryAvailable){var X=jQuerySL.Event("ConnectPost");jQuerySL(document).trigger(X,{PostInfo:I})}};LiveBlog.AddAvatarToItem=function(C,B,A){var E;if(LiveBlog.GetInstance().DefaultThumbnail!=null&&LiveBlog.GetInstance().DefaultThumbnail!=""){E=LiveBlog.GetUrlWithCorrectSecurity(LiveBlog.GetInstance().DefaultThumbnail)}if(E!=null&&E!=""){var D=document.createElement("img");D.className="avatar";if(A!=null&&A!=""&&(A.id=="SocialTwitterModerated"||A.id=="SocialFacebookModerated"||A.id=="Moderated")){D.src=(LiveBlog.GetInstance().DefaultThumbnailSmall!=null&&LiveBlog.GetInstance().DefaultThumbnailSmall!="")?LiveBlog.GetUrlWithCorrectSecurity(LiveBlog.GetInstance().DefaultThumbnailSmall):E;if(B!=""&&B!=null){D.setAttribute("data-avatar",LiveBlog.GetUrlWithCorrectSecurity(B))}}else{D.src=(B!=null&&B!="")?LiveBlog.GetUrlWithCorrectSecurity(B):E}D.removeAttribute("height");C.appendChild(D)}};LiveBlog.prototype.UpdateAvatarFromData=function(B){var A=SCRIBBLE.utilities.GetElementsByClassName("avatar-area","",B)[0].getElementsByTagName("img")[0];var C=A.getAttribute("data-avatar");if(C!=null&&C!=""){A.src=C;A.removeAttribute("data-avatar")}};LiveBlog.prototype.AttachNewTweet=function(F,A,E){var D=A;if(E==null||E==undefined){E=false}if(document.getElementById("LiveBlog_Post"+F.Id)!=null){return}var H=document.createElement("li");H.id="LiveBlog_Post"+F.Id;H.className="Comment";H.setAttribute("data-postid",F.Id);if(this.IsPostUIAvailable&&F.Type){H.className+=" PostType_"+PostUI.GetNumPostType(F.Type)+" "}if(F.Coordinates!=null){H.className=H.className+" Lat"+F.Coordinates[0]+" Lon"+F.Coordinates[1]}var B=document.createElement("div");B.className="Content NoSave";B.innerHTML=this.TranslateContent(F.Content.replace(/&quot;/g,'"'),B);var C=document.createElement("div");C.className="avatar-area";H.appendChild(C);LiveBlog.AddAvatarToItem(SCRIBBLE.utilities.GetElementsByClassName("avatar-area","",H)[0],F.CreatorThumbnail,A);var G=document.createElement("div");G.className="content-area";H.appendChild(G);SCRIBBLE.utilities.GetElementsByClassName("content-area","",H)[0].appendChild(this.ConstructContentElement(F,240));SCRIBBLE.utilities.GetElementsByClassName("content-area","",H)[0].appendChild(this.ConstructMetaElement(F,true));if(E){SCRIBBLE.utilities.GetElementsByClassName("content-area","",H)[0].appendChild(this.ConstructTimestampElement(F))}H.Meta=F;this.ConnectNewPost(H,D,false,this.MaxTweetsDisplayed)};LiveBlog.prototype.AttachNewFacebookPost=function(F,A,E){if(E==null||E==undefined){E=false}var D=A;if(document.getElementById("LiveBlog_Post"+F.Id)!=null){return}var H=document.createElement("li");H.id="LiveBlog_Post"+F.Id;H.className="Comment";H.setAttribute("data-postid",F.Id);if(this.IsPostUIAvailable&&F.Type){H.className+=" PostType_"+PostUI.GetNumPostType(F.Type)+" "}var B=document.createElement("div");B.className="Content NoSave";B.innerHTML=this.TranslateContent(F.Content.replace(/&quot;/g,'"'),B);var C=document.createElement("div");C.className="avatar-area";H.appendChild(C);LiveBlog.AddAvatarToItem(SCRIBBLE.utilities.GetElementsByClassName("avatar-area","",H)[0],F.CreatorThumbnail,A);var G=document.createElement("div");G.className="content-area";H.appendChild(G);SCRIBBLE.utilities.GetElementsByClassName("content-area","",H)[0].appendChild(this.ConstructContentElement(F,240));SCRIBBLE.utilities.GetElementsByClassName("content-area","",H)[0].appendChild(this.ConstructMetaElement(F,true));if(E){SCRIBBLE.utilities.GetElementsByClassName("content-area","",H)[0].appendChild(this.ConstructTimestampElement(F))}H.Meta=F;this.ConnectNewPost(H,D,false,this.MaxTweetsDisplayed)};LiveBlog.prototype.AttachNewModeratedComment=function(H,A,I,B){var G;if(A!=null){G=A}else{if(document.getElementById("Moderated")==null){return null}else{G=document.getElementById("Moderated")}}if(document.getElementById("LiveBlog_Post"+H.Id)!=null){return}var K=document.createElement("li");K.id="LiveBlog_Post"+H.Id;K.className="Comment";K.setAttribute("data-postid",H.Id);if(this.IsPostUIAvailable&&H.Type){K.className+=" PostType_"+PostUI.GetNumPostType(H.Type)+" "}if(H.CreatorId==LiveBlog.GetInstance().UserId){K.className+=" You "}var D=document.createElement("div");D.className="avatar-area";K.appendChild(D);LiveBlog.AddAvatarToItem(SCRIBBLE.utilities.GetElementsByClassName("avatar-area","",K)[0],H.CreatorThumbnail,G);var J=document.createElement("div");J.className="content-area";K.appendChild(J);SCRIBBLE.utilities.GetElementsByClassName("content-area","",K)[0].appendChild(this.ConstructContentElement(H,210));SCRIBBLE.utilities.GetElementsByClassName("content-area","",K)[0].appendChild(this.ConstructMetaElement(H,true));SCRIBBLE.utilities.GetElementsByClassName("content-area","",K)[0].appendChild(this.ConstructTimestampElement(H));var E=this.MaxCommentsDisplayed;if(this.IsApprovingComment!=null||this.PauseModeratedComments){if(this.ModeratedCommentConnectQueue==null){this.ModeratedCommentConnectQueue=new Array()}var C=false;for(var F=0;F<this.ModeratedCommentConnectQueue.length;F++){if(this.ModeratedCommentConnectQueue[F].NewItem.id=="LiveBlog_Post"+H.Id){C=true;break}}if(!C){this.ModeratedCommentConnectQueue.push({"NewItem":K,"ListElement":G,"pMaxCommentsDisplayed":E,"pAttachToBottom":B});if(this.PauseModeratedComments){this.PausedCommentsWaiting++;if(this.ModeratedCommentConnectQueue.length>this.MaxModeratedCommentQueueSize){this.ModeratedCommentConnectQueue.shift()}}}}else{this.ConnectNewPost(K,G,false,E,null,null,I,H,B)}if(!this.HasAttachedFirstModeratedComment){jQuerySL(".CommentsInModerationComment").remove();this.HasAttachedFirstModeratedComment=true}};LiveBlog.prototype.CancelPausedModeratedComments=function(){if(this.PauseModeratedComments){this.PauseModeratedComments=false;this.ModeratedCommentConnectQueue=null}};LiveBlog.prototype.TogglePausedModeratedComments=function(){if(this.PauseModeratedComments){LiveBlog.GetInstance().LoadQueuedModeratedComments();this.PauseModeratedComments=false}else{this.PauseModeratedComments=true}return this.PauseModeratedComments};LiveBlog.prototype.LoadQueuedModeratedComments=function(){LiveBlog.GetInstance().ExecuteModeratedCommentConnectQueue();this.PausedCommentsWaiting=0};LiveBlog.prototype.ExecuteModeratedCommentConnectQueue=function(){if(this.ModeratedCommentConnectQueue==null||this.ModeratedCommentConnectQueue.length<=0){return}var A=this;setTimeout(function(){var C=null;for(var B=0;B<A.ModeratedCommentConnectQueue.length;B++){C=A.ModeratedCommentConnectQueue[B];A.ConnectNewPost(C.NewItem,C.ListElement,false,C.pMaxCommentsDisplayed,null,null,A.ModeratedCommentConnectQueue.length,null,C.pAttachToBottom)}A.ModeratedCommentConnectQueue=null},1)};LiveBlog.prototype.HasAttachedFirstModeratedComment=false;LiveBlog.prototype.HasAttachedFirstOnDeckComment=false;LiveBlog.prototype.AttachNewComment=function(H,E,A,B){var J=document.createElement("li");J.id="LiveBlog_Post"+H.Id;J.className="Comment";J.setAttribute("data-postid",H.Id);if(this.IsPostUIAvailable&&H.Type){J.className+=" PostType_"+PostUI.GetNumPostType(H.Type)+" "}if(H.CreatorId==LiveBlog.GetInstance().UserId){J.className+=" You "}if(this.FadeColor_End!=null){J.style.backgroundColor=this.FadeColor_Start}if(E==null){E=this.Width;if(document.getElementById("VideoHolderList")!=null&&H.Rank==0&&(H.Type=="3"||H.Content.match(/<(object|embed|iframe)/i))){E=300}}J.LastModified=H.Date;var G=H.Source;G=(G!=null&&G!="")?' <span class="Source">via '+LiveBlog.GetInstance().GetTranslation(G)+"</span>":"";var F=false;if((typeof(HideAvatars)=="undefined"||HideAvatars.length==0)||(HideAvatars[0]==0&&(H.Source.indexOf("twitter")==-1&&H.Source.indexOf("facebook")==-1))||(HideAvatars[6]==0&&(H.Source.indexOf("twitter")!=-1||H.Source.indexOf("facebook")!=-1))){F=true}if(F){var D=document.createElement("div");D.className="avatar-area";J.appendChild(D);LiveBlog.AddAvatarToItem(SCRIBBLE.utilities.GetElementsByClassName("avatar-area","",J)[0],H.CreatorThumbnail)}else{J.className+=" no-avatar"}var I=document.createElement("div");I.className="content-area";J.appendChild(I);var C="Below";if((typeof UseCustomMeta!="undefined"&&UseCustomMeta)&&(typeof CustomMetaCommentLocation!="undefined"&&typeof CustomMetaPostLocation!="undefined")){var C=(H.IsComment&&UseCustomCommentMeta&&typeof UseCustomCommentMeta!="undefined")?CustomMetaCommentLocation:CustomMetaPostLocation}if(C=="Above"){J.className+=" meta-top";SCRIBBLE.utilities.GetElementsByClassName("content-area","",J)[0].appendChild(this.ConstructMetaElement(H,false));SCRIBBLE.utilities.GetElementsByClassName("content-area","",J)[0].appendChild(this.ConstructContentElement(H,E))}else{SCRIBBLE.utilities.GetElementsByClassName("content-area","",J)[0].appendChild(this.ConstructContentElement(H,E));SCRIBBLE.utilities.GetElementsByClassName("content-area","",J)[0].appendChild(this.ConstructMetaElement(H,false))}if(H.Group&&parseInt(H.Group,10)!==1){if(this.PostActions){H.ThreadId=ThreadId;H.Id=H.Id;H.lbl_permalink="Permalink";H.lbl_comment="Comment";SCRIBBLE.utilities.GetElementsByClassName("content-area","",J)[0].appendChild(jQuerySL(this.PostActions(H))[0])}}this.ConnectNewPost(J,null,null,null,H.Rank,H.Group,A,H,B);LiveBlog.GetInstance().RemovePostFromQueue(H.Id)};LiveBlog.prototype.AttachNewCrossposting=function(D){var E=document.createElement("li");var C;try{C=D.Type}catch(B){C=1}E.id="LiveBlog_Post"+D.Id;E.className="Writer"+D.CreatorId;if(this.IsPostUIAvailable&&D.Type){E.className+=" PostType_"+PostUI.GetNumPostType(D.Type)+" "}if(this.IsjQueryAvailable){E.style.backgroundColor=this.FadeColor_Start}if(C==2){var A=D.Content;switch(this.Width){case 300:A=A.replace(/\.(jpe?g|png|gif)$/,"_300.$1");break;case 400:A=A.replace(/\.(jpe?g|png|gif)$/,"_400.$1");break;case 800:A=A.replace(/\.(jpe?g|png|gif)$/,"_800.$1");break;case 500:if(new Date(D.Date)>new Date("June 12, 2010")){A=A.replace(/\.(jpe?g|png|gif)$/,"_500.$1")}else{A=A.replace(/\.(jpe?g|png|gif)$/,"_400.$1")}break}E.innerHTML="<strong>"+LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(D.Date)+"<abbr title='Your local time'>*</abbr></strong> <em>"+D.CreatorName+" -</em><br /><img src='"+A+"'/>"}else{if(C==3){LiveBlog.DisplayVideo(D.Content,D.Id+Math.round(10000*Math.random()),E,null,null,this.Width,"",D.Id);E.innerHTML="<strong>"+LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(D.Date)+"<abbr title='Your local time'>*</abbr></strong> <em>"+D.CreatorName+" -</em> "+E.innerHTML}else{if(C==6){LiveBlog.DisplayAudio(D.Content,D.Id+Math.round(10000*Math.random()),E,null,this.Width,"",D.Id);E.innerHTML="<strong>"+LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(D.Date)+"<abbr title='Your local time'>*</abbr></strong> <em>"+D.CreatorName+" -</em> "+E.innerHTML}else{var F=D.Content;if(F.match(/(<object|<embed)/i)){F=F.replace(/&quot;/g,'"');switch(this.Width){case 300:F=LiveBlog.ResizeObjectEmbed(F,300,250);break;case 400:F=LiveBlog.ResizeObjectEmbed(F,400,334);break}F="<br />"+F}E.innerHTML="<strong>"+LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(D.Date)+"<abbr title='Your local time'>*</abbr></strong> <em>"+D.CreatorName+" -</em> "+F}}}this.ConnectNewPost(E)};LiveBlog.IsSecure=function(){return("https:"==document.location.protocol)};LiveBlog.GetUrlWithCorrectSecurity=function(A){if(A==null||A==""){return""}else{if(LiveBlog.IsSecure()&&typeof(A)=="string"){return A.replace(/^http:\/\/((images|avatars|embed)\.scribblelive.com.*)/i,"https://s3.amazonaws.com/$1")}else{return A}}};LiveBlog.prototype.OnConstructMetaElement=function(B,A){return true};LiveBlog.prototype.OnConstructMetaElementComplete=function(B,A){return true};LiveBlog.prototype.ConstructMetaElement=function(I,C,P){var L=true;C=(typeof C=="undefined")?false:C;var P=(typeof P=="undefined")?false:P;pTextOnlyMeta=(LiveBlog.GetInstance().pTextOnlyMeta||P);var N=(pTextOnlyMeta)?"span":"em";var D=35;var G=document.createElement("div");G.className="Meta";var K=(this.UserId==I.CreatorId);var E=((this.UserId==I.EditorId)||(I.EditorId==""&&this.UserId==I.CreatorId));if(!this.OnConstructMetaElement(G,I)){return G}var O="";if((typeof I.Source=="undefined"||I.Source.indexOf("twitter")==-1)&&typeof UseCustomMeta!="undefined"&&UseCustomMeta){if(I.IsComment){if((typeof UseCustomCommentMeta!="undefined"&&UseCustomCommentMeta)&&(typeof UseCustomCommentMetaFormat!="undefined"&&UseCustomCommentMetaFormat)){L=false;O=CustomMetaCommentFormat}else{if((typeof UseCustomCommentMeta!="undefined"&&!UseCustomCommentMeta)&&(typeof UseCustomPostMetaFormat!="undefined"&&UseCustomPostMetaFormat)){L=false;O=CustomMetaPostFormat}}}else{if(typeof UseCustomPostMetaFormat!="undefined"&&UseCustomPostMetaFormat){L=false;O=CustomMetaPostFormat}}}if(L){var A=(I.Source!=null&&I.Source!="")?' <span class="Source">via '+LiveBlog.GetInstance().GetTranslation(I.Source)+"</span>":"";var M="";var B="";if(I.LoginProvider!=undefined){M='title="From: '+I.LoginProvider+'" ';B='<span class="'+I.LoginProvider+'"></span>'}if(C){G.innerHTML="<"+N+" "+M+' class="Creator'+I.CreatorId+(K?" Yourself":"")+'">'+B+(K?"you":LiveBlog.ShortenText(I.CreatorName,D,"..."))+"</"+N+">"}else{var J="";if(this.HasWritePermission||this.IsTopPostsWidget||pTextOnlyMeta||(typeof(ShowPostPermalink)!="undefined"&&ShowPostPermalink==false)){J=LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(I.Date)}else{J='<span class="DisplayPostTime"><a href="javascript:void(0)" class="SinglePostLink" onmouseover="this.href=GetSinglePostPermalink ('+I.Id+', true) " onclick="return GoToSinglePostPermalink('+I.Id+');return false;">'+LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(I.Date)+"</a></span>"}G.innerHTML="by <"+N+" "+M+' class="Creator'+I.CreatorId+(K?" Yourself":"")+'">'+B+(K?"you":LiveBlog.ShortenText(I.CreatorName,D,"..."))+"</"+N+">"+A+(I.EditorId!=""?" edited by <"+N+' class="Editor Editor'+I.EditorId+(E?" Yourself":"")+'">'+(E?"you":I.EditorName)+"</"+N+">":"")+(I.Group==0?" "+J:"")}}else{O=O.replace("{{Author}}",I.CreatorName);O=O.replace("{{Date}}",LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(I.Date));var F=null;var H="";H=/{{Editor: ({(.*?}?)})}}/g;while((F=H.exec(O))!==null){O=O.replace(new RegExp(F[0],"g"),((I.EditorName!=null&&I.EditorName!="")?F[2].replace(new RegExp("{Editor}","g"),I.EditorName):""))}H=/{{Source: ({(.*?}?)})}}/g;while((F=H.exec(O))!==null){O=O.replace(new RegExp(F[0],"g"),((I.Source!=null&&I.Source!="")?F[2].replace(new RegExp("{Source}","g"),LiveBlog.GetInstance().GetTranslation(I.Source)):""))}G.innerHTML=O}this.OnConstructMetaElementComplete(G,I);return G};LiveBlog.prototype.ConstructTimestampElement=function(B){var D=document.createElement("div");D.className="DisplayPostTime";var E="";var C="";var A="";if(B.IsApproved=="0"||B.IsApproved==0){E=LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(((B.ReceivedDate!=null&&B.Receiveddate!=undefined)?B.ReceivedDate:B.Date));A="Received";C="received"}else{E=LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(B.Date);A="Posted"}if(B.IsComment=="1"||B.IsComment==0){A+=" Comment"}D.innerHTML+='<span class="ServerTime">'+B.Date+'</span><span class="'+A+'"> '+C+" "+E+" </span>";return D};LiveBlog.prototype.OnConstructContentElement=function(A,B){return true};LiveBlog.prototype.ContentTransformMatrix=new Array();LiveBlog.prototype.AddContentTransform=function(D,C,B){var A=new Object();A.Condition=D;A.Transform=C;if(B==null){this.ContentTransformMatrix.push(A)}else{this.ContentTransformMatrix.push(B,0,A)}};LiveBlog.prototype.AddContentTransformFirst=function(B,A){this.AddContentTransform(B,A,0)};LiveBlog.prototype.SetupContentTransformMatrix=function(){this.AddContentTransform(function(A){return(A.Type==2)},function(D,C,A){var E=D.Content;switch(A){case 300:E=E.replace(/\.(jpe?g|png|gif)$/,"_300.$1");break;case 400:E=E.replace(/\.(jpe?g|png|gif)$/,"_400.$1");break;case 800:E=E.replace(/\.(jpe?g|png|gif)$/,"_800.$1");break;case 500:if(new Date(D.Date)>new Date("June 12, 2010")){E=E.replace(/\.(jpe?g|png|gif)$/,"_500.$1")}else{E=E.replace(/\.(jpe?g|png|gif)$/,"_400.$1")}break}var B;if(D.Caption!=null){B=document.createElement("p");B.className="Caption";B.innerHTML=D.Caption.replace(/&quot;/g,'"')}C.innerHTML="<img src='"+E+"' onload='LiveBlog.NewContentImageLoaded(this)'/>";if(B!=null){C.appendChild(B);LiveBlog.GetInstance().TranslateContent(B.innerHTML,B)}});this.AddContentTransform(function(A){return(A.Type==3)},function(D,C,A){var B=null;if(typeof(D.Caption)!="undefined"&&D.Caption!=null){B=D.Caption.replace(/&quot;/g,'"')}C.className+=" Video";LiveBlog.DisplayVideo(D.Content,D.Id+Math.round(10000*Math.random()),C,null,null,A,B,D.Id,false,false,D)});this.AddContentTransform(function(A){return(A.Type==6)},function(D,C,A){var B=null;if(typeof(D.Caption)!="undefined"&&D.Caption!=null){B=D.Caption.replace(/&quot;/g,'"')}C.className+=" Audio";LiveBlog.DisplayAudio(D.Content,D.Id+Math.round(10000*Math.random()),C,null,A,B,D.Id,false,D)});this.AddContentTransform(function(A){return(A.Type==9)},function(C,B,A){if(LiveBlog.GetInstance().IsLivePollAvailable){var D=new LivePoll(C.Entities.Id,C.Entities);D.Draw(B)}else{B.innerHTML="Poll: "+C.Entities.Question}});this.AddContentTransform(function(A){return(A.Type==10)},function(H,C,E){var A=H.Content;switch(E){case 300:A=A.replace(/(http.+?images)(?!.*_500\.(jpe?g|png|gif))(.*?)\.(jpe?g|png|gif)/g,"$1$3_300.$4");break;case 400:A=A.replace(/(http.+?images)(?!.*_500\.(jpe?g|png|gif))(.*?)\.(jpe?g|png|gif)/g,"$1$3_400.$4");break;case 800:A=A.replace(/(http.+?images)(?!.*_500\.(jpe?g|png|gif))(.*?)\.(jpe?g|png|gif)/g,"$1$3_800.$4");break;case 500:if(new Date(H.Date)>new Date("June 12, 2010")){A=A.replace(/(http.+?images)(?!.*_500\.(jpe?g|png|gif))(.*?)\.(jpe?g|png|gif)/g,"$1$3_500.$4")}else{A=A.replace(/(http.+?images)(?!.*_500\.(jpe?g|png|gif))(.*?)\.(jpe?g|png|gif)/g,"$1$3_400.$4")}break;case 600:A=A.replace(/(http.+?images)(?!.*_500\.(jpe?g|png|gif))(.*?)\.(jpe?g|png|gif)/g,"$1$3.$4");break}if(!LiveBlog.IsSecure()){if(A.match(/https:\/\/s3.amazonaws\.com\/images\.scribblelive\.com\//)){A=A.replace(/https:\/\/s3.amazonaws\.com\/images\.scribblelive\.com\//g,"http://images.scribblelive.com/")}}else{if(A.match(/http:\/\/(images|avatars)\.scribblelive\.com\//)){A=A.replace(/http:\/\/(images|avatars)\.scribblelive\.com\//g,"https://s3.amazonaws.com/$1.scribblelive.com/")}}C.innerHTML=A.replace(/&quot;/g,'"');if(C.innerHTML.match(/<(object|embed|iframe)/)){var I=C.innerHTML;I=I.replace(/&quot;/g,'"');var G="https://d11rmv9we9fli4.cloudfront.net/js/jwflvplayer/player-licensed.swf";I=I.replace(/https?:\/\/[^\/]*?\/js\/jwflvplayer\/player-licensed\.swf/,G);var K=-1;var B=-1;switch(E){case 210:K=210;B=130;break;case 240:K=240;B=200;break;case 300:K=300;B=250;break;case 400:K=400;B=334;break;case 500:K=500;B=416;break;case 800:K=800;B=666;break;default:K=600;B=500;break}if(false&&LiveBlog.IsSecure()&&jQuerySL.browser.msie){C.FlashHtml=LiveBlog.ResizeObjectEmbed(I,K,B,false,true);C.innerHTML="<!--<embed>-->To view this Flash content in Microsoft Internet Explorer, please <a href='#' onclick='this.parentNode.innerHTML=this.parentNode.FlashHtml; return false;'>click here</a>"}else{if(E==300||E==400||E==500||E==600||E==800){var D=jQuerySL(I).filter(".SL_Top");if(D.length>0){for(var F=0;F<D.length;F++){var J=jQuerySL(D[F]);if(J.find("object,embed,iframe").length>0){I=I.replace(J.html(),LiveBlog.ResizeObjectEmbed(J.html(),K,B,false,true))}}}C.innerHTML=I}else{C.innerHTML=LiveBlog.ResizeObjectEmbed(I,K,B,false,true)}}}});this.AddContentTransform(function(A){return typeof(A.Content)=="string"},function(H,C,B){if(H.Content.match(/<(object|embed|iframe)/)){var A=H.Content;A=A.replace(/&quot;/g,'"');var E=A.match(/<p class="Caption">(.*)<\/p>/);var F;if(E){F=E[1];A=A.replace(/<p class="Caption">(.*)<\/p>/,"")}var I=-1;var D=-1;switch(B){case 210:I=210;D=130;break;case 220:I=220;D=150;break;case 240:I=240;D=200;break;case 300:I=300;D=250;break;case 400:I=400;D=334;break;case 500:I=500;D=416;break;case 800:I=800;D=666;break;default:I=600;D=500;break}if(false&&LiveBlog.IsSecure()&&jQuerySL.browser.msie){C.FlashHtml=LiveBlog.ResizeObjectEmbed(A,I,D,false,true);C.innerHTML="<!--<embed>-->To view this Flash content in Microsoft Internet Explorer, please <a href='#' onclick='this.parentNode.innerHTML=this.parentNode.FlashHtml; return false;'>click here</a>"}else{C.innerHTML=LiveBlog.ResizeObjectEmbed(A,I,D,false,true);if(F!=null){var G=document.createElement("p");G.className="Caption";G.innerHTML=F;C.appendChild(G);LiveBlog.GetInstance().TranslateContent(G.innerHTML,G)}}}else{C.innerHTML=LiveBlog.GetInstance().TranslateContent(H.Content.replace(/&quot;/g,'"'),C)}})};LiveBlog.prototype.ConstructContentElement=function(D,A){var C=document.createElement("div");C.className="Content";if(A==null){A=this.Width}if(!this.OnConstructContentElement(C,D)){return C}var B=D.Type||1;if((B==1&&D.Content.match(/<object/i)!=null&&D.Content.match(/VideoEmbedHolder/)==null)||B==8){C.className+=" Embed"}D.Content=LiveBlog.GetUrlWithCorrectSecurity(D.Content);for(var E=0;E<this.ContentTransformMatrix.length;E++){if(this.ContentTransformMatrix[E].Condition==null||this.ContentTransformMatrix[E].Condition(D)){this.ContentTransformMatrix[E].Transform(D,C,A);break}}return C};LiveBlog.DisplayAudio=function(H,E,D,C,I,B,G,A,F){return LiveBlog.DisplayVideo(H,E,D,C,0,I,B,G,true,A,F)};LiveBlog.DisplayVideo=function(O,M,N,C,B,F,G,I,D,A,H){if(C==null){C=518}if(B==null){B=288}if(D==null||D==undefined){D=false}if(A==null||A==undefined){A=false}if(this.CheckIfjQueryAvailable()){jQuerySL(N).parents(".Posts li").addClass((D?"Audio":"Video"))}B+=20;var K=LiveBlog.GetInstance();if(F==null){if(K!=null){if(N==K.GetGroupPostsList(0)){F=K.Width}else{F=280}}}if(C>F){if(B<=20){C=F}else{var L=LiveBlog.ResizeProportionally(C,B,F,F);C=L.Width;B=L.Height}}var J=null;J=document.createElement("span");J.style.width=C+"px";J.style.height=B+"px";J.id="Video"+M;J.className="VideoEmbedHolder";N.appendChild(J);if(G!=null&&G!=""){var E=document.createElement("p");E.className="Caption";E.innerHTML=G;N.appendChild(E);K.TranslateContent(G,E)}CompleteHolder=function(){if(document.getElementById("Video"+M)!=null){var P="http://embed.scribblelive.com/MediaData.aspx";var S=P+"?action=GetMediaFile&PostId="+I;var Q=P+"?action=GetThumbnail&PostId="+I;var R=(N!=null&&N.parentNode!=null&&N.parentNode.innerHTML.match(/vine\.co\//i))||(O!==undefined&&O.match(/https:\/\/vines.s3.amazonaws.com/i));if(LiveBlog.CheckIfDeconceptAvailable()&&deconcept.SWFObjectUtil.getPlayerVersion()!=null&&deconcept.SWFObjectUtil.getPlayerVersion().major>0){var U="";if(typeof(ThreadId)!="undefined"){U=ThreadId}J.innerHTML='<embed height="'+B+'" width="'+C+'" flashvars="file='+O+"&fullscreen=true"+(R?"&repeat=always":"")+'" wmode="opaque" allowscriptaccess="always" allowfullscreen="true" quality="high" bgcolor="#ffffff" name="Player'+M+'" id="Player'+M+'" style="'+(D?"height: 20px;":"")+'"src="http://embed.scribblelive.com/js/jwflvplayer/player-licensed.swf?ThreadId='+U+'" type="application/x-shockwave-flash"/>';if(H!==undefined&&H.IsEventPreview){document.getElementById("Video"+M).innerHTML=J.innerHTML}}else{if(LiveBlog.CanPlayh264()&&D===false){J.innerHTML='<video src="'+S+'" controls="controls" width="'+C+'" height="'+B+'" poster="'+Q+'" '+(R?' loop="loop" ':"")+"></video>"}else{if(LiveBlog.CanPlayMpeg()&&D===true){J.innerHTML='<audio src="'+S+'" controls="controls" width="'+C+'" height="'+B+'"></audio>'}else{var T="";if(D===true){T="Click to listen to the audio"}else{if(D===false){T="Click to watch the video"}}J.innerHTML='<a href="'+S+'">'+T+"</a>"}}}}};if(A){CompleteHolder()}else{setTimeout(CompleteHolder,300)}};LiveBlog.prototype.AttachNewPost=function(F,M,G,E,L){var D=document.createElement("li");var K;try{K=F.Type}catch(H){K=1}if((typeof IsMobileSite!="undefined"&&IsMobileSite)&&K=="10"){return false}if(this.IsjQueryAvailable&&jQuerySL("#LoadingMessage").length>0){jQuerySL("#LoadingMessage").remove()}if(G==null){G=this.Width;if(document.getElementById("VideoHolderList")!=null&&F.Rank==0&&(F.Type=="3"||F.Content.match(/<(object|embed|iframe)/i))){G=jQuerySL(document.getElementById("VideoHolderList")).width()}}D.LastModified=F.Date;var A=F.Source;A=(A!=null&&A!="")?' <span class="Source">via '+LiveBlog.GetInstance().GetTranslation(A)+"</span>":"";D.id="LiveBlog_Post"+F.Id;D.className="";D.setAttribute("data-postid",F.Id);if(this.FadeColor_End!=null){D.style.backgroundColor=this.FadeColor_Start}var I=false;if((typeof(HideAvatars)=="undefined"||HideAvatars.length==0)||(HideAvatars[1]==0&&(F.Source.indexOf("twitter")==-1&&F.Source.indexOf("facebook")==-1))||(HideAvatars[6]==0&&(F.Source.indexOf("twitter")!=-1||F.Source.indexOf("facebook")!=-1))){I=true}if(I){var J=document.createElement("div");J.className="avatar-area";D.appendChild(J);LiveBlog.AddAvatarToItem(SCRIBBLE.utilities.GetElementsByClassName("avatar-area","",D)[0],F.CreatorThumbnail)}else{D.className+=" no-avatar"}var B=document.createElement("div");B.className="content-area";D.appendChild(B);var C="Below";if((typeof UseCustomMeta!="undefined"&&UseCustomMeta)&&(typeof CustomMetaCommentLocation!="undefined"&&typeof CustomMetaPostLocation!="undefined")){var C=(F.IsComment&&UseCustomCommentMeta&&typeof UseCustomCommentMeta!="undefined")?CustomMetaCommentLocation:CustomMetaPostLocation}if(C=="Above"){D.className+=" meta-top";SCRIBBLE.utilities.GetElementsByClassName("content-area","",D)[0].appendChild(this.ConstructMetaElement(F,false));SCRIBBLE.utilities.GetElementsByClassName("content-area","",D)[0].appendChild(this.ConstructContentElement(F,G))}else{SCRIBBLE.utilities.GetElementsByClassName("content-area","",D)[0].appendChild(this.ConstructContentElement(F,G));SCRIBBLE.utilities.GetElementsByClassName("content-area","",D)[0].appendChild(this.ConstructMetaElement(F,false))}if(this.PostActions){F.ThreadId=ThreadId;F.Id=F.Id;F.lbl_permalink="Permalink";F.lbl_comment="Comment";SCRIBBLE.utilities.GetElementsByClassName("content-area","",D)[0].appendChild(jQuerySL(this.PostActions(F))[0])}if(K==4){D.className+=" System "}if(F.CreatorId==LiveBlog.GetInstance().UserId){D.className+=" You "}if(this.IsPostUIAvailable&&F.Type){D.className+=" PostType_"+PostUI.GetNumPostType(F.Type)+" "}this.ConnectNewPost(D,null,null,null,F.Rank,F.Group,E,F,L);if(M!=null){setTimeout(function(){LiveBlog.GetInstance().DisconnectPost(D)},M*1000)}};LiveBlog.TranslateCounter=0;LiveBlog.prototype.TranslateContent=function(A,D){var C="en";if(this.DisplayLanguage==null||this.DisplayLanguage==undefined||this.AllowedToEdit||A.match("(<embed|<object|<img|<iframe)")||A.match(/<dl class="Poll(\d)* Poll">/i)){return A}var E="AIzaSyBri61P0SIFI1KK-IpA4F_VMYWj83hq-Uk";var F=D;var G=A;LiveBlog["Translate_"+LiveBlog.TranslateCounter]=function(H){if(H.data){F.innerHTML=H.data.translations[0].translatedText}else{F.innerHTML=G}};var B=document.createElement("script");B.type="text/javascript";B.src="https://www.googleapis.com/language/translate/v2?key="+E+"&target="+this.DisplayLanguage+"&callback=LiveBlog.Translate_"+LiveBlog.TranslateCounter+"&q="+escape(A);document.getElementsByTagName("head")[0].appendChild(B);LiveBlog.TranslateCounter++};LiveBlog.PageHeight=function(){var A,B;if(window.innerHeight&&window.scrollMaxY){A=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight){A=document.body.scrollHeight}else{A=document.body.offsetHeight}}if(window.innerHeight){B=window.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){B=document.documentElement.clientHeight}else{if(document.body){B=document.body.clientHeight}}}return((A>B)?A+20-B:false)};LiveBlog.YPosition=function(){if(document.body&&document.body.scrollTop){return document.body.scrollTop}if(document.documentElement&&document.documentElement.scrollTop){return document.documentElement.scrollTop}if(window.pageYOffset){return window.pageYOffset}return 0};LiveBlog.findPosX=function(A){if(LiveBlog.CheckIfjQueryAvailable()){return jQuerySL(A).offset().left}var B=0;if(A.offsetParent){while(1){B+=A.offsetLeft;if(!A.offsetParent){break}A=A.offsetParent}}else{if(A.x){B+=A.x}}return B};LiveBlog.findPosY=function(A){if(LiveBlog.CheckIfjQueryAvailable()){return jQuerySL(A).offset().top}var B=0;if(A.offsetParent){while(1){B+=A.offsetTop;if(!A.offsetParent){break}A=A.offsetParent}}else{if(A.y){B+=A.y}}return B};LiveBlog.NewContentImageLoaded=function(A){};LiveBlog.ScrollToBottom=function(){try{clearInterval(LiveBlog.ScrollInterval)}catch(A){}LiveBlog.LastPosition=LiveBlog.YPosition();LiveBlog.ScrollInterval=setInterval("LiveBlog.Scroll_Handler(LiveBlog.YPosition()+15)",50)};LiveBlog.Scroll_Handler=function(A){PositionDiffFromLastScroll=A-LiveBlog.LastPosition;if(LiveBlog.YPosition()+10>=LiveBlog.PageHeight()||PositionDiffFromLastScroll<15){clearInterval(LiveBlog.ScrollInterval)}else{window.scrollTo(0,A);LiveBlog.LastPosition=A}};LiveBlog.ConvertServerTimeToLocalTime=function(B,A){var C=new Date(B);var A=(typeof(A)!="undefined"?A:false);if(A&&LiveBlog.CheckIfDateJSAvailable()&&(new Date().hasDaylightSavingTime()&&!(new Date().isDaylightSavingTime())&&C.isDaylightSavingTime())){C.addHours(1)}else{if(A&&LiveBlog.CheckIfDateJSAvailable()&&(new Date().hasDaylightSavingTime()&&(new Date().isDaylightSavingTime())&&!C.isDaylightSavingTime())){C.addHours(-1)}}return new Date(C.getTime()-(new Date()).getTimezoneOffset()*60000)};LiveBlog.IsTodaysDate=function(B){var A=new Date();A.setHours(0);A.setMinutes(0);A.setSeconds(0);var C=A.getTime()+1000*60*60*24;C=new Date(C);if(B>A&&(B<C)){return true}else{return false}};LiveBlog.DateTimeToUTC=function(A){return new Date(A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate(),A.getUTCHours(),A.getUTCMinutes(),A.getUTCSeconds())};LiveBlog.ConvertServerTimeToLocalTimeFriendlyString=function(D,F){var J=LiveBlog.ConvertServerTimeToLocalTime(D,F);var K=(LiveBlog.UserLanguage().match(/^en/i)!=null);var H=new Date();H.setHours(0);H.setMinutes(0);H.setSeconds(0);var G=J.getMinutes();G=(G<10?"0"+G:G);var A=(J.getHours()%12);A=(A==0?"12":A);var L=H.getTime()-1000*60*60*24;L=(new Date()).setTime(L);var I=H.getTime()+1000*60*60*24;I=new Date(I);if(J>H&&(J<I)){if(LiveBlog.CheckIfDateJSAvailable()){return J.toString(Date.CultureInfo.formatPatterns.shortTime.replace(/\bhh\b/,"h").replace(/\bHH\b/,"H"))}else{if(K){return A+":"+G+" "+(J.getHours()<12?"AM":"PM")}else{return J.getHours()+":"+G}}}else{if(J>L&&(J<I)&&K){return A+":"+G+" "+(J.getHours()<12?"AM":"PM")+" yesterday"}else{if(LiveBlog.CheckIfDateJSAvailable()){if(K){var E="";var B="";if(J.getYear()==new Date(new Date().getTime()).getYear()){E="MMMM d";TimeFormat="h:mm tt"}else{E="MMMM d, yyyy";TimeFormat="h:mm tt"}return J.toString(E)+" at "+J.toString(TimeFormat)}else{var C="";if(J.getYear()==new Date(new Date().getTime()).getYear()){C=Date.CultureInfo.formatPatterns.monthDay+" "+Date.CultureInfo.formatPatterns.shortTime}else{C=Date.CultureInfo.formatPatterns.longDate+" "+Date.CultureInfo.formatPatterns.shortTime}C=C.replace(/\bdd\b/,"d").replace(/(\bdddd\b)+,/,"").replace(/\bdddd\b/,"").replace(/\bhh\b/,"h").replace(/\bHH\b/,"H");return J.toString(C)}}else{if(!K){return(J.getMonth()+1)+"/"+(J.getDate())+"/"+J.getFullYear()+" "+J.getHours()+":"+G}else{return J.toLocaleString()}}}}};LiveBlog.ConvertServerTimeToLocalTimeOnlyFriendlyString=function(B){var C=LiveBlog.ConvertServerTimeToLocalTime(B);var A=(LiveBlog.UserLanguage().match(/^en/i)!=null);var D=C.getMinutes();D=(D<10?"0"+D:D);var E=(C.getHours()%12);E=(E==0?"12":E);if(A){return E+":"+D+" "+(C.getHours()<12?"AM":"PM")}return C.getHours()+":"+D};LiveBlog.ResizeProportionally=function(D,A,F,E,B){B=(B==null?false:true);D=parseInt(D);A=parseInt(A);var C=1;F=parseInt(F);E=parseInt(E);if(B||D>F){C=1*F/D}if(B||A>E){if(1*E/A<C){C=1*E/A}}F=Math.round(D*C);E=Math.round(A*C);return{Width:F,Height:E}};LiveBlog.ExtractObjectEmbeds=function(B){var C=new Array();try{var E=B.match(/(<embed.*?\/?>|<object.*?>.*?<\/object>|<iframe.*?>.*?<\/iframe>)+/ig);for(var A=0;A<E.length;A++){C.push(E[A])}}catch(D){}return C};LiveBlog.ResizeObjectEmbed=function(A,J,N,M,C){M=(typeof(M)=="undefined"?false:M);if(M){var I;var F=(new RegExp(/width=['"]?(\d+%?)['"]?/i)).exec(A);var L=(new RegExp(/height=['"]?(\d+%?)['"]?/i)).exec(A);if(F[1]=="100%"){I={"Width":J,"Height":L[1]}}else{I=LiveBlog.ResizeObjectEmbedDimensions(A,J,N,C)}A=A.replace(/width=([0-9]+%?)/g,"width="+I.Width);A=A.replace(/height=([0-9]+%?)/g,"height="+I.Height);A=A.replace(/\swidth=['"]?([0-9]+%?)['"]?/g," width='"+I.Width+"'");A=A.replace(/\sheight=['"]?([0-9]+%?)['"]?/g," height='"+I.Height+"'");var H="".toLowerCase();var O=A.match(/<param.?name=['"]?movie['"]?.?value=['"]?https?:\/\/([a-z0-9\.]+)['"]?|<param.?value=['"]?https?:\/\/([a-z0-9\.]+)['"]?.*?name=['"]?movie['"]?|<embed.*?src=['"]?https?:\/\/([a-z0-9\.]+)['"]?/ig);if(O){var B="";for(var E=0;E<O.length;E++){B+=O[E]}var O=B.match(/https?:\/\/([a-z0-9\.]+)/ig);var Q=true;for(var E=0;E<O.length;E++){var K=O[E].replace(/https?:\/\/([a-z0-9\.]+)/i,"$1");if(H.indexOf(K)<0){Q=false;break}}if(Q){A=A.replace(/allowscriptaccess=(['"])([^'"]+)(['"])/i,"allowscriptaccess=$1always$3");A=A.replace(/(param\s+name=['"]allowscriptaccess['"]\s+value=)(['"])([^'"]+)(['"])/i,"$1$2always$4");A=A.replace(/(param\s+value=)(['"])([^'"]+)(['"])([^>]\s*name=['"]allowscriptaccess['"])/i,"$1$2always$4$5")}}return A}else{var D=A;var G=LiveBlog.ExtractObjectEmbeds(A);for(var E=0;E<G.length;E++){var P=G[E];D=D.replace(P,LiveBlog.ResizeObjectEmbed(P,J,N,true,C))}return D}};LiveBlog.ResizeObjectEmbedDimensions=function(F,J,H,I){var D=(new RegExp(/width=['"]?(\d+)['"]?/i)).exec(F);var B=(new RegExp(/height=['"]?(\d+)['"]?/i)).exec(F);if(!D){var C=new RegExp(/<(object|embed)[^>]+?style=['"][\s\S]*?width:\s?([0-9]+)(px)?[\s\S]*?[^'"]/i);var A=C.exec(F.replace(/&lt;/g,"<").replace(/&gt;/,">"));if(A){D=A[2]}}if(!B){var K=new RegExp(/<(object|embed)[^>]+?style=['"][\s\S]*?height:\s?([0-9]+)(px)?[\s\S]*?[^'"]/i);var E=K.exec(F.replace(/&lt;/g,"<").replace(/&gt;/,">"));if(E){B=E[2]}}if(D&&B){var G=LiveBlog.ResizeProportionally(D[1],B[1],J,H,I);J=G.Width;H=G.Height}return{Width:J,Height:H}};LiveBlog.prototype.FlashEdited=function(A){if(this.IsjQueryAvailable){jQuerySL(A).children("div.Content").fadeTo("fast",0.1).fadeTo("slow",1,function(){if(this.style.removeAttribute!=null){this.style.removeAttribute("filter")}})}};LiveBlog.prototype.FadeIn=function(A){if(this.FadeColor_End!=null){var E=A.parentNode;var B=E.id;var C=this.FadeColor_End;var D=(E.parentNode.className+"").match(/QA/);if(typeof PageSpecific_FadeColor_End!="undefined"&&PageSpecific_FadeColor_End!=""){C=PageSpecific_FadeColor_End}else{if(this.FadeColor_End_Comment!=null&&D){_FadeColour_End=""}else{if(this.FadeColor_End_Comment!=null&&A.className&&(A.className+"").match(/Comment/)&&(B=="SocialTwitterModerated"||B=="SocialFacebookModerated"||B=="Moderated"||B=="Moderated")){C=this.FadeColor_End_Comment}}}if(!(this.PostsList.className+"").match(/is-backend/)){if(this.IsjQueryAvailable){jQuerySL(A).animate({backgroundColor:C},{queue:false,duration:600})}else{A.style.backgroundColor=C}}else{A.style.backgroundColor=""}}};LiveBlog.CheckIfDateJSAvailable=function(){if(Date.CultureInfo==null||Date.CultureInfo==undefined){return false}else{return true}};LiveBlog.ReloadPage=function(){window.location.hash="#";window.location.reload();return false};var Fat={make_hex:function(C,A,B){C=C.toString(16);if(C.length==1){C="0"+C}A=A.toString(16);if(A.length==1){A="0"+A}B=B.toString(16);if(B.length==1){B="0"+B}return"#"+C+A+B},fade_all:function(){var C=document.getElementsByTagName("*");for(var B=0;B<C.length;B++){var A=C[B];var D=/fade-?(\w{3,6})?/.exec(A.className);if(D){if(!D[1]){D[1]=""}if(A.id){Fat.fade_element(A.id,null,null,"#"+D[1])}}}},fade_element:function(N,C,A,P,F){if(!C){C=30}if(!A){A=3000}if(!P||P=="#"){P="#FFFF33"}if(!F){F=this.get_bgcolor(N)}var L=Math.round(C*(A/1000));var Q=A/L;var M=Q;var K=0;if(P.length<7){P+=P.substr(1,3)}if(F.length<7){F+=F.substr(1,3)}var S=parseInt(P.substr(1,2),16);var J=parseInt(P.substr(3,2),16);var H=parseInt(P.substr(5,2),16);var D=parseInt(F.substr(1,2),16);var B=parseInt(F.substr(3,2),16);var O=parseInt(F.substr(5,2),16);var E,R,G,I;while(K<L){E=Math.floor(S*((L-K)/L)+D*(K/L));R=Math.floor(J*((L-K)/L)+B*(K/L));G=Math.floor(H*((L-K)/L)+O*(K/L));I=this.make_hex(E,R,G);setTimeout("Fat.set_bgcolor('"+N+"','"+I+"')",M);K++;M=Q*K}setTimeout("Fat.set_bgcolor('"+N+"','"+F+"')",M)},set_bgcolor:function(B,C){var A=document.getElementById(B);A.style.backgroundColor=C},get_bgcolor:function(B){var A=document.getElementById(B);while(A){var C;if(window.getComputedStyle){C=window.getComputedStyle(A,null).getPropertyValue("background-color")}if(A.currentStyle){C=A.currentStyle.backgroundColor}if((C!=""&&C!="transparent")||A.tagName=="BODY"){break}A=A.parentNode}if(C==undefined||C==""||C=="transparent"){C="#FFFFFF"}var D=C.match(/rgb\s*\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/);if(D){C=this.make_hex(parseInt(D[1]),parseInt(D[2]),parseInt(D[3]))}return C}};LiveBlog.PageLoadTime=null;LiveBlog.StartAdReload=function(){if(!LiveBlog.CheckIfjQueryAvailable()){return}if(jQuerySL("iframe.SL_Ad").length<=0){return}if(LiveBlog.PageLoadTime!=null){return}LiveBlog.PageLoadTime=new Date();setInterval(function(){LiveBlog.AdReload()},5000)};LiveBlog.AdReload=function(G){var D=90000;if(G==null){var C=jQuerySL("iframe.SL_Ad");var F=null;var B=new Date();var H=0;var I=D;for(var A=0;A<C.length;A++){G=C.get(A);if(G.className.match(/ReloadRate/)){try{I=parseInt(G.className.match(/ReloadRate([0-9]+)/)[1])}catch(E){I=D}}else{I=D}if(G.LastReload==null){G.LastReload=LiveBlog.PageLoadTime}H=(B-G.LastReload);if(H>I){break}else{G=null}}}if(G!=null){try{G.src=G.src;G.LastReload=new Date()}catch(E){}}};LiveBlog.LoadPageReload=function(){var A=(document.location+"").match(/reload=([0-9]+)/i)[1];document.getElementById("Discussion").style.height=A+"px"};LiveBlog.PageReload=function(){var B=document.getElementById("PageReloadFrame");if(B==null){var C="reload="+jQuerySL(document).height();if((document.location+"").match(/\?/)){C=document.location+"&"+C}else{C=document.location+"?"+C}B=document.createElement("iframe");B.frameBorder=0;B.id="PageReloadFrame";B.src=C;B.scrolling="no";B.style.height=(jQuerySL(document).height()-500)+"px";document.getElementById("Discussion").style.position="relative";document.getElementById("Discussion").style.zIndex=9999;document.getElementsByTagName("body")[0].appendChild(B);var A=document.getElementsByTagName("object");for(var D=0;D<A.length;D++){A[D].parentNode.removeChild(A[D])}A=document.getElementsByTagName("embed");for(var D=0;D<A.length;D++){A[D].parentNode.removeChild(A[D])}}else{B.contentWindow.location.reload(true)}};LiveBlog.Refresh=function(A){jQuerySL(".EventCountdown").countdown.stop();jQuerySL(".EventCountdown h3").html("This event is now going live! Click here to reload");jQuerySL(".EventCountdown").effect("pulsate",{times:4},1800);jQuerySL(".EventCountdown").css("cursor","pointer");jQuerySL(".EventCountdown").click(LiveBlog.ReloadPage);return false};LiveBlog.prototype.Filter=function(A,B){if(A==null||A==""){jQuerySL("#Posts").load(document.location+" #Posts>*",B);LiveBlog.prototype.OnConnectNewPost=function(){return true}}else{jQuerySL("#Posts").load(document.location+"&Filter="+encodeURIComponent(A)+" #Posts>*",B);LiveBlog.prototype.OnConnectNewPost=function(C){return(C.getElementsByTagName("div")[0].innerHTML.toLowerCase().indexOf(A.toLowerCase())>=0)}}};LiveBlog.prototype.GetTranslation=function(B){if(B==null||B==undefined||B==""){return B}var A=B.toLowerCase();switch(A){case"mobile":A="mobile";break;default:A=B;break}return A};LiveBlog.prototype.Linkize=function(C){var G='Please enter a URL:<br /> <input type="text" id="URLInput" name="URLInput" value="" />';G+="<br /><br />";G+='Title<br /><input type="text" id="URLTitle" name="URLTitle" value="" />';var D=this;C=C.get(0);if(C==null){C=document.getElementsByTagName("textarea")[0]}var H=null;var B=0;var A=0;if(C.setSelectionRange){H=C.value.substring(C.selectionStart,C.selectionEnd);B=C.selectionStart;A=C.selectionEnd}else{if(document.selection&&document.selection.createRange){C.focus();var E=document.selection.createRange();H=E.text;var F=E.duplicate();F.moveToElementText(C);F.setEndPoint("EndToEnd",E);B=F.text.length-E.text.length;A=B+E.text.length}}if(B==0&&A==0){B=C.value.length;A=B}jQuerySL.prompt(G,{selection:{Start:B,End:A},data:{UserSelectionText:H,Element:C},buttons:{Ok:true,Cancel:false},loaded:function(){jQuerySL("#URLInput").get(0).focus();jQuerySL("#URLInput").val("http://");jQuerySL("#URLTitle").val(H);jQuerySL("#URLInput, #URLTitle").keyup(function(I){if(I.keyCode==27){jQuerySL.prompt.close()}else{if(I.keyCode==13){jQuerySL("#jqi_state0_buttonOk").focus().trigger("click");return true}}})},callback:function(P,J,O){if(P==undefined||P==false){return false}var N=this.data;var I=this.selection;var Q=jQuerySL.trim(O.URLInput);if(Q!="http://"&&Q!=""){var K='<a href="'+Q+'">';var M="</a>";var L=(jQuerySL.trim(O.URLTitle)!=""?O.URLTitle:(jQuerySL.trim(N.UserSelectionText)!=""?N.UserSelectionText:Q));N.Element.value=N.Element.value.substring(0,I.Start)+K+L+M+N.Element.value.substring(I.End,N.Element.value.length)}}});return false};LiveBlog.IsEmbed=function(){var A=document.getElementById("Discussion");return(A!=null&&A.className&&A.className.match(/Embed/))};LiveBlog.ShortenText=function(A,F,E){if(LiveBlog.CheckIfjQueryAvailable()){if(A.length<=F){return A}var C=E;A=jQuerySL.trim(A);var B;var D=0;while(A.length>F-C.length){if(D==1000){break}A=A.substring(0,A.length-C.length);D++}A+=C}return A};LiveBlog.prototype.PollForMetrics=function(){if(LiveBlog.IsEmbed()||(typeof(IsWhitelabel)!=="undefined"&&IsWhitelabel)||(typeof(IsMobileSite)!=="undefined"&&IsMobileSite)){return}this.GetMetrics();var A=this;var B=setInterval(function(){A.GetMetrics()},50000+Math.round(10000*Math.random()))};LiveBlog.prototype.GetMetrics=function(C,A){if(typeof(Auth)!="undefined"){var B=this;LiveBlog.GetActiveWatchers(B.ThreadId,function(D){LiveBlog.GetInstance(B.ThreadId).MetricsPing(D)})}};LiveBlog.GetActiveWatchers=function(C,A){if(typeof(Auth)!="undefined"){var B=this;jQuerySL.ajax({type:"GET",url:"/api/rest/metrics/"+C+"/watchers/now",data:{Auth:Auth,format:"json"},success:function(D,F,E){if(typeof(A)!="undefined"){A(D,C)}},error:function(E,F,D){if(E.status=="401"){Reauthenticate()}}})}};LiveBlog.OuterHtmlAll=function(A){return jQuerySL(A).clone().wrapAll("<div></div>").parent().html()};LiveBlog.WindowWidth=function(){return(window.innerWidth?window.innerWidth:document.documentElement.clientWidth)};LiveBlog.MeasureContentWidthAvailable=function(A){var B=300;var C=LiveBlog.WindowWidth()-30;if(A){C-=80}if(C>=800){B=800}else{if(C>=600){B=600}else{if(C>=500){B=500}else{if(C>=400){B=400}else{if(C>=300){B=300}else{B=C}}}}}return B};LiveBlog.prototype.Load=function(E,G,H){var I=10;E=E.Posts;var B=E.length-1;var F=this;this.Width=LiveBlog.MeasureContentWidthAvailable(G);this.NextClass="";if(this.Width<300){this.Width=300}for(var C=0;B>=0&&C<I;B--,C++){var D=E[B];D.Date=D.ReceivedDate;F.LastSoundPlay=new Date();if(D.IsComment){F.AttachNewComment(D,F.Width,45,true)}else{F.AttachNewPost(D,null,F.Width,45,true)}}var A=setInterval(function(){for(var K=0;B>=0&&K<I;B--,K++){var J=E[B];J.Date=J.ReceivedDate;F.LastSoundPlay=new Date();if(J.IsComment){F.AttachNewComment(J,F.Width,45,true)}else{F.AttachNewPost(J,null,F.Width,45,true)}}if(B<=0){clearInterval(A);F.NextClass="Odd";if(H!=null){H();H=null}}},200)};LiveBlog.createCSSClass=function(A,F,E){if(!E){E=document.getElementById("CustomStyleSheet")}var B=E;var G=B.sheet?B.sheet:B.styleSheet;var C=typeof G.media;if(G){if(G.addRule){if(!A.match(/,/)){G.addRule(A,F)}else{var H=A.split(",");for(var D=0;D<H.length;D++){if(!H[D].match(/^\s+$/)){G.addRule(H[D],F)}}}}else{if(G.insertRule){G.insertRule(A+"{"+F+"}",0)}}}};
/*file name: /js/Thread.aspx */
var SavesCount=0;var LastPostInputValue="";var PostValues=new Array();var PendingRequests=new Array();if(typeof(BannedUsers)==="undefined"){var BannedUsers=[]}if(typeof(AutoApproved)==="undefined"){var AutoApproved=[]}if(typeof(UserType)==="undefined"){var UserType=0}if(typeof(Following)==="undefined"){var Following=[]}function SelectSound(A){if(A.href!=null){jQuerySL(A).parent().siblings().removeClass();jQuerySL(A).parent().addClass("Selected");if(A.href=="#"){LiveBlog.GetInstance().NewPostSound=null}else{LiveBlog.GetInstance().NewPostSound=A.href}}else{if(A.value==""){LiveBlog.GetInstance().NewPostSound=null}else{LiveBlog.GetInstance().NewPostSound=A.value}}}function BrowserCulture(D){var B=(navigator.language?navigator.language:navigator.userLanguage);try{if(D==true&&B!=null&&B!=undefined&&B!=""){var A=B.match(/(^.*?)-/i)[1];if(A!=""){return A}}}catch(C){}return B}function MonitorInput(D,A,E){if(!A){A=window.event}var F=null;if(A.keyCode){F=A.keyCode}else{if(A.which){F=A.which}}var B=document.getElementById("PostInput");var G=true;var C=document.getElementById("EnterToPost");if((C!=null&&C.getElementsByTagName("input").length>0&&!C.getElementsByTagName("input")[0].checked)||(C==null&&BrowserCulture(true)=="ja")){G=false}if(false&&F==76&&A.ctrlKey){LiveArticle.CreateFromTextarea(document.getElementById("PostInput"))}else{if(F==13&&!A.shiftKey&&G){SaveButton_Clicked(E);A.cancelBubble=true;A.returnValue=false;if(A.stopPropagation){A.stopPropagation()}return false}else{LastPostInputValue=B.value+""}}if(jQuerySL("#SocialNetworkTwitterButton").hasClass("PublishToNetwork")){EnableTwitterInputSettings()}}function EnableTwitterInputSettings(){DetectURLAndShorten("PostInput",function(A){jQuerySL("#PostInput").val(A);SetCharacterCount("PostInput")})}function DetectURLAndShorten(J,C){var D=jQuerySL("#"+J);var E=D.val();if(E.toLowerCase().indexOf("<embed")>-1){C(E);return}var F=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;var A=E.match(F);var I=0;if(A!=null){I=A.length;for(var B=0;B<A.length;B++){var K=A[B];if(K.toLowerCase().indexOf("s.scrbliv.me")<0&&K.toLowerCase().indexOf("bit.ly")<0){var G=escape(K);var H="https://api-ssl.bitly.com/v3/shorten?login=scribblelive&apiKey=R_6b6cde913f6f7b8325df2fb1491f580c&longUrl="+G;jQuerySL.ajax({url:H,dataType:"jsonp",success:function(L){if(L.status_code==200){E=E.replace(K,L.data.url);I--}else{I--}if(I==0){C(E)}},error:function(L){I--;if(I==0){C(E)}}})}else{I--;if(I==0){C(E)}}}}if(I==0){C(E)}}function SetCharacterCount(C){var B=jQuerySL("#"+C);var A=B.val().length;if(A<=140){jQuerySL("#CharacterCount").html(A)}else{var D=140-A;jQuerySL("#CharacterCount").html("<span class='Negative'>"+D+"</span>")}}function SaveButton_Clicked(A){var D=document.getElementById("PostInput");var B=D.value+"";B=B.replace(/[\n\r]+$/g,"");B=B.replace(/</g,"&lt;");B=B.replace(/>/g,"&gt;");if(!ContentValid(B)){alert("Oops, we don't support any blank entries. Please try again.")}else{if(typeof GigyaSL!=="undefined"){GigyaSL.LastComment=D.value;if(GigyaSL.NeedsLogin&&(LiveBlog.GetInstance().ASPSID==null||LiveBlog.GetInstance().ASPSID=="")){var C=0;if(GigyaSL.SignInTries>0){C=Math.pow(2,GigyaSL.SignInTries);if(C>30){C=30}}C=C*1000;GigyaSL.SignInTries++;if(IsCommentModerationDialogAvailable()){ShowCommentModerationDialog("Saving...")}setTimeout(function(){SaveNew(B,A)},C)}else{SaveNew(B,A)}}else{SaveNew(B,A)}D.value="";EnableTwitterInputSettings()}}function SaveChanges_Handler(req,PostId){if(req.readyState==4){if(req.status==200){var ResponseObject=eval("("+req.responseText+")");var Item=document.getElementById("LiveBlog_Post"+PostId);Item.className=Item.className.replace(/Saving/,"");var ContentWidth=LiveBlog.GetInstance().Width;var IsShortVersion=false;if(PostUI.IsInOnDeck(Item)||PostUI.IsInModeration(Item)){ContentWidth=210;IsShortVersion=true}var CurrentItem=SCRIBBLE.utilities.GetElementsByClassName("Content","",Item)[0];SCRIBBLE.utilities.GetElementsByClassName("content-area","",Item)[0].insertBefore(LiveBlog.GetInstance().ConstructContentElement(ResponseObject,ContentWidth),CurrentItem);SCRIBBLE.utilities.GetElementsByClassName("content-area","",Item)[0].removeChild(CurrentItem);var CurrentMetas=SCRIBBLE.utilities.GetElementsByClassName("Meta","",Item);var CurrentMeta=CurrentMetas[CurrentMetas.length-1];SCRIBBLE.utilities.GetElementsByClassName("content-area","",Item)[0].insertBefore(LiveBlog.GetInstance().ConstructMetaElement(ResponseObject,IsShortVersion),CurrentMeta);SCRIBBLE.utilities.GetElementsByClassName("content-area","",Item)[0].removeChild(CurrentMeta);Item.LastEdit=ResponseObject.Date;LiveBlog.GetInstance().OnEditPost(Item,Item.parentNode,PostId,ResponseObject.Rank,ResponseObject.Group)}else{return false}}}function ChangeGroup(pId,pElement){var IsContentEdited=false;if(jQuerySL(".FloatingEdit"+pId+" textarea.Modified").length>0){IsContentEdited=true}pElement.className+=" Saving";if(PendingRequests["Item"+pId]!=null&&PendingRequests["Item"+pId]==1){return false}PendingRequests["Item"+pId]=1;var req=new XMLHttpRequest();req.open("POST","/Post.aspx",true);req.setRequestHeader("Content-Type","application/x-www-form-urlencoded");req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){var ResponseObject=eval("("+req.responseText+")");if(ResponseObject.Error!=undefined){alert(ResponseObject.Error)}else{pElement.id+="DELETING";if(ResponseObject.Type=="9"){pElement.parentNode.removeChild(pElement)}else{LiveBlog.GetInstance().DisconnectPost(pElement)}LiveBlog.GetInstance().AttachNewComment(ResponseObject)}PendingRequests["Item"+pId]=null}}};var Content=pElement.firstChild.innerHTML+"";if(jQuerySL(".FloatingEdit"+pId+" textarea.Modified").length>0){Content=jQuerySL(".FloatingEdit"+pId+" textarea.Modified").val()+""}req.send("Action=updatetext&Group=0&PostId="+pId+"&Content="+encodeURIComponent(Htmlize(Content))+"&IsContentEdited="+(IsContentEdited?"1":"0"));return false}function Sticky(PostId,pIsStuck,pButtonElement){pElement=document.getElementById("LiveBlog_Post"+PostId);if(LiveBlog.GetInstance().IsEmbed(pElement)){LiveBlog.GetInstance().DisconnectPost(pElement)}pElement.className=(pElement.className+"").replace(/Focus/g,"");var req=new XMLHttpRequest();req.open("POST","/Post.aspx",true);req.setRequestHeader("Content-Type","application/x-www-form-urlencoded");req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){var ResponseObject=eval("("+req.responseText+")");if(LiveBlog.GetInstance().IsEmbed(pElement)){var Width=(pIsStuck?((typeof IsStandardView!="undefined"&&IsStandardView)?500:300):null);LiveBlog.GetInstance().AttachNewPost(ResponseObject,null,Width)}else{LiveBlog.GetInstance().ConnectNewPost(pElement,null,null,null,ResponseObject.Rank,ResponseObject.GroupId,null,ResponseObject)}}}};req.send("action=stickpost&PostId="+PostId+"&Stick="+(pIsStuck?1:0)+"&rand="+Math.round(10000000*Math.random()));return false}function Delete(A,C){var B=document.getElementById("LiveBlog_Post"+A),E=(/Moderated/g).test(B.offsetParent.id),F=false;if(C==null){C=false}if(C){F=true}else{F=confirm("Are you sure you want to delete this entry?")}if(B&&F){LiveBlog.GetInstance().DisconnectPost(B);if(E){jQuerySL(document).trigger(jQuerySL.Event("socialsidebar-adjustscrollbar"))}if(typeof window.CurrentArticle!=="undefined"){setTimeout(function(){jQuerySL("#Content .Posts > li").trigger("mouseup");jQuerySL("body").css({"cursor":"auto"})},300)}var D=new XMLHttpRequest();D.open("POST","/Post.aspx",true);D.setRequestHeader("Content-Type","application/x-www-form-urlencoded");D.send("Action=delete&PostId="+A)}return false}function Ban(F,C,E,D,A){if(C!=null&&C.id&&(C.id+"").match(/^LiveBlog_Post/)){PostUI.GetInstance().UnFocus(C)}var B=false;if(D!=null){B=confirm("Are you sure you want to ban this user from all your events?")}else{B=confirm("Are you sure you want to ban this user from this event?")}if(B){if(C!=null&&LiveBlog.GetInstance()!=null){if(C.parentNode&&C.parentNode==document.getElementById("Moderated")){LiveBlog.GetInstance().DisconnectPost(C)}}else{if(C!=null){C.parentNode.removeChild(C)}}if(F==null){F=""}if(E==null){E=""}if(D==null){D=""}jQuerySL.ajax({url:"/Post.aspx",contentType:"application/x-www-form-urlencoded",type:"POST",data:{Action:"ban",userid:F,ThreadId:ThreadId,PostId:E,ClientId:D},success:function(G,J,H){try{if(F!=""&&D==""){BannedUsers[F]=1}if(D!=""&&F!=""){BannedClientUsers[F]=1}if(typeof(A)=="function"){A()}}catch(I){alert(I+"Error occurred while trying to ban user.")}},error:function(G,I,H){if(I=="error"&&G.statusText=="Forbidden"){alert("You don't have permission")}if(typeof(A)=="function"){A()}}})}return false}function UnBan(C,B,A,D){if(B!=null&&LiveBlog.GetInstance()!=null){LiveBlog.GetInstance().DisconnectPost(B)}else{if(B!=null){B.parentNode.removeChild(B)}}if(A==null){A=""}jQuerySL.ajax({url:"/Post.aspx",contentType:"application/x-www-form-urlencoded",type:"POST",data:{Action:"unban",userid:C,ThreadId:ThreadId,ClientId:A},success:function(E,H,F){try{BannedUsers[C]=0;if(A!=""){BannedClientUsers[C]=0}if(LiveBlog.GetInstance().IsjQueryAvailable){jQuerySL(".UserMenu").remove()}if(typeof(D)=="function"){D()}}catch(G){alert(G+"Error occurred while trying to ban user.")}},error:function(E,G,F){if(G=="error"&&E.statusText=="Forbidden"){alert("You don't have permission")}if(typeof(D)=="function"){D()}}});return false}function ApproveComment(pId,pToGroup){if(pToGroup==null){pToGroup=0}var ModElement=jQuerySL("#Moderated #LiveBlog_Post"+pId).get(0);if(ModElement==undefined||ModElement==null){return false}var IsContentEdited=false;var Content=SCRIBBLE.utilities.GetElementsByClassName("Content","",ModElement)[0].innerHTML+"";if(jQuerySL(".FloatingEdit"+pId+" textarea.Modified").length>0){IsContentEdited=true;var Content=jQuerySL(".FloatingEdit"+pId+" textarea.Modified").val()+""}var _prevId=ModElement.id;ModElement.id+="DELETING";ModElement.className+=" Saving";jQuerySL(ModElement).find(".Actions .Approve a").addClass("approving");if(PendingRequests["Item"+pId]!=null&&PendingRequests["Item"+pId]==1){return false}PendingRequests["Item"+pId]=1;var req=new XMLHttpRequest();req.open("POST","http://embed.scribblelive.com/Post.aspx",true);req.setRequestHeader("Content-Type","application/x-www-form-urlencoded");req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){var ResponseObject=eval("("+req.responseText+")");if(ResponseObject.Error!=undefined){alert(ResponseObject.Error);ModElement.id=_prevId}else{if(ResponseObject.Type=="9"){ModElement.parentNode.removeChild(ModElement);if(LiveBlog.IsjQueryAvailable){jQuerySL(document).trigger("indicator:comments");jQuerySL(document).trigger(jQuerySL.Event("socialsidebar-adjustscrollbar"))}}else{LiveBlog.GetInstance().DisconnectPost(ModElement);if(LiveBlog.IsjQueryAvailable){jQuerySL(document).trigger(jQuerySL.Event("socialsidebar-adjustscrollbar"))}}LiveBlog.GetInstance().AttachNewComment(ResponseObject)}PendingRequests["Item"+pId]=null}setTimeout(function(){if(LiveBlog.GetInstance().IsApprovingComment==pId){LiveBlog.GetInstance().IsApprovingComment=null;LiveBlog.GetInstance().ExecuteModeratedCommentConnectQueue()}},2000)}};LiveBlog.GetInstance().IsApprovingComment=pId;if(!PostUI.IsTextOnly(ModElement)&&jQuerySL!=null&&IsContentEdited){jQuerySL.post("/Post.aspx",{"Action":"updatetext","PostId":pId,"Content":Htmlize(Content)},function(pResponse){IsContentEdited=true;req.send("Action=approvecomment&PostId="+pId+"&ThreadId="+ThreadId+"&Group="+pToGroup+"&Content="+encodeURIComponent(Htmlize(Content))+"&IsContentEdited="+(IsContentEdited?"1":"0"))})}else{req.send("Action=approvecomment&PostId="+pId+"&ThreadId="+ThreadId+"&Group="+pToGroup+"&Content="+encodeURIComponent(Htmlize(Content))+"&IsContentEdited="+(IsContentEdited?"1":"0"))}setTimeout(function(){if(LiveBlog.GetInstance().IsApprovingComment==pId){LiveBlog.GetInstance().IsApprovingComment=null;LiveBlog.GetInstance().ExecuteModeratedCommentConnectQueue()}},6000);return false}function FollowTweeter(C,B,A){FollowTweeter.AccountName=C||FollowTweeter.AccountName;FollowTweeter.InputElement=B||FollowTweeter.InputElement;FollowTweeter.Callback=A||FollowTweeter.Callback;if(jQuerySL.prompt!=undefined&&jQuerySL.prompt!=null){jQuerySL.prompt.close()}jQuerySL.ajax({type:"POST",url:"/Post.aspx",data:{Action:"followtweeter",TwitterAccount:FollowTweeter.AccountName,ThreadId:ThreadId},success:function(D){ButtonRestore();if(D.Error!=null){alert(D.Error);return false}if(FollowTweeter.InputElement!=null){if(FollowTweeter.InputElement.value==FollowTweeter.AccountName){FollowTweeter.InputElement.value=""}}else{if(D!=null&&D.Id!=null){Following[FollowTweeter.AccountName]=D.Id}jQuerySL(".UserMenu").remove()}if(jQuerySL("#TwitterFollowing").length>0){jQuerySL("#TwitterFollowing").load("/client/Write/Twitter.aspx #TwitterFollowing>*","id="+ThreadId);var E=parseInt(jQuerySL("#FollowsUsed").html())+1;jQuerySL("#FollowsUsed").html(E)}var F="Now following [[[User]]]";F=F.replace("[[[User]]]",FollowTweeter.AccountName);alert(F);if(typeof(FollowTweeter.Callback)=="function"){FollowTweeter.Callback()}},error:function(E,F,D){if(F!=null&&F=="error"&&E.status==400){alert("Could not find Twitter account "+C)}else{if(F!=null&&F=="error"&&E.status==417){alert("Twitter user already being followed.")}else{if(F!=null&&F=="error"&&E.status==420){alert("You have reached the maximum number of allowed twitter follows.")}else{if(F!=null&&F=="error"&&E.status==401){PopUpTwitterOauth("FollowTweeter")}else{alert("An error has occurred, please try again.")}}}}ButtonRestore()}});return false}FollowTweeter.AccountName=null;FollowTweeter.InputElement=null;FollowTweeter.Callback=null;function UnFollowTweeter(C,B,A,D){jQuerySL.post("/Post.aspx",{"Action":"unfollowtweeter",SearchId:C,ThreadId:(typeof(D)!="undefined"?D:ThreadId)},function(){if(B!=null){B.parentNode.parentNode.removeChild(B.parentNode);var E=parseInt(jQuerySL("#FollowsUsed").html())-1;jQuerySL("#FollowsUsed").html(E)}else{jQuerySL(".UserMenu").remove();for(var F in Following){if(Following[F]==C){delete Following[F]}}}if(typeof(A)=="function"){A()}});return false}function SaveSocialPost(pGuidId,pAsynchronous,pGroupId,pLat,pLon,pType){var ModElement=document.getElementById("LiveBlog_Post"+pGuidId);if(ModElement==undefined||ModElement==null){return false}var Content=SCRIBBLE.utilities.GetElementsByClassName("Content","",ModElement)[0].innerHTML+"";jQuerySL(ModElement).find(".Actions .Approve a").addClass("approving");if(jQuerySL(".FloatingEdit"+pGuidId+" textarea.Modified").length>0){if(pType=="instagram"){var previousCaption=SCRIBBLE.utilities.GetElementsByClassName("Caption","",ModElement)[0].innerHTML+"";Content=Content.replace(previousCaption,jQuerySL(".FloatingEdit"+pGuidId+" textarea.Modified").val()+"")}else{Content=jQuerySL(".FloatingEdit"+pGuidId+" textarea.Modified").val()+""}}if(PendingRequests["Item"+pGuidId]!=null&&PendingRequests["Item"+pGuidId]==1){return false}PendingRequests["Item"+pGuidId]=1;if(!pAsynchronous){LiveBlog.GetInstance().DisconnectPost(ModElement);if(LiveBlog.IsjQueryAvailable){jQuerySL(document).trigger(jQuerySL.Event("socialsidebar-adjustscrollbar"))}}else{ModElement.className+=" Saving";PostUI.GetInstance().UnFocus(ModElement)}if(pGroupId==null){pGroupId=0}if(typeof(pLat)==="undefined"){pLat=null}if(typeof(pLon)==="undefined"){pLon=null}var req=new XMLHttpRequest();req.open("POST","/Post.aspx",true);req.setRequestHeader("Content-Type","application/x-www-form-urlencoded");req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){var ResponseObject=eval("("+req.responseText+")");if(ResponseObject.Error!=undefined){if(ResponseObject.code&&ResponseObject.code==215){LiveBlog.GetInstance().LastTweet=pGuidId;PopUpTwitterOauth("SaveTweet");PendingRequests["Item"+pGuidId]=null;return false}else{if(ResponseObject.code&&ResponseObject.code==88){alert("Twitter API limit reached. Please wait and try again later.");PendingRequests["Item"+pGuidId]=null;return false}}alert(ResponseObject.Error)}else{if(document.getElementById(ModElement.id)){ModElement.id+="DELETING";LiveBlog.GetInstance().DisconnectPost(ModElement);if(LiveBlog.IsjQueryAvailable){jQuerySL(document).trigger(jQuerySL.Event("socialsidebar-adjustscrollbar"))}}if(document.getElementById("LiveBlog_Post"+ResponseObject.Id)==null){LiveBlog.GetInstance().AttachNewComment(ResponseObject);LiveBlog.GetInstance().FadeIn(document.getElementById("LiveBlog_Post"+ResponseObject.Id))}}PendingRequests["Item"+pGuidId]=null}}};if(pType=="twitter"){req.send("Action=newtweet&GuidId="+pGuidId+"&Content="+encodeURIComponent(Htmlize(Content))+"&TwitterAccount="+ModElement.Meta.ScreenName+"&TwitterImage="+ModElement.Meta.CreatorThumbnail+"&TweetUrl=&TwitterId="+ModElement.Meta.TwitterUserId+"&ThreadId="+ThreadId+"&Group="+pGroupId+(pLat!=null&&pLon!=null?"&Lat="+pLat+"&Lon="+pLon:""))}else{if(pType=="facebook"){req.send("Action=newfacebookpost&GuidId="+pGuidId+"&Content="+encodeURIComponent(Htmlize(Content))+"&FacebookAccount="+ModElement.Meta.CreatorName+"&FacebookImage="+ModElement.Meta.CreatorThumbnail+"&FacebookId="+ModElement.Meta.FacebookUserId+"&ThreadId="+ThreadId+"&Group="+pGroupId+(pLat!=null&&pLon!=null?"&Lat="+pLat+"&Lon="+pLon:""))}else{if(pType=="youtube"){req.send("Action=newtext&GuidId="+pGuidId+"&Content="+encodeURIComponent(Htmlize(Content))+"&ThreadId="+ThreadId+"&Group="+pGroupId+(pLat!=null&&pLon!=null?"&Lat="+pLat+"&Lon="+pLon:""))}else{if(pType=="wikipedia"){var Meta=ModElement.Meta||{};var creator=Meta.CreatorName||"Wikipedia";creator="<em><span>"+creator+"</span></em>";Content=LiveArticle.TEMPLATES.blockquote({content:Content,creator:creator,avatarURL:"http://avatars.scribblelive.com/wikipedia_avatar.png",date:LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(Meta.Date!=="undefined"?Meta.Date:new Date()),source:Meta.LoginProvider||"",permalink:Meta.Permalink||"#"});req.send("Action=newtext&GuidId="+pGuidId+"&Content="+encodeURIComponent(Htmlize(Content))+"&ThreadId="+ThreadId+"&Group="+pGroupId+(pLat!=null&&pLon!=null?"&Lat="+pLat+"&Lon="+pLon:""))}else{if(pType=="instagram"){Content=Content.replace(ModElement.Meta.Content,ModElement.Meta.FullSizeImage);req.send("Action=newinstagrampost&GuidId="+pGuidId+"&Content="+encodeURIComponent(Htmlize(Content))+"&ThreadId="+ThreadId+"&Group="+pGroupId+"&InstagramID="+ModElement.Meta.UserID+"&InstagramUsername="+ModElement.Meta.CreatorName+"&InstagramProfilePicture="+ModElement.Meta.ProfilePicture+"&InstagramFullName="+ModElement.Meta.FullName+"&InstagramLink="+ModElement.Meta.Permalink)}}}}}return false}function SaveTweet(C,D,A,E,B){if(LiveBlog.GetInstance().LastTweet!=null){A=0;C=LiveBlog.GetInstance().LastTweet;LiveBlog.GetInstance().LastTweet=null}D=true;return SaveSocialPost(C,D,A,E,B,"twitter")}function SaveFacebook(C,D,A,E,B){return SaveSocialPost(C,D,A,E,B,"facebook")}function SaveYouTube(C,D,A,E,B){return SaveSocialPost(C,D,A,E,B,"youtube")}function SaveWikipedia(C,D,A,E,B){return SaveSocialPost(C,D,A,E,B,"wikipedia")}function SaveInstagram(C,D,A,E,B){return SaveSocialPost(C,D,A,E,B,"instagram")}var SL_CommentModerationDialogTimer=null;function HideCommentModerationDialog(A){if((document.location+"").match(/SL_CommentModerationDialogTimerDISABLED/)){return}if(A!=null){jQuerySL("#ScribbleLiveCommentStatus").html(A)}SL_CommentModerationDialogTimer=null;jQuerySL("#ScribbleLiveCommentStatus").fadeOut("slow",function(){jQuerySL("#ScribbleLiveCommentStatus").remove()})}function IsNullOrEmpty(A){if(A==null||A==undefined||A==""){return true}else{return false}}function ResizeEmbedToCommonDimensions(B,A){if(!IsNullOrEmpty(LiveBlog)&&!IsNullOrEmpty(LiveBlog.GetInstance())){switch(LiveBlog.GetInstance().Width){case 300:B=LiveBlog.ResizeObjectEmbed(B,300,250,false,A);break;case 400:B=LiveBlog.ResizeObjectEmbed(B,400,334,false,A);break;case 500:B=LiveBlog.ResizeObjectEmbed(B,500,417,false,A);break;case 800:B=LiveBlog.ResizeObjectEmbed(B,800,668,false,A);break;default:B=LiveBlog.ResizeObjectEmbed(B,600,600,false,A);break}}return B}function ShowCommentModerationDialog(C){if(!IsCommentModerationDialogAvailable()){return false}if(C==null){C="Thanks for your comment!  It's in moderation."}if(jQuerySL("#ScribbleLiveCommentStatus").length<=0){jQuerySL("#CommentBox").append("<p id='ScribbleLiveCommentStatus'>"+C+"</p>");SL_CommentModerationDialogTimer=setTimeout(function(){HideCommentModerationDialog()},4000)}else{if(SL_CommentModerationDialogTimer!=null){clearTimeout(SL_CommentModerationDialogTimer)}jQuerySL("#ScribbleLiveCommentStatus").html(C);SL_CommentModerationDialogTimer=setTimeout(function(){HideCommentModerationDialog()},4000)}jQuerySL("#ScribbleLiveCommentStatus").css({"width":"auto","top":"17px","left":"0","position":"absolute"});var A=jQuerySL("#ScribbleLiveCommentStatus").width();var E=jQuerySL("textarea#PostInput").offset().left-jQuerySL("#CommentBox").offset().left;var B=jQuerySL("textarea#PostInput").width();if(A>B-20){A=B-20;jQuerySL("#ScribbleLiveCommentStatus").css({"width":A,"top":"12px"})}var D=jQuerySL("#ScribbleLiveCommentStatus").height();jQuerySL("#ScribbleLiveCommentStatus").css("top",(jQuerySL("textarea#PostInput").offset().top-jQuerySL("#SLCommentBoxLoggedIn").offset().top)+(D+15>=jQuerySL("textarea#PostInput").height()?5:10)).css("position","absolute").css("margin","0").css("left",parseInt(B/2)+E-parseInt(A/2))}function IsCommentModerationDialogAvailable(){if((document.location+"").match(/SL_CommentModerationDialogTimerDISABLED/)){return true}else{if((typeof(IsWhitelabel)!="undefined"&&IsWhitelabel)){return true}}return(document.location+"").match(/\/embed\/v5\.aspx/i)}function GetAnonymousNameValue(){var A=null;if(document.getElementById("NameInput")){var C=document.getElementById("NameInput");A=C.value;if(A+""==""){alert("Oops, please fill-out your name.  Thanks!");return false}else{if(!A.match(/^[^<>]+$/)||A.match(/http:\/\//)){alert("Sorry, that username is not valid. Usernames must be at least 2 characters long and can not contain html (<>http://)");return false}}var B=document.createElement("span");B.innerHTML=A;if(C.parentNode.id!="CommentBox"){B.innerHTML+=" (<a href='/Profile.aspx'>Change</a>)"}B.id="NameInputAfter";C.parentNode.insertBefore(B,C);C.parentNode.removeChild(C)}else{if(document.getElementById("NameInputAfter")!=null){A=document.getElementById("NameInputAfter").innerHTML}}return A}function OnSaveNew(A){return true}function SaveNew(pContent,IsComment,isAdvanced){if(!ContentValid(pContent,isAdvanced)){alert("Oops, we don't support any blank entries. Please try again.");return}IsLive=true;var Name=GetAnonymousNameValue();var SaveIndex=++SavesCount;var OriginalContent=pContent;if(IsCommentModerationDialogAvailable()){ShowCommentModerationDialog("Saving...")}else{var NewItem=document.createElement("li");NewItem.id="Saving"+SaveIndex;NewItem.className="Saving"+(IsComment?" Comment":"")+" You";if((typeof(HideAvatars)=="undefined"||HideAvatars.length==0)||HideAvatars[0]==0){var NewAvatarArea=document.createElement("div");NewAvatarArea.className="avatar-area";NewItem.appendChild(NewAvatarArea);LiveBlog.AddAvatarToItem(SCRIBBLE.utilities.GetElementsByClassName("avatar-area","",NewItem)[0],UserThumbnail)}else{NewItem.className+=" no-avatar"}var NewContentArea=document.createElement("div");NewContentArea.className="content-area";NewItem.appendChild(NewContentArea);if(pContent.match(/&lt;(object|embed)/)){pContent=ResizeEmbedToCommonDimensions(pContent)}var isImageElement=pContent.match(/&lt;img.*\/?&gt;/g);if(isAdvanced||isImageElement){if(isAdvanced){pContent=pContent.replace(/(images\.scribblelive\.com.*?)(_\d{3,4})+\.(jpe?g|png|gif)/gi,"$1.$3")}SCRIBBLE.utilities.GetElementsByClassName("content-area","",NewItem)[0].appendChild(LiveBlog.GetInstance().ConstructContentElement({Content:Htmlize(pContent).replace(/&lt;/ig,"<").replace(/&gt;/ig,">"),Type:10,Date:new Date()}))}else{if(pContent.match(/^https?:\/\/.+\.(jpg|jpeg|gif|png)/i)){SCRIBBLE.utilities.GetElementsByClassName("content-area","",NewItem)[0].appendChild(LiveBlog.GetInstance().ConstructContentElement({Content:"<img src='/modules/socialsidebar/images/ajax-loader_ddd.gif' />"}))}else{SCRIBBLE.utilities.GetElementsByClassName("content-area","",NewItem)[0].appendChild(LiveBlog.GetInstance().ConstructContentElement({Content:Htmlize(pContent).replace(/&lt;/ig,"<").replace(/&gt;/ig,">")}))}}if(LiveBlog.GetInstance().IsModerated&&!LiveBlog.GetInstance().HasSkipModerationPermission){var ModeratedCommentContainer=document.createElement("span");ModeratedCommentContainer.id="ModeratedCommentThanks";ModeratedCommentContainer.innerHTML="<strong>Thanks for your comment!  It's in moderation.</strong>  ";SCRIBBLE.utilities.GetElementsByClassName("content-area","",NewItem)[0].insertBefore(ModeratedCommentContainer,SCRIBBLE.utilities.GetElementsByClassName("Content","",SCRIBBLE.utilities.GetElementsByClassName("content-area","",NewItem)[0])[0])}var YourUserId=LiveBlog.GetInstance().UserId;var metaElement=document.createElement("div");metaElement.className="Meta";metaElement.innerHTML='by <em class="Creator'+YourUserId+'">you</em>';SCRIBBLE.utilities.GetElementsByClassName("content-area","",NewItem)[0].appendChild(metaElement);var TempPostInfo=new Object();TempPostInfo.Date=new Date();TempPostInfo.IsComment=(IsComment?"1":"0");if(isAdvanced){NewItem.className+=" PostType_10"}ThreadLiveBlog.ConnectNewPost(NewItem,null,null,null,null,null,null,TempPostInfo)}if(ThreadLiveBlog.NewestAtBottom){setTimeout(function(){LiveBlog.ScrollToBottom()},500)}var Latitude="";var Longitude="";if(typeof(LiveBlog)!=="undefined"&&LiveBlog.Location==null){try{if(google!=null&&google.loader!=null&&google.loader.ClientLocation!=null){Latitude=google.loader.ClientLocation.latitude;Longitude=google.loader.ClientLocation.longitude}}catch(err){}}if(typeof(LiveBlog)!=="undefined"&&LiveBlog.Location!=null){Latitude=LiveBlog.Location.latitude;Longitude=LiveBlog.Location.longitude}if(isAdvanced){CurrentArticle.PublishToEvents(ThreadId,function(pResults){var drawDelay=0,existing=jQuerySL("#Saving"+SaveIndex);if(!pResults||!pResults.success){alert("An error has occurred, please try again.");existing.remove()}else{if(pResults){var drawTime=2000,postActions;if(existing){existing.removeClass("Saving").addClass("PostType_10");existing.attr("id","LiveBlog_Post"+pResults.postId);existing.attr("data-postid",pResults.postId);existing.find("#ModeratedCommentThanks").remove();postActions=LiveBlog.GetInstance().PostActions;if(postActions){existing.find(".Meta").last().after(jQuerySL(postActions({ThreadId:ThreadId,Id:pResults.postId,lbl_permalink:"Permalink",lbl_comment:"Comment"}))[0])}}LiveArticle.StatusDialog(null,null,true);CurrentArticle.Destroy();delete CurrentArticle;localStorage.removeItem("inlineLiveArticle_"+ThreadId);LoadAdvancedPostArea()}}},true,true,Latitude,Longitude);return CurrentArticle.HolderObject.empty()}var NameParameter="";if(Name!=null){NameParameter="&Name="+encodeURIComponent(Htmlize(Name))}var req=new XMLHttpRequest();req.open("POST","/Post.aspx",true);req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){var ResponseObject=eval("("+req.responseText+")");if(ResponseObject.ASPSID&&ResponseObject.ASPSID!=""){LiveBlog.GetInstance().ASPSID=ResponseObject.ASPSID;if(typeof GigyaSL!=="undefined"&&GigyaSL.NeedsLogin){GigyaSL.SignInTries=0}}var sendToTwitter=document.getElementById("SLCommentBoxSendToTwitter"),tweetObj=ResponseObject;if(sendToTwitter!==null&&sendToTwitter.checked){tweetObj.Content=Htmlize(pContent);jQuerySL(document).trigger(jQuerySL.Event("SL-Social:send-comment-to-twitter"),tweetObj)}if(ResponseObject.InModeration&&ResponseObject.InModeration==1){ShowCommentModerationDialog();SaveNew_ModerationHandler(document.getElementById("Saving"+SaveIndex),Htmlize(pContent));return}else{if(ResponseObject.InQueue&&ResponseObject.InQueue==1){ShowCommentModerationDialog("Thanks for your comment!");SaveNew_ModerationHandler(document.getElementById("Saving"+SaveIndex),Htmlize(pContent),"Thanks for your comment!");return}}if(ResponseObject.Error&&(ResponseObject.Error.match(/Spam/i)||ResponseObject.Error.match(/Ban/i)||ResponseObject.Error.match(/Closed/i)||ResponseObject.Error.match(/Censored/i)||ResponseObject.Error.match(/Could not find user session/i)||ResponseObject.Error.match(/Exception/i)||ResponseObject.Error.match(/Server Error/i)||ResponseObject.Error.match(/Commenting closed/i)||ResponseObject.Error.match(/Too many requests/i)||ResponseObject.Error.match(/Empty Post/i))){if(IsCommentModerationDialogAvailable()){HideCommentModerationDialog("Error");document.getElementById("PostInput").value=pContent}else{var Item=document.getElementById("Saving"+SaveIndex);var PostInputField=document.getElementById("PostInput");if(PostInputField.value+""==""){pContent=pContent.replace(/\&lt\;/g,"<");pContent=pContent.replace(/\&gt\;/g,">");PostInputField.value=pContent;Item.parentNode.removeChild(Item)}}if(ResponseObject.Error.match(/Spam/i)){alert("Oops, your post looked like spam to us for some reason.\nPlease try again.")}else{if(ResponseObject.Error.match(/Closed/)){alert("The creator has closed this event.  Thanks for participating!")}else{if(ResponseObject.Error.match(/Censored/)){alert("Your comment appeared to contain inappropriate language. Please try again.")}else{if(ResponseObject.Error.match(/Could not find user session/)){alert("You appear to have been logged-out. Please login again.")}else{if(ResponseObject.Error.match(/Exception/)){alert("Oops, there was an error")}else{if(ResponseObject.Error.match(/Server Error/)){alert("Sorry, there was an error saving your entry.\nPlease try again.")}else{if(ResponseObject.Error.match(/Ban/)){alert("Uh oh, you've been banned from making further posts to this thread.\nSorry!")}else{if(ResponseObject.Error.match(/Commenting closed/)){alert("Comments for this event have been disabled.")}else{if(ResponseObject.Error.match(/Too many requests/)){alert("Error, too many requests per second. Please try again.")}else{if(ResponseObject.Error.match(/Empty Post/)){alert("Oops, we don't support any blank entries. Please try again.")}else{alert("Sorry, there was an error saving your entry.\nPlease try again.")}}}}}}}}}}return false}else{if(ResponseObject.code){if(ResponseObject.code==215){var Item=document.getElementById("Saving"+SaveIndex);var PostInputField=document.getElementById("PostInput");if(PostInputField.value+""==""){pContent=pContent.replace(/\&lt\;/g,"<");pContent=pContent.replace(/\&gt\;/g,">");PostInputField.value=pContent;Item.parentNode.removeChild(Item)}PopUpTwitterOauth("SaveButton_Clicked");return false}else{if(ResponseObject.code==88){alert("Twitter API limit reached. Please wait and try again later.");return false}}}else{if(ResponseObject.Error){alert("Sorry, there was an error saving your entry.\nPlease try again.");var Item=document.getElementById("Saving"+SaveIndex);Item.parentNode.removeChild(Item);return false}}}var PostId=ResponseObject.Id;var Item=document.getElementById("Saving"+SaveIndex);var ResponseContent=ResponseObject.Content.replace(/&quot;/g,'"');if(ResponseContent.match(/(object|embed)/)){ResponseContent=ResizeEmbedToCommonDimensions(ResponseContent)}var IsApproved=(ResponseObject.IsApproved+""=="1");LiveBlog.GetInstance().HasSkipModerationPermission=IsApproved;if(Item!=null){Item.LastEdit=ResponseObject.Date}OnSaveNew(ResponseObject);if(IsApproved&&document.getElementById("LiveBlog_Post"+PostId)==null){LiveBlog.GetInstance().UserId=ResponseObject.CreatorId;LiveBlog.GetInstance().UserName=ResponseObject.CreatorName;if(IsCommentModerationDialogAvailable()){ResponseContent=ResponseContent.replace(/&gt;/g,">").replace(/&lt;/g,"<");ResponseObject.Content=ResponseContent;ShowCommentModerationDialog("Thanks for your comment!");LiveBlog.GetInstance().AttachNewComment(ResponseObject)}else{Item.className=Item.className.replace(/Saving/,"");Item.id="LiveBlog_Post"+PostId;Item.setAttribute("data-postid",PostId);Item.className=Item.className+" PostType_"+ResponseObject.Type;var ModeratedCommentThanks=document.getElementById("ModeratedCommentThanks");if(ModeratedCommentThanks!=null){ModeratedCommentThanks.parentNode.removeChild(ModeratedCommentThanks)}var OldContentElement=SCRIBBLE.utilities.GetElementsByClassName("Content","",Item)[0];OldContentElement.style.display="none";OldContentElement.parentNode.replaceChild(LiveBlog.GetInstance().ConstructContentElement(ResponseObject),OldContentElement);var Meta=SCRIBBLE.utilities.GetElementsByClassName("Meta","",Item)[0];if(Meta!=null&&Meta.className=="Meta"&&ResponseObject.Source!=null&&ResponseObject.Source!=""){var Children=Meta.children;for(i=0;i<Children.length;i++){if(Children[i].className=="Source"){Meta.removeChild(Children[i]);break}}if(ResponseObject.Source.match(/<a.*?>twitter<\/a>/i)||ResponseObject.Source.match(/<a.*?>facebook<\/a>/i)){Item.className=Item.className.replace(/You/,"Comment");if(ResponseObject.CreatorThumbnail!=null&&ResponseObject.CreatorThumbnail!=""&&SCRIBBLE.utilities.GetElementsByClassName("avatar-area","",Item)[0]!="undefined"){SCRIBBLE.utilities.GetElementsByClassName("avatar","",SCRIBBLE.utilities.GetElementsByClassName("avatar-area","",Item)[0])[0].src=ResponseObject.CreatorThumbnail}Meta.innerHTML='by <em class="Creator'+ResponseObject.CreatorId+'">'+ResponseObject.CreatorName+'</em> <span class="Source">via '+LiveBlog.GetInstance().GetTranslation(ResponseObject.Source)+"</span>"}else{Meta.innerHTML='by <em class="Creator'+ResponseObject.CreatorId+'">'+ResponseObject.CreatorName+'</em> <span class="Source">via '+LiveBlog.GetInstance().GetTranslation(ResponseObject.Source)+"</span>"}}var PostActions=LiveBlog.GetInstance().PostActions;if(PostActions){var pPostInfo={ThreadId:ThreadId,Id:PostId,lbl_permalink:"Permalink",lbl_comment:"Comment"};jQuerySL(Item).find(".Meta").after(jQuerySL(PostActions(pPostInfo))[0])}PostUI.GetInstance().Setup(Item)}}else{if(!IsApproved){ShowCommentModerationDialog();LiveBlog.GetInstance().UserId=ResponseObject.CreatorId;LiveBlog.GetInstance().UserName=ResponseObject.CreatorName;var ModeratedCommentThanks=document.getElementById("ModeratedCommentThanks");if(ModeratedCommentThanks!=null){ModeratedCommentThanks.parentNode.removeChild(ModeratedCommentThanks)}SaveNew_ModerationHandler(Item,ResponseContent)}else{Item.parentNode.removeChild(Item)}}}else{var Item=null;if(!IsCommentModerationDialogAvailable()){Item=document.getElementById("Saving"+SaveIndex)}var PostInputField=document.getElementById("PostInput");if(IsCommentModerationDialogAvailable()){PostInputField.value=pContent;ShowCommentModerationDialog("Sorry, there was an error saving your entry.\nPlease try again.")}else{if(PostInputField.value+""==""){PostInputField.value=pContent;Item.parentNode.removeChild(Item)}else{Item.ContentCache=pContent;Item.lastChild.innerHTML+="  <a href='#' class='Error' onClick='LiveBlog.DestroyElement(this.parentNode.parentNode); return SaveNew(this.parentNode.parentNode.ContentCache, IsComment);'>ERROR SAVING - PLEASE CLICK HERE TO RETRY</a>"}alert("Sorry, there was an error saving your entry.\nPlease try again.")}return false}}};req.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var SID="";if(typeof(LiveBlog.GetInstance().ASPSID)!="undefined"&&LiveBlog.GetInstance().ASPSID!=null){SID="&ASPSESSID="+LiveBlog.GetInstance().ASPSID}var Avatar="";var Login="";var UID="";if(typeof GigyaSL!=="undefined"&&GigyaSL.NeedsLogin&&(LiveBlog.GetInstance().ASPSID==null||LiveBlog.GetInstance().ASPSID=="")){if(GigyaSL.AvatarURL!=""){Avatar="&AvatarURL="+encodeURIComponent(GigyaSL.AvatarURL)}Login="&Login=1";UID="&UID="+LiveBlog.GetInstance().UID}else{if(SID==""){Login="&Login=1"}}req.send("Action=newtext&Content="+encodeURIComponent(Htmlize(OriginalContent))+"&ThreadId="+ThreadId+NameParameter+"&lat="+Latitude+"&long="+Longitude+SID+Avatar+Login+UID);return false}function SaveNew_ModerationHandler(A,B,D){if(!IsCommentModerationDialogAvailable()){if(D!=null){SCRIBBLE.utilities.GetElementsByClassName("Content","",A)[0].innerHTML="<strong>"+D+"</strong><br />"+B;setTimeout(function(){LiveBlog.GetInstance().DisconnectPost(A)},2000)}else{if(LiveBlog.GetInstance().IsModerated){A.className=A.className.replace(/Saving/,"");if(document.getElementById("ModeratedCommentThanks")==null){var C=document.createElement("span");C.id="ModeratedCommentThanks";C.innerHTML="<strong>Thanks for your comment!  It's in moderation.</strong>  ";SCRIBBLE.utilities.GetElementsByClassName("content-area","",A)[0].insertBefore(C,SCRIBBLE.utilities.GetElementsByClassName("Content","",SCRIBBLE.utilities.GetElementsByClassName("content-area","",A)[0])[0])}setTimeout(function(){LiveBlog.GetInstance().DisconnectPost(A)},5000)}else{SCRIBBLE.utilities.GetElementsByClassName("Content","",A)[0].innerHTML="<strong>Success!</strong><br />"+B;setTimeout(function(){LiveBlog.GetInstance().DisconnectPost(A)},2000)}}}}function Htmlize(A){if(A==null||A==""){return""}return A.replace(/\r?\n/g,"<br/>")}function ContentValid(A,B){if(A==undefined||A==null||A==""||A.replace(/\s+/,"")==""||(!B&&A.match("[<>]"))||(B&&!A.match(/src="https?:\/\/images.scribblelive.com/)&&!jQuerySL("<div>"+A+"</div>").text().trim())){return false}else{return true}}function PermalinkFieldFocus(A){if(A.select){A.select()}return false}function AttachBlog(B){var C=document.getElementById("ExternalBlogBoxContent");var A=new Image();A.src="/AttachBlogToPost.aspx?ThreadId="+ThreadId+"&BlogId="+B;C.innerHTML="This thread has been attached to your blog!\nVisit your blog to verify!"}function SubmitInviteUrl(B){var A=document.getElementById("InviteCode").value;if((document.location+"").indexOf("?")>0){document.location=document.location+"&Invite="+A}else{document.location=document.location+"?Invite="+A}return false}function Translate(A,B){LiveBlog.GetInstance().TranslateAllPosts(A);if(document.getElementById("TranslateStatus")!=null){document.getElementById("TranslateStatus").innerHTML="<strong>All posts are being translated into "+B+".</strong>"}}function SendInviteEmail(){var H=jQuerySL("#WritersSelection").children("option");var G=0;for(var B=0;B<H.length;B++){if(H.get(B).getAttribute("ElementClass")!="selected"){continue}var I=(H.get(B).value);var F=parseInt(I);G++;if(F+""==I){jQuerySL.post("/Post.aspx",{action:"invite",userid:F,threadid:ThreadId,EmailMessage:jQuerySL("#EmailMessage").val()},function(){G--;if(G<=0){jQuerySL("form").submit()}})}else{if(isValidEmailAddress(I)){jQuerySL.post("/widgets/invite/InviteEmail.aspx",{Id:ThreadId,Email:I,Message:jQuerySL("#EmailMessage").val()},function(){G--;if(G<=0){jQuerySL("form").submit()}})}else{alert("The email address(es) "+I+" appears to be invalid and will be ignored.");ButtonRestore();return false}}}var A=jQuerySL("#EmailAddresses").val();if(jQuerySL.trim(A)==""||jQuerySL.trim(A)=="Click on the names in the list to the left, or enter one of more email addresses separated by a comma."){alert("No valid email addresses were entered.");ButtonRestore();return false}var D=A.split(",");var E="";for(var B=0;B<D.length;B++){if(jQuerySL.trim(D[B])!=""&&!isValidEmailAddress(jQuerySL.trim(D[B]))){E+=D[B]+" ";var C=new RegExp(D[B]+"s*,?s*","i");A=A.replace(C,"")}}if(E!=""){alert("The email address(es) "+jQuerySL.trim(E)+" appears to be invalid and will be ignored.");ButtonRestore();return false}if(jQuerySL.trim(jQuerySL("#EmailMessage").val())==""){alert("Please enter an email message.");ButtonRestore();return}if(jQuerySL.trim(A)!=""){jQuerySL.ajax({type:"POST",url:"/widgets/invite/InviteEmail.aspx",data:{Id:ThreadId,Email:A,Message:jQuerySL("#EmailMessage").val()},dataType:"json",success:function(J,M,K){if(J.success=="1"){alert("Email sent successfully");var L="id="+ThreadId;if(document.location.href.match("IsCreation")){L+="&IsCreation=1"}jQuerySL("#Content").load("/client/Write/Invite.aspx #Content>*",L,function(){SetupMoreInfoPopUp()})}else{alert("The invitation email could not be sent. Please ensure that the email is in plain-text and does not contain any HTML code.")}ButtonRestore()},error:function(K,L,J){alert("The invitation email could not be sent. Please ensure that the email is in plain-text and does not contain any HTML code.");ButtonRestore()}})}return false}function ReSendInvite(B,A){if(A!=null){jQuerySL.post("/widgets/invite/InviteEmail.aspx",{Id:ThreadId,Email:A,Message:jQuerySL("#EmailMessage").val()},function(){alert("Invite Resent.");ButtonRestore()})}if(B!=null){jQuerySL.post("/Post.aspx",{action:"invite",userid:B,threadid:ThreadId,EmailMessage:jQuerySL("#EmailMessage").val()},function(){alert("Invite Resent.");ButtonRestore()})}return false}function SetAutoApprove(C,D,B){if(document.getElementById("LiveBlog_Post"+C)!=null){PostUI.GetInstance().UnFocus(document.getElementById("LiveBlog_Post"+C))}if(confirm("Are you sure you want to auto-approve all posts from this user?")){var A=new Image();jQuerySL.post("/Post.aspx",{"Action":"autoapprove","invitepostid":C,"threadid":ThreadId,"userid":D},function(E){if(E=="LIMIT REACHED"){alert("You have reached your limit for auto approving users.")}else{if(E=="PERMISSION DENIED"){alert("You don't have permission")}else{AutoApproved[D]=1;if(PostUI.IsInModeration(document.getElementById("LiveBlog_Post"+C))){ApproveComment(C)}if(typeof(B)=="function"){B(E)}}}})}return false}function UnsetAutoApprove(B,A){jQuerySL.post("/Post.aspx",{"Action":"removeautoapprove","threadid":ThreadId,"userid":B},function(C){if(C=="PERMISSION DENIED"){alert("You don't have permission")}else{jQuerySL(".User"+B).remove();try{if(AutoApproved!=null){AutoApproved[B]=0}if(LiveBlog.GetInstance()!=null&&LiveBlog.GetInstance().IsjQueryAvailable){jQuerySL(".UserMenu").remove()}}catch(D){}if(typeof(A)=="function"){A(C)}}});return false}function InviteWriter(B,C){var A=new Image();if(C!=null){A.src="/Post.aspx?action=invite&userid="+C+"&threadid="+ThreadId}else{A.src="/Post.aspx?action=invite&invitepostid="+B+"&threadid="+ThreadId}if(document.getElementById("LiveBlog_Post"+B)!=null){PostUI.GetInstance().UnFocus(document.getElementById("LiveBlog_Post"+B))}alert("Your invitation has been sent to that writer!");InvitedWriters[C]=1;return false}function UnInviteWriterAdmin(A){jQuerySL.get("/Post.aspx","action=uninvite&userid="+A+"&threadid="+ThreadId,function(){jQuerySL(".User"+A).remove()})}function UnInviteWriter(D,C,A){var B=new Image();if(A!=null){B.src="/Post.aspx?action=uninvite&userid="+A+"&threadid="+ThreadId}else{B.src="/Post.aspx?action=uninvite&invitepostid="+D+"&threadid="+ThreadId}if(C!=null){C.parentNode.removeChild(C)}if(document.getElementById("LiveBlog_Post"+D)!=null){PostUI.GetInstance().UnFocus(document.getElementById("LiveBlog_Post"+D))}alert("The user is no longer a writer in your liveblog");InvitedWriters[A]=0;return false}function ShowCommentBox(C,B,D){C.style.display="none";var A=document.getElementById("CommentBox");if(A==null){return false}if(LiveBlog.CheckIfjQueryAvailable()){A.style.display="block";jQuerySL("#CommentBox").css("background-color",B);ItemHeight=jQuerySL("#CommentBox").height()+"px";jQuerySL("#CommentBox").css({"display":"block","height":"0","overflow":"hidden","verticalAlign":"top"});jQuerySL("#CommentBox").animate({height:ItemHeight},500,"easeOutBounce");if(B!=null&&D!=null){jQuerySL("#CommentBox").animate({backgroundColor:D},{duration:1500,queue:false})}else{if(D!=null){jQuerySL("#CommentBox").css("background-color",D)}}}else{A.style.display="block"}return false}function HideCommentBox(B,C){var A=document.getElementById("CommentBox");if(LiveBlog.GetInstance().IsjQueryAvailable){jQuerySL("#CommentBox").hide("blind",{direction:"vertical",duration:500,queue:false});if(B!=null&&C!=null){jQuerySL("#CommentBox").animate({backgroundColor:C},{duration:1500,queue:false})}}else{A.style.display="none"}setTimeout(function(){var D=document.getElementById("MakeComment");if(D!=null){D.style.display="block"}},500);return false}function ActivateSidebarAccordion(C){if(document.getElementById("Column2")==null){return}var B=document.getElementById("Column2");var A=B.getElementsByTagName("dl");if(C==null){C=""}for(var D=0;D<A.length;D++){if(A[D].id==null||A[D].id==""||!C.match(A[D].id+",")){if(D>0){A[D].getElementsByTagName("dd")[0].style.display="none"}else{A[D].className+=" Active"}A[D].getElementsByTagName("dt")[0].onclick=function(){for(var F=0;F<A.length;F++){if(A[F].className.match(/Active/)&&(A[F].id==null||A[F].id==""||!C.match(A[F].id+","))){A[F].className=A[F].className.replace(/Active/,"");A[F].getElementsByTagName("dd")[0].style.display="none"}}var E=this.parentNode.getElementsByTagName("dd")[0];if(E.style.display=="none"){this.parentNode.className+=" Active"}else{this.parentNode.className=this.parentNode.className.replace(/Active/,"")}jQuerySL(E).show("blind",{direction:"vertical",duration:600,easing:"easeOutBounce"});jQuerySL.scrollTo("#Column2",400,{axis:"y"})}}}}function FitText(C,E,F){var A=0;var D=false;var B=F;while(!D&&A<10){if(jQuerySL(C).height()>E){B-=5;C.style.fontSize=B+"px";C.style.lineHeight=(B-5)+"px"}else{D=true;break}A++}}function WrapInputInTags(B,C,D){if(B==null){B=document.getElementsByTagName("textarea")[0]}if(B.setSelectionRange){B.value=B.value.substring(0,B.selectionStart)+C+B.value.substring(B.selectionStart,B.selectionEnd)+D+B.value.substring(B.selectionEnd,B.value.length)}else{if(document.selection&&document.selection.createRange){B.focus();var A=document.selection.createRange();A.text=C+A.text+D}}LastPostInputValue=B.value;return false}function DrawUploadFrame(A,C){var B=document.createElement("iframe");B.frameBorder=0;B.id="UploadFrame";B.src=A;B.scrolling="no";C.parentNode.insertBefore(B,C);C.style.display="none";return false}function SetupSWFUploader(){if(!navigator.userAgent.match(/iPhone/i)&&!navigator.userAgent.match(/iPod/i)){var A=jQuerySL("#UploadCancelButton");var B=jQuerySL("#UploadStatus");var E=0;var C=0;var D=new SWFUpload({button_placeholder_id:"SWFUploadElement",upload_url:"http://embed.scribblelive.com/Upload.aspx?SWFUpload=1&Threadid="+ThreadId,flash_url:"http://embed.scribblelive.com/js/SWFUpload/Flash/swfupload.swf",file_size_limit:"285 MB",button_image_url:"http://embed.scribblelive.com/Style/Images/transparent.png",button_width:"180",button_height:"25",custom_settings:{cancelButtonId:"UploadCancelButton"},button_window_mode:"transparent",button_cursor:SWFUpload.CURSOR.HAND,prevent_swf_caching:false,file_types:"*.jpg;*.jpeg;*.gif;*.png;*.bmp",file_types_description:"Web Images",file_dialog_complete_handler:function(){C=this.getStats().files_queued;if(this.getStats().files_queued>0){this.setStats({successful_uploads:0,upload_errors:0});this.addPostParam("ASPSESSID",Session);var F="";var H="";if(typeof(LiveBlog)!=="undefined"&&LiveBlog.Location==null){try{if(google!=null&&google.loader!=null&&google.loader.ClientLocation!=null){F=google.loader.ClientLocation.latitude;H=google.loader.ClientLocation.longitude}}catch(I){}}if(typeof(LiveBlog)!=="undefined"&&LiveBlog.Location!=null){this.addPostParam("lat",LiveBlog.Location.latitude);this.addPostParam("long",LiveBlog.Location.longitude)}var G=null;if(this.getStats().files_queued==1){var J='Caption (optional, no embed code)<br /> <input type="text" id="CaptionUploadInput" name="CaptionUploadInput" value="" />';J+="<br /><br />";jQuerySL.prompt.close();jQuerySL.prompt(J,{data:{SWFUploader:this},buttons:[{title:"Ok",value:true},{title:"Cancel",value:false}],loaded:function(){jQuerySL("#CaptionUploadInput").get(0).focus();jQuerySL("#CaptionUploadInput").keyup(function(K){if(K.keyCode==27){jQuerySL.prompt.close()}else{if(K.keyCode==13){jQuerySL("#jqi_state0_buttonOk").focus().trigger("click");return true}}})},callback:function(M,N,K){var L="";if(K!=undefined){L=jQuerySL.trim(K.CaptionUploadInput)}_StartUpload(this.data.SWFUploader,L)}})}else{_StartUpload(this,null)}}},upload_start_handler:function(){ToggleCancelButton(true);var F=this.getStats();document.getElementById("UploadStatus").innerHTML="Uploading "+(F.successful_uploads+1)+" of "+(F.successful_uploads+F.files_queued)+"..."},upload_progress_handler:function(G,F,H){if(F>=H){ToggleCancelButton(false)}var I=this.getStats();document.getElementById("UploadStatus").innerHTML="Uploading "+(I.successful_uploads+1)+" of "+(I.successful_uploads+I.files_queued)+" ("+Math.round((F/H*100))+"%)..."},upload_complete_handler:function(){if(this.getStats().files_queued<=0){ToggleCancelButton(false);if(this.getStats().upload_errors<=0){if(E==0){document.getElementById("UploadStatus").innerHTML="Processing...";setTimeout(function(){document.getElementById("UploadStatus").innerHTML="Success! Upload another file"},3000)}else{B.text("Upload(s) Cancelled ("+E+" of "+C+")");E=0;setTimeout(function(){document.getElementById("UploadStatus").innerHTML="Upload image, audio, or video (250MB)"},3000)}}else{document.getElementById("UploadStatus").innerHTML="Oops, there was an error"}}else{this.startUpload()}},upload_error_handler:function(G,F,H){this.cancelUpload(null,false);document.getElementById("UploadStatus").innerHTML="Error: "+H},file_queue_error_handler:function(G,F,H){this.cancelUpload(null,false);document.getElementById("UploadStatus").innerHTML="Error: "+H}});ToggleCancelButton=function(F){if(F==true){A.css({display:"block"})}else{A.css({display:"none"})}};UploaderAction=function(F){switch(F){case"CancelAll":InProgressCancelled=false;if(D.getStats().in_progress==1){E=0;D.cancelUpload(null,false);E=1;InProgressCancelled=true}if(D.getStats().files_queued>0){if(!InProgressCancelled){E=1;D.cancelUpload(null,false)}while(D.getStats().files_queued>0){D.cancelUpload(null,false);E++}}break}};_StartUpload=function(F,G){if(LiveBlog!=null&&LiveBlog!=undefined&&LiveBlog.HasEmbedCode(G)){G=null}if(G!=null&&G!=""){F.addPostParam("Caption",G)}else{F.removePostParam("Caption")}F.startUpload()}}}function PostUI(B){this.CurrentFocus=null;this.IsiPhone=false;try{this.IsiPhone=(navigator.userAgent.toLowerCase().match(/(iphone|itouch)/)!=null)}catch(A){}PostUI.__instance=this}PostUI.GetInstance=function(){if(PostUI.__instance!=null){return PostUI.__instance}else{return new PostUI(false)}};PostUI.prototype.Setup=function(B){if(PostUI.IsEmbed()){return}var D=this;if(B!=null){this.ConstructActionsElement(B);if(this.IsiPhone){B.className+=" iPhone"}else{B.onmouseover=function(){D.Focus(this)};B.onmouseout=function(F){PostUI.mouseover(F,B,D)}}if((typeof HasEventWriteModeAccess=="undefined"||typeof HasEventWriteModeAccess!="undefined"&&HasEventWriteModeAccess==true)&&LiveBlog.GetInstance().HasModeratePermission||PostUI.IsYourPost(B)){PostUI.SetupEditInterface(B)}}else{var C=document.getElementsByTagName("li");var A;for(var E=0;E<C.length;E++){if(PostUI.PostId(C[E])!=null){B=C[E];this.ConstructActionsElement(B);if(this.IsiPhone){B.className+=" iPhone"}else{B.onmouseover=function(){D.Focus(this)};B.onmouseout=function(F){PostUI.mouseover(F,this,D)}}if((typeof HasEventWriteModeAccess=="undefined"||typeof HasEventWriteModeAccess!="undefined"&&HasEventWriteModeAccess==true)&&LiveBlog.GetInstance().HasModeratePermission||PostUI.IsYourPost(B)){PostUI.SetupEditInterface(B)}}}}};PostUI.SetupEditInterface=function(C,D){var A=PostUI.helper.UI;if(D==null){D=PostUI.PostId(C)}if(D==null){return false}var E=PostUI.PostType(C);if(PostUI.IsPoll(C)){}else{if(E=="10"){A.SetupEditInterfaceForEmbedVideoPost(C,D)}else{if(PostUI.IsImagePost(C)||PostUI.IsVideoPost(C)||PostUI.IsAudioPost(C)||LiveBlog.GetInstance().IsEmbed(C)){if(!PostUI.IsCaptioned(C)){var B=document.createElement("textarea");B.className="CaptionInput Default";B.innerHTML="Caption:";SCRIBBLE.utilities.GetElementsByClassName("Content","",C)[0].appendChild(B);jQuerySL(B).css("width",jQuerySL("LiveBlog_Post"+D).width()).focus(function(F){PostUI.ShowEditInterface(D,F)})}else{jQuerySL(C).find(".Caption").click(function(F){return PostUI.ShowEditInterface(D,F)})}}else{jQuerySL(C).find("div.Content").click(function(F){return PostUI.ShowEditInterface(D,F)})}}}};PostUI.helper={};PostUI.helper.UI=(function(){function E(F){return(F.length!==0)}function B(F){return !(A(F)||C(F)||D(F))}function A(F){return(jQuerySL(F.target).closest(".SL_SlideShow").length)}function C(F){var G=false;if(F.target.nodeName.toLowerCase()==="embed"){G=true}return G}function D(F){var G=false;if(F.target.nodeName.toLowerCase()==="em"){G=true}return G}return{SetupEditInterfaceForEmbedVideoPost:function(F,G){jQuerySL(F).find("div.Content").click(function(J){var I=false;if(B(J)){return PostUI.ShowEditInterface(G,J)}});var H=jQuerySL(F).find(".Caption");if(E(H)){H.click(function(I){return PostUI.ShowEditInterface(G,I)})}}}}());PostUI.mouseover=function(E,C,F){if(!E){E=window.event}var G=null;try{if(E.relatedTarget){G=E.relatedTarget}}catch(D){}try{if(E.toElement){G=E.toElement}}catch(D){}var A=false;try{if(G==C||(G.className+"").match(/UserMenu/)){A=true}else{for(var B=0;B<5;B++){if(G&&G!=document.getElementsByTagName("body")[0]&&G.parentNode){G=G.parentNode;if(G==C||(G.className+"").match(/UserMenu/)){A=true;break}}else{break}}}}catch(D){}if(!A){F.UnFocus(C)}};PostUI.OpenLink=function(E,A){try{var B=E;if(B!=null&&B!=""&&B!="#"){var F=B.match(/^http|^mailto:.*?/i);if(F!=null&&F!=undefined&&F.length>=1){if(F[0]!="mailto:"){var D=null;if(A==1){D=function(G){window.open(G,"ScribbleLiveLinkWindow");return false}}else{D=function(G){window.open(G,"_parent");return false}}return D(B)}}else{return false}}else{return false}}catch(C){}};PostUI.SetupLinksToOpen=function(C,A){try{jQuerySL(C).click(function(E){var G=null;var D=".SinglePostLink,.Actions .Link a,.TwitterIntent";if(E!=null&&E.target!=null&&E.target.nodeName=="A"){var F=jQuerySL(E.target);if(!F.is(D)){G=F.attrSL("href")}}else{if(E!=null&&E.srcElement!=null&&E.srcElement.nodeName=="A"){var F=jQuerySL(E.srcElement);if(!F.is(D)){G=F.attrSL("href")}}}if(G!=null&&G!=""&&G.indexOf(document.location+"")!=0){return PostUI.OpenLink(G,A)}})}catch(B){}};PostUI.prototype.Focus=function(B){if(!this.IsiPhone){if(this.CurrentFocus==B){return}else{if(this.CurrentFocus!=null){this.UnFocus(this.CurrentFocus);this.CurrentFocus=null}}}if(B.className.match("System")!=null){return}B.className+=" Focus";this.CurrentFocus=B;if(typeof(UserType)!="undefined"&&UserType==0&&typeof(InvitedWriters)!="undefined"&&(InvitedWriters==null||InvitedWriters[UserId]==null||(InvitedWriters[UserId]!=null&&InvitedWriters[UserId]!="1"))){B.onmousedown=null;SCRIBBLE.utilities.GetElementsByClassName("Content","",B)[0].onmousedown=null;return}var C=PostUI.PostId(B);this.ConstructActionsElement(B,true);if(C!=null&&(LiveBlog.GetInstance().AllowedToEdit||PostUI.IsYourPost(B))){var E=false;if(PostUI.IsImagePost(B)&&!(PostUI.IsInTwitterModeration(B))&&!(PostUI.IsInSocialTwitterModeration(B))&&!(PostUI.IsInSocialFacebookModeration(B))&&!(PostUI.IsSaveButtonActive(B))){var D=PostUI.GetMetaElement(B);var A=document.createElement("span");A.className="Edit";if((LiveBlog.GetInstance().IsEmbed(B))){A.className="Edit EmbedEdit"}A.innerHTML="<a onclick=\"PostUI.GetInstance().LoadImageEditor('#Edit"+C+'\'); return false;"  href="/client/ImageEditor/Editor.aspx?img='+SCRIBBLE.utilities.GetElementsByClassName("Content","",B)[0].getElementsByTagName("img")[0].src.replace("_300","_800")+"&PostId="+C+"&ThreadId="+ThreadId+"&r="+Math.floor(Math.random()*1001)+'&lang=en" class="Edit" id="Edit'+C+'">Edit Image</a>';jQuerySL(B).find("div.Content img:not(.EditActivated)").addClass("EditActivated").click(function(){PostUI.GetInstance().LoadImageEditor("#Edit"+C)});jQuerySL(A).addClass("ImageEditLink");D.parentNode.insertBefore(A,D);E=true}else{if(PostUI.IsSaveButtonActive(B)){E=true}}}};PostUI.IsYourPost=function(A,B){B=(typeof(B)!="undefined"?B:false);if(LiveBlog.GetInstance().UserId!=null&&(B||!B&&LiveBlog.GetInstance().HasWritePermission)){var C=LiveBlog.GetInstance().UserId;return jQuerySL(A).find(".Meta > em.Creator"+C).length>0||jQuerySL(A).find(".Meta").html()=='by <em class="Creator'+C+'">you</em>'||jQuerySL(A).find(".Meta").html()=="by you"}else{return false}};PostUI.prototype.UnFocus=function(D){D.className=(D.className+"").replace(/Focus/,"");this.ConstructActionsElement(D,false);if(LiveBlog.GetInstance().AllowedToEdit||PostUI.IsYourPost(D)){var E=jQuerySL("#"+D.id+" .ImageEditLink");if(PostUI.IsTextOnly(D)||LiveBlog.GetInstance().IsEmbed(D)||PostUI.IsImagePost(D)){var A=SCRIBBLE.utilities.GetElementsByClassName("Meta","",D)[0].getElementsByTagName("span");for(var B=0;B<A.length;B++){if((A[B].className+"").match(/Edit/)){if(!(A[B].className+"").match(/Button/)){A[B].parentNode.removeChild(A[B])}break}}}if(E.length>0){E.remove()}var C=jQuerySL("ul.UserMenu");if(C!=null){C.remove()}}this.CurrentFocus=null};PostUI.prototype.ConstructActionsElement=function(J,B){var I=null;var G=J.getElementsByTagName("ul");for(var A=0;A<G.length;A++){if(G[A].className=="Actions"){I=G[A];break}}if(I==null){I=document.createElement("ul");I.className="Actions";J.appendChild(I)}else{if(PostUI.IsInModeration(J)){return}}var E="";var F=PostUI.PostId(J);var K=PostUI.IsStuck(J);var D=LiveBlog.GetInstance().AllowedToEdit;var H=null;var C=null;if(J.className.match(/Lat\-?\d+\.?\d*/)&&J.className.match(/Lon\-?\d+\.?\d*/)){H=J.className.match(/Lat(\-?\d+\.?\d*)/)[1];C=J.className.match(/Lon(\-?\d+\.?\d*)/)[1]}if(B==null){if(D&&PostUI.IsInModeration(J)){E+="<li class='Delete'><a href='#' title='Delete' onClick='return Delete(\""+F+"\", true)'>Delete</a></li>";if(!PostUI.IsOnDeckAvailable()){E+="<li class='Approve'><a href='#' title='approve' onClick='return ApproveComment(\""+F+"\", 0)'>approve</a></li>"}else{if(!PostUI.IsInOnDeck(J)){E+="<li class='Approve'><a href='#' title='approve' onClick='return ApproveComment(\""+F+"\", 1)'>approve</a></li>"}}}else{if(D&&(PostUI.IsInTwitterModeration(J)||PostUI.IsInSocialTwitterModeration(J))){E+="<li class='Approve'><a href='#' title='approve' onClick='return SaveTweet(\""+F+'", null, '+(PostUI.IsOnDeckView()?1:0)+(H!=null&&C!=null?", "+H+", "+C:"")+")'>approve</a></li>"}else{if(D&&(PostUI.IsInSocialFacebookModeration(J))){E+="<li class='Approve'><a href='#' title='approve' onClick='return SaveFacebook(\""+F+'", null, '+(PostUI.IsOnDeckView()?1:0)+(H!=null&&C!=null?", "+H+", "+C:"")+")'>approve</a></li>"}else{if(D&&PostUI.IsInOnDeck(J)){E+="<li class='Delete'><a href='#' title='Delete' onClick='return Delete(\""+F+"\", true)'>Delete</a></li>";E+="<li class='Approve'><a href='#' title='approve' onClick='return ChangeGroup("+F+", this.parentNode.parentNode.parentNode )'>approve</a></li>"}}}}I.innerHTML=E}else{if(B&&(PostUI.IsInModeration(J)||PostUI.IsInOnDeck(J))&&!PostUI.IsPoll(J)){I.innerHTML="<li class='Edit'><a href=\"#\" title='Edit' onClick='return PostUI.ShowEditInterface( "+F+", null, false ); return false;' class='Edit'>Edit</a></li>"+I.innerHTML}else{if(!B&&(PostUI.IsInModeration(J)||PostUI.IsInOnDeck(J))){if(LiveBlog.GetInstance().IsjQueryAvailable){jQuerySL(I).find("li.Edit").remove()}}else{if(!B&&!PostUI.IsInModeration(J)&&!PostUI.IsInTwitterModeration(J)&&!PostUI.IsInSocialTwitterModeration(J)&&!PostUI.IsInSocialFacebookModeration(J)&&!PostUI.IsInOnDeck(J)){I.innerHTML=""}else{if(B&&!PostUI.IsInModeration(J)&&!PostUI.IsInTwitterModeration(J)&&!PostUI.IsInSocialTwitterModeration(J)&&!PostUI.IsInSocialFacebookModeration(J)&&!PostUI.IsInOnDeck(J)){if(D||PostUI.IsYourPost(J)){if(LiveBlog.GetInstance().HasSkipModerationPermission){E+="<li class='Delete'><a href='#' title='Delete' onClick='return Delete(\""+F+"\", true)'>Delete</a></li>"}if(!PostUI.IsInOnDeck(J)){if(IsLive&&D){if((!PostUI.IsJustinTV(J)||(PostUI.IsJustinTV(J)&&!PostUI.IsStuck(J)))&&(typeof(MediaThread)=="undefined"||(typeof(MediaThread)!="undefined"&&MediaThread!=ThreadId))){E+="<li class='Stick'><a href='#' title='"+(K?"unstick":"stick")+"' onClick='return Sticky("+F+","+(K?"false":"true")+", this)'>"+(K?"unstick":"stick")+"</a></li>"}}if(IsMostRecentPage&&IsLive&&(typeof(MediaThread)=="undefined"||(typeof(MediaThread)!="undefined"&&MediaThread!=ThreadId))){E+="<li class='Reply'><a href='#' title='Reply' onClick='LoadTextArea(jQuerySL(\"#TextLink\")); return Reply(\""+(PostUI.IsYourPost(J,true)?PostUI.RemoveSpecialCharacters(LiveBlog.GetInstance().UserName,true):PostUI.GetTwitterScreenNameSafe(J))+"\");'>Reply</a></li>"}if((typeof(MediaThread)=="undefined"||(typeof(MediaThread)!="undefined"&&MediaThread!=ThreadId))){E+="<li class='Link'><a href='javascript:void(0)' title='Permalink' onClick='return GetSinglePostPermalinks( "+ThreadId+", "+F+"); return false;'>Permalink</a></li>"}}else{if(LiveBlog.GetInstance().HasWritePermission){E+="<li class='Link'><a href='javascript:void(0)' title='Permalink' onClick='return GetSinglePostPermalinks( "+ThreadId+", "+F+"); return false;'>Permalink</a></li>"}}if(PostUI.IsInOnDeck(J)){E+="<li class='Approve'><a href='#' title='approve' onClick='return ChangeGroup("+F+", this)'>approve</a></li>"}if(LiveBlog.GetInstance().HasSkipModerationPermission&&(PostUI.IsTextOnly(J)||PostUI.IsImagePost(J)||PostUI.IsVideoPost(J)||PostUI.IsAudioPost(J)||LiveBlog.GetInstance().IsEmbed(J)||PostUI.PostType(J)=="10")){E+="<li class='Edit'><a href='#' title='Edit' onClick='return PostUI.ShowEditInterface( "+F+", null, false ); return false;' class='Edit'>Edit</a></li>"}}else{if(LiveBlog.GetInstance().HasWritePermission&&!PostUI.IsInOnDeck(J)){E+="<li class='Link'><a href='javascript:void(0)' title='Permalink' onClick='return GetSinglePostPermalinks( "+ThreadId+", "+F+"); return false;'>Permalink</a></li>"}else{if(!jQuerySL("#CommentBox").length<=0&&!DiscussionsEnabled){E+="<li class='Reply'><a href='#' title='Reply' onClick='EmbedToolOpenComment(); return Reply(\""+(PostUI.IsYourPost(J,true)?PostUI.RemoveSpecialCharacters(LiveBlog.GetInstance().UserName,true):PostUI.GetTwitterScreenNameSafe(J))+"\")'>Reply</a></li>"}if((typeof(IsWhitelabel)!="undefined"&&IsWhitelabel)&&J.id.indexOf("Saving")==-1){E+="<li class='Link'><a href='javascript:void(0)' title='Permalink' onmouseover='this.href= \""+GetSinglePostPermalink(F)+"\"' onClick='return GoToSinglePostPermalink( "+F+"); return false;'>Permalink</a></li>"}E+='<li class="SL_Share Twitter" data-sharetype="post"></li><li class="SL_Share Facebook" data-sharetype="post"></li>'}}I.innerHTML=E}}}}}};PostUI.ShowDropDown=function(B,C){var A=C.parentNode.getElementsByTagName("ul")[0];if(LiveBlog.GetInstance().IsjQueryAvailable){jQuerySL(A).slideDown("fast")}else{A.style.display="block"}B.cancelBubble=true;B.returnValue=false;return false};PostUI.GetMetaElement=function(A){return((SCRIBBLE.utilities.GetElementsByClassName("Meta","",A)[0]!=null)?SCRIBBLE.utilities.GetElementsByClassName("Meta","",A)[0]:SCRIBBLE.utilities.GetElementsByClassName("Content","",A)[0])};PostUI.IsComment=function(A){return(A.className.match(/Comment/)!=null)};PostUI.IsInOnDeck=function(A){return(PostUI.IsOnDeckView()&&document.getElementById("OnDeck1")==A.parentNode)};PostUI.IsOnDeckView=function(){return(document.getElementById("OnDeck1"))};PostUI.IsTwitterPost=function(A){var B=PostUI.GetMetaElement(A);return(jQuerySL(B).find("span:contains('twitter')").length!=0)};PostUI.IsFacebookPost=function(A){var B=PostUI.GetMetaElement(A);return(jQuerySL(B).find("span:contains('facebook')").length!=0)};PostUI.IsYouTubePost=function(A){var B=PostUI.GetMetaElement(A);return(jQuerySL(B).find("span.YouTube").length!=0)};PostUI.IsYouTubePostApproved=function(B){var C=PostUI.GetMetaElement(B);var A=jQuerySL(B).find(".Content");if(A.has(".Media").length>0){return false}else{A=A.html();return(jQuerySL(C).find("span.YouTube").length==0&&A!=null&&A!=""&&A.match(/(\.youtube\.com)/ig)!==null)}};PostUI.IsWikipediaPost=function(A){return(typeof(A.Meta)!=="undefined"&&A.Meta.LoginProvider!=="undefined"&&A.Meta.LoginProvider=="Wikipedia")};PostUI.IsWikipediaPostApproved=function(C){var A=jQuerySL(C).find("blockquote");var B=A.siblings();if(A.length!=1&&B.length!=0){return false}else{if(jQuerySL.trim(A.find(".Meta em span").text())=="Wikipedia"){return true}}};PostUI.IsInstagramPost=function(A){var B=PostUI.GetMetaElement(A);return(jQuerySL(B).find("span.Instagram").length!=0)};PostUI.IsInstagramApprovedPost=function(A){var B=PostUI.GetMetaElement(A);return(jQuerySL(B).find("a.sl_instagram_post").length!=0)};PostUI.RemoveSpecialCharacters=function(B,A){var C=B;A=(typeof(A)!="undefined"?A:false);if(typeof(C)!="undefined"&&C!=null){C=C.replace(/"/ig,"").replace(/'/ig,"").replace(/\//ig,"").replace(/\\/ig,"");if(A){C=C.replace(/&quot;/ig,"").replace(/&#39;/ig,"").replace(/&#47;/,"").replace(/&#92;/,"")}}else{C=""}return C};PostUI.GetTwitterScreenName=function(H,E,D){var A=(D==undefined)?false:D;if(E==null){E=0}var G="";if(A){var F=PostUI.GetMetaElement(H);var B=jQuerySL(F).find("a:contains('twitter')");if(B.length>0){G=B.attrSL("href").match(/twitter.com\/(.*)\/status/i)}if(G.length>0){return G[1]}}if(typeof(H.Meta)!=="undefined"&&typeof(H.Meta.ScreenName)!=="undefined"){G=H.Meta.ScreenName}else{if(PostUI.GetMetaElement(H).getElementsByTagName("em").length>0){var C=PostUI.GetMetaElement(H).getElementsByTagName("em")[E].childNodes;for(var I in C){if(C[I].nodeType==3){G=C[I].nodeValue.replace(/'/,"").replace(/"/,"")}}}else{G="you"}}return G.replace(/\s/g,"")};PostUI.GetTwitterScreenNameSafe=function(B,C,A){return PostUI.GetTwitterScreenName(B,C,A).replace(/'/,"").replace(/"/,"")};PostUI.GetFacebookUserId=function(E,C){var A=(C==undefined)?false:C;var F=null;if(A){var D=PostUI.GetMetaElement(E);var B=jQuerySL(D).find("a:contains('facebook')");F=B.attrSL("href").match(/www.facebook.com\/([a-z0-9]+)\//i);if(F){return F[1]}return null}else{F=PostUI.PostId(E);if(F!=null){F=F.match(/facebook([a-z0-9]+)_/i);if(F){return F[1]}return null}}return F};PostUI.IsInTwitterModeration=function(A){return(jQuerySL(A).closest("div.socialsearch-container").hasClass("search-twitter"))};PostUI.IsInSocialTwitterModeration=PostUI.IsInTwitterModeration;PostUI.IsInSocialFacebookModeration=function(A){return(jQuerySL(A).closest("div.socialsearch-container").hasClass("search-facebook"))};PostUI.IsInEventPreview=function(A){return(jQuerySL(A).closest("div.socialsearch-container").hasClass("search-events"))};PostUI.IsInModeration=function(A){return(A.parentNode==document.getElementById("Moderated"))};PostUI.IsOnDeckAvailable=function(){return(LiveBlog.GetInstance().GetGroupPostsList(1)!=null)};PostUI.IsStuck=function(A){return((A.className+"").match(/Sticky/)!=null)};PostUI.IsComment=function(A){return((A.className+"").match(/Comment/)!=null)};PostUI.IsTextOnly=function(A){return(SCRIBBLE.utilities.GetElementsByClassName("Content","",A)[0].innerHTML.match(/(<img|<embed|<object|VideoEmbedHolder|Poll[0-9]+)/i)==null)};PostUI.IsImagePost=function(A){return(SCRIBBLE.utilities.GetElementsByClassName("Content","",A)[0].innerHTML.match(/(<img)/i)!=null&&PostUI.PostType(A)!=10)};PostUI.IsVideoPost=function(A){return(SCRIBBLE.utilities.GetElementsByClassName("Content","",A)[0].innerHTML.match(/VideoEmbedHolder[\s\S]*/i)!=null)&&(SCRIBBLE.utilities.GetElementsByClassName("Content","",A).indexOf("Video")>-1||A.className.match("Video")!=null||A.className.match("PostType_6")!=null)};PostUI.IsAudioPost=function(A){return(SCRIBBLE.utilities.GetElementsByClassName("Content","",A)[0].innerHTML.match(/VideoEmbedHolder[\s\S]*/i)!=null)&&(SCRIBBLE.utilities.GetElementsByClassName("Content","",A).indexOf("Audio")>-1||A.className.match("Audio")!=null||A.className.match("PostType_3")!=null)};PostUI.IsCaptioned=function(A){return(SCRIBBLE.utilities.GetElementsByClassName("Content","",A)[0].innerHTML.match(/(<p\s|CaptionInput)/i)!=null)};PostUI.IsSaveButtonActive=function(A){return(A.innerHTML.match(/return Edit\(/)!=null)};PostUI.IsEmbed=function(){var A=document.getElementById("Discussion");return(A!=null&&A.className&&A.className.match(/Embed/))};PostUI.IsPoll=function(A){return(SCRIBBLE.utilities.GetElementsByClassName("Content","",A)[0].innerHTML.match(/class=['"]?Poll[0-9]+['"]?/i)!=null)};PostUI.IsJustinTV=function(A){return(SCRIBBLE.utilities.GetElementsByClassName("Content","",A)[0].innerHTML.match(/(<param.*?justin\.tv.*?>)/i)!=null)};PostUI.GetPost=function(A){try{var C=document.getElementById("LiveBlog_Post"+A);if(C!=null&&C!=undefined){return C}}catch(B){}return null};PostUI.PostId=function(B){var A=(B.id+"").match(/LiveBlog_Post([a-z0-9_]+)/i);if(A){return A[1]}else{return null}};PostUI.YouTubeId=function(B){var C=(B.id+"").match(/LiveBlog_Postyoutube([a-z0-9_]+)/i);if(C){return C[1]}else{var A=jQuerySL(B).find(".Content").html();var D=(A!=null&&A!=""?A.match(/"\/\/.*?\.(youtube\.com|youtu\.be)\/[a-zA-Z0-9]\/(.*?)"/i):null);if(D!=null&&D.length>0){return D[2]}return null}};PostUI.WikipediaURL=function(C){var A=null;if(typeof(C.Meta)!="undefined"&&typeof(C.Meta.Permalink)!="undefined"){A=C.Meta.Permalink}else{var B=jQuerySL(C).find(".Meta span a");if(typeof(B)!=undefined&&B!==null&&B.text()=="Wikipedia"){A=B.attr("href")}}return A};PostUI.InstagramURL=function(B){var C=null;if(typeof(B.Meta)!="undefined"&&typeof(B.Meta.Permalink)!="undefined"){C=B.Meta.Permalink}else{var A=SCRIBBLE.utilities.GetElementsByClassName("sl_instagram_post","",B);if(typeof(A)!=undefined&&A!==null){C=A[0].href}}return C};PostUI.EditorId=function(B){try{var A=SCRIBBLE.utilities.GetElementsByClassName("Editor","",B)[0];var D=A.className.match(/Editor([a-z0-9_]+)/i)[1];return D}catch(C){}return null};PostUI.PostType=function(A){try{var B=(A.className+"").match(/PostType_([0-9]+)/i);if(B){return B[1]}}catch(C){}return null};PostUI.GetNumPostType=function(A){var B=new Array();B["TEXT"]=1;B["IMAGE"]=2;B["VIDEO"]=3;B["INVITE"]=4;B["SYSTEM"]=4;B["AUDIO"]=6;B["EMBED"]=7;B["JUSTINTVSTREAM"]=8;B["POLL"]=9;B["HTML"]=10;if(B[A]){return B[A]}return A};function ClosePopupDialog(D,B){if(!D.hasClass("PopupDialog")){D=jQuerySL(".PopupDialog")}if(B!=null){var E=D.height();D.children("div.Content").html(B);var C=D.height();var F=E-C;if(D.hasClass("WebcamRecorder")){F=0}var A=LiveBlog.findPosY(D)+F;D.css("top",A+"px");setTimeout(function(){D.remove()},2000)}else{D.remove()}}function PositionPopupDialog(A,D,B){if(A=="right"){var C=D-80;B.style.top=(C>0?C:10)+"px"}else{var C=D-jQuerySL(B).height()+35;B.style.top=C+"px"}}function CreatePopupDialog(G,B,F,H,A){var D=document.createElement("div");D.className="PopupDialog "+(F!=null?F:"");var C=document.createElement("div");C.className="Content";C.innerHTML="<p class='Loading'>Loading</p>";D.appendChild(C);var E=LiveBlog.findPosY(jQuerySL(B));if(H!=null){jQuerySL(".PopupDialog").remove();jQuerySL(C).load(H,function(){if(A!=null){A()}PositionPopupDialog(G,E,D)})}if(G=="left"){D.style.right=(jQuerySL(document).width()-LiveBlog.findPosX(B))+"px"}else{D.style.left=(LiveBlog.findPosX(B)+jQuerySL(B).width())+"px"}document.getElementsByTagName("body")[0].appendChild(D);PositionPopupDialog(G,E,D);return D}function TweetThis(pId,pEdit,pLink){jQuerySL.ajax({url:"/widgets/share/GetThreadShareData.aspx?Id="+ThreadId,error:function(XMLHttpRequest,textStatus,errorThrown){alert(errorThrown)},success:function(data){var data=eval(data);var conf={APIKey:"2_8nkPycJKm7ldFV5QUt1wRg0qQ7XghIJASqQ3VLM10AGUPeP5K-TGhqtkXbwU7RdA"};var act=new gigya.services.socialize.UserAction();var Url=data.Url;act.setUserMessage(data.Comment);act.setTitle(data.Title);act.setDescription(data.Description);act.setLinkBack(Url);act.addActionLink("Watch the liveblog",Url);if(data.Image!=null){var image={src:data.Image,href:Url,type:"image"};act.addMediaItem(image)}var params={userAction:act,enabledProviders:["twitter","facebook","myspace","yahoo","linkedin"],defaultProviders:["twitter"]};gigya.services.socialize.showShareUI(conf,params)}});return false}function ShowWebcamRecorder(E,D){D=ThreadId;var F="";if(typeof(LiveBlog.GetInstance().ASPSID)!="undefined"&&LiveBlog.GetInstance().ASPSID!=null){F="&ASPSESSID="+LiveBlog.GetInstance().ASPSID}var A="";var B="";if(typeof GigyaSL!=="undefined"&&GigyaSL.NeedsLogin&&(LiveBlog.GetInstance().ASPSID==null||LiveBlog.GetInstance().ASPSID=="")){CreatePopupDialog("right",E,"WebcamRecorder","/widgets/webcam/WebcamRecord.aspx?ajax=1&ThreadId="+D+"&Comment=1&rand="+Math.round(10000000*Math.random()),PopulateWebcamRecorderArea)}else{var C=CreatePopupDialog("right",E,"WebcamRecorder","/widgets/webcam/WebcamRecord.aspx?ajax=1&ThreadId="+D+F+"&rand="+Math.round(10000000*Math.random()),PopulateWebcamRecorderArea)}return false}function PopulateWebcamRecorderArea(){if(document.getElementById("VideoEmbedHolder")!=null){var A=document.getElementById("VideoEmbedHolder");var D=60;if(A.className&&A.className=="Public"){D=30}var B="http://player.nimbb.com/nimbb.swf";if(false){B="https://player.nimbb.com/nimbb.swf"}var C=new SWFObject(B+"?lang=en&bgcolor=FFFFFF&titlecolor=000000&textcolor=000000&bordercolor=000000&mode=record&key=c09224b3bc&simplepage=1&nologo=1&quality=2&recordlength="+D,"WebcamRecorder",320,240,"9","#ffffff");C.addParam("allowscriptaccess","always");C.addParam("wmode","opaque");C.write(A)}}var WebcamLink=null;function ShowWebcamOption(pLink,pThreadId,pOption){pThreadId=ThreadId;var SID="";if(typeof(LiveBlog.GetInstance().ASPSID)!="undefined"&&LiveBlog.GetInstance().ASPSID!=null){SID="&ASPSESSID="+LiveBlog.GetInstance().ASPSID}if(pOption==null){WebcamLink=pLink;var Holder=CreatePopupDialog("right",pLink,"WebcamRecorder","/widgets/webcam/WebcamOption.aspx?ajax=1&ShowOption=1&ThreadId="+pThreadId+SID,function(){})}else{if(pOption==0){jQuerySL(".WebcamRecorder").remove();ShowWebcamRecorder(WebcamLink,pThreadId)}else{if(pOption==1){ClosePopupDialog(jQuerySL(".WebcamRecorder"),"<p class='Loading'>Thanks! Your video will be posted shortly.</p>");jQuerySL.post("/Post.aspx",{action:"webcamstream",ThreadId:pThreadId},function(pResponseData){var ResponseObject=eval("("+pResponseData+")");if(ResponseObject.BroadcasterHtml!=null&&ResponseObject.BroadcasterHtml!=undefined){ResponseObject.Post.Content=ResponseObject.BroadcasterHtml;LiveBlog.GetInstance().AttachNewPost(ResponseObject.Post)}else{if(ResponseObject.Error!=null&&ResponseObject.Error!=undefined&&ResponseObject.Error=="NoPermission"){alert("You don't have permission")}else{alert("Error has occurred")}}})}}}return false}function Nimbb_videoSaved(C){var D=document.getElementById(C);var F=D.getGuid();var E="";var B="";var G=GetAnonymousNameValue();var A="";if(G!=null&&G!=""){G="&Name="+G}if(typeof GigyaSL!=="undefined"&&GigyaSL.NeedsLogin&&(LiveBlog.GetInstance().ASPSID==null||LiveBlog.GetInstance().ASPSID=="")){if(GigyaSL.AvatarURL!=""){A="&AvatarURL="+encodeURIComponent(GigyaSL.AvatarURL)}B="&Login=1"}if(typeof(LiveBlog.GetInstance().ASPSID)!="undefined"&&LiveBlog.GetInstance().ASPSID!=null){E="&ASPSESSID="+LiveBlog.GetInstance().ASPSID}jQuerySL.get("/Post.aspx?action=webcamsave"+E+B+A+G,{VideoGuid:F,ThreadId:ThreadId},function(H){if(H.Status&&H.Status=="1"){ClosePopupDialog(jQuerySL(".WebcamRecorder"),"<p class='Loading'>Thanks! Your video will be posted shortly.</p>")}else{if(H.Status&&H.Status=="2"){if(H.ASPSID&&H.ASPSID!=""){LiveBlog.GetInstance().ASPSID=H.ASPSID}ClosePopupDialog(jQuerySL(".WebcamRecorder"),"<p class='Loading'>Thanks for your comment!  It's in moderation.</p>")}else{if(H.Status&&H.Status=="3"){ClosePopupDialog(jQuerySL(".WebcamRecorder"),"<p class='Loading'>You can post a webcam comment every 1 minute(s).</p>")}else{ClosePopupDialog(jQuerySL(".WebcamRecorder"),"<p class='Loading'>Oops, there was an error</p>")}}}})}function TwitterAutoPost_Delete(D,C,A){if(confirm("Are you sure you want to stop auto-posting that search term from Twitter?")){if(A!=null){ButtonBusy(A)}var B=C.className.substring(6);jQuerySL.get("/TwitterAutoPost.aspx?ajax=1&query="+encodeURIComponent(D)+"&delete=1&ThreadId="+ThreadId+"&QueryID="+B+"&s="+sl_r,function(E){if(E=="1"){jQuerySL(C).remove();var F=parseInt(jQuerySL("#QueriesUsed").html())-1;jQuerySL("#QueriesUsed").html(F)}})}return false}function TwitterAutoPost(C,D,A){if(C==null||C==""){ButtonRestore(A);return}var B=jQuerySL("#TwitterAutoPostList").children().length;if(B>=MaxQueries){alert("You have reached the maximum number of allowed twitter queries.");ButtonRestore();return false}jQuerySL.ajax({url:"/TwitterAutoPost.aspx",data:{ajax:"1",query:C,threadid:ThreadId,confirmed:D,s:sl_r,r:Math.floor(Math.random()*10001)},dataType:"json",success:function(E,G,F){if(E.Error!=null&&E.Error!=""){ButtonRestore();alert(E.Error)}else{jQuerySL("#TwitterAutoPostList").load("/client/Write/Twitter.aspx #TwitterAutoPostList>*","id="+ThreadId+"&s="+sl_r,function(){jQuerySL("#TwitterSearch").val("");ButtonRestore();var H=parseInt(jQuerySL("#QueriesUsed").html())+1;jQuerySL("#QueriesUsed").html(H)})}},error:function(F,G,E){if(G!=null&&G=="error"){alert(F.statusText)}else{alert("An error has occurred, please try again.")}ButtonRestore()}});return false}function TwitterFilter(L,F){var A=jQuerySL(".WordFilter").attrSL("value");var E=jQuerySL(".MinWordsFilter").attrSL("value");var K=jQuerySL(".NotWordFilter").attrSL("value");var I=jQuerySL(".LanguageFilter").attrSL("value");var B=false;var G=false;var D=false;var C=false;var H=false;var J="";if(typeof ThreadId!=="undefined"){J=ThreadId}if(jQuerySL(".URLFilter:checked").is(":checked")){B=true}if(jQuerySL(".CapsFilter:checked").is(":checked")){G=true}if(jQuerySL(".RTFilter:checked").is(":checked")){C=true}if(jQuerySL(".QuestionFilter:checked").is(":checked")){D=true}if(jQuerySL(".FilterFollows:checked").is(":checked")){H=true}ButtonBusy(L);jQuerySL.ajax({type:"POST",url:"/TwitterAutoPost.aspx",data:{filter:F,ThreadId:J,words:A,notwords:K,urls:B,caps:G,mw:E,rt:C,q:D,follows:H,language:I,s:sl_r},success:function(M,O,N){alert("Filter saved successfully.");ButtonRestore(L);if(F=="thread"){jQuerySL("#TwitterFilter").load("/client/Write/Twitter.aspx #TwitterFilter>*","id="+ThreadId,function(){SetupMoreInfoPopUp()})}else{if(F=="client"){jQuerySL("#TwitterFilter").load("/client/Settings.aspx #TwitterFilter>*",function(){SetupMoreInfoPopUp()})}}},error:function(N,O,M){if(O!=null&&O=="error"){alert(N.statusText)}else{alert("An error has occurred, please try again.")}ButtonRestore(L)}});return false}function TwitterFilterRemove(A,B){if(!confirm("Reset filter to default settings?")){return false}var C="";if(typeof ThreadId!=="undefined"){C=ThreadId}ButtonBusy(A);jQuerySL.ajax({type:"POST",url:"/TwitterAutoPost.aspx",data:{filter:B,ThreadId:C,remove:"true",s:sl_r},success:function(D,F,E){alert("Filter reset to default succesfully.");ButtonRestore(A);if(B=="thread"){jQuerySL("#TwitterFilter").load("/client/Write/Twitter.aspx #TwitterFilter>*","id="+ThreadId)}else{if(B=="client"){jQuerySL("#TwitterFilter").load("/client/Settings.aspx #TwitterFilter>*")}}},error:function(E,F,D){if(F!=null&&F=="error"){alert(E.statusText)}else{alert("An error has occurred, please try again.")}ButtonRestore(A)}});return false}function TwitterUpdateAvatar(A,B){if(jQuerySL(".UserMenu").length>0){jQuerySL(".UserMenu").remove()}if(jQuerySL.prompt!=undefined&&jQuerySL.prompt!=null){jQuerySL.prompt.close()}TwitterUpdateAvatar.UserName=A||TwitterUpdateAvatar.UserName;TwitterUpdateAvatar.UserId=B||TwitterUpdateAvatar.UserId;jQuerySL.ajax({type:"POST",url:"/twitter/UpdateTwitterAvatar.aspx",data:{UserName:TwitterUpdateAvatar.UserName,UserId:TwitterUpdateAvatar.UserId,s:sl_r},success:function(C,F,D){ButtonRestore();if(C.Error==null){if(jQuerySL("#TwitterFollowing").length>0){jQuerySL("#TwitterFollowing").load("/client/Write/Twitter.aspx #TwitterFollowing>*","id="+ThreadId)}else{if(TwitterUpdateAvatar.UserId!=null){var E=jQuerySL(".Creator"+TwitterUpdateAvatar.UserId).closest("[data-postid]").find(".avatar-area");E.empty();LiveBlog.AddAvatarToItem(E.get(0),C)}}alert("Avatar updated succesfully.")}else{alert(C.Error)}},error:function(D,E,C){if(E!=null&&E=="error"&&D.status==401){PopUpTwitterOauth("TwitterUpdateAvatar")}else{if(E!=null&&E=="error"){alert(D.statusText)}else{alert("An error has occurred, please try again.")}}ButtonRestore()}});return false}TwitterUpdateAvatar.UserName=null;TwitterUpdateAvatar.UserId=null;function FacebookUpdateAvatar(A,B){if(jQuerySL(".UserMenu").length>0){jQuerySL(".UserMenu").remove()}jQuerySL.ajax({type:"POST",url:"/facebook/UpdateFacebookAvatar.aspx",data:{FacebookUserId:A,UserId:B,s:sl_r},success:function(C,F,D){ButtonRestore();if(C.Error==null){if(B!=null){var E=jQuerySL(".Creator"+B).closest("[data-postid]").find(".avatar-area");E.empty();LiveBlog.AddAvatarToItem(E.get(0),C)}alert("Avatar updated succesfully.")}else{alert(C.Error)}},error:function(D,E,C){if(E!=null&&E=="error"){alert(D.statusText)}else{alert("An error has occurred, please try again.")}ButtonRestore()}});return false}function Reply(B){if(AllowedToEdit){var D=jQuerySL("textarea#PostInput"),C=D.val();if(C.indexOf("@")===0){C=C.replace(/@[\w\s]+: ? /,"")}D.val("@"+B+": "+C);var E=jQuerySL("textarea#PostInput").offset();if(E.top<LiveBlog.YPosition()){jQuerySL.scrollTo("#Discussion",100,{axis:"y"});setTimeout(function(){jQuerySL("textarea#PostInput").focus();MoveCursorToRight(jQuerySL("textarea#PostInput").get(0))},200)}else{jQuerySL("textarea#PostInput").focus();MoveCursorToRight(jQuerySL("textarea#PostInput").get(0))}}else{var A=100;jQuerySL("textarea#PostInput").val("@"+B+" "+jQuerySL("textarea#PostInput").val());if(jQuerySL("#CommentBox").css("display")=="none"){ShowCommentBox(document.getElementById("MakeComment"),null);A+=750}var F=jQuerySL(".CommentArea").offset();if(F.top<LiveBlog.YPosition()){jQuerySL.scrollTo("#CommentBox",100,{axis:"y"})}setTimeout(function(){jQuerySL("textarea#PostInput").focus();MoveCursorToRight(jQuerySL("textarea#PostInput").get(0))},A)}return false}function MoveCursorToRight(B){if(B==null||B.value==null){return}var A=B.value.length;if(B.setSelectionRange){B.setSelectionRange(A,A)}else{if(B.createTextRange){var C=B.createTextRange();C.collapse(true);C.moveEnd("character",A);C.moveStart("character",A);C.select()}}}function ButtonBusy(A){var B=jQuerySL(A);B.addClass("Busy");if(B.is("input")){B.attr("OldValue",B.val());B.val("Working...")}else{B.attr("OldInnerText",B.html());B.html("Working...")}}function ButtonRestore(A){var B;if(A!=null){B=jQuerySL(A)}else{B=jQuerySL("input.Busy,a.Busy")}B.removeClass("Busy");if(B.is("input")){B.val(B.attrSL("OldValue"))}else{B.html(B.attrSL("OldInnerText"))}}function GetTopHtmlHeight(){var A=0;if(jQuerySL(".TopHtml").length>0){A+=jQuerySL(".TopHtml").height()}if(jQuerySL(".SyndicatedTopHtml").length>0){A+=jQuerySL(".SyndicatedTopHtml").height()}return A}function EmbedToolOpen(C,A,B,F,E){if(jQuerySL("#Tools .Tool.Selected").length>0){var D=GetTopHtmlHeight();jQuerySL("#Tools .Tool.Selected").slideUp(function(){if(C.get(0)!=jQuerySL("#Tools .Tool.Selected").get(0)){if(F!=null){F()}EmbedToolSelect(C,A,B)}else{if(E!=null){E()}jQuerySL("#Tools .Tool.Selected").removeClass("Selected");jQuerySL("#ToolbarMenu li a").removeClass("Selected");if(D>0){jQuerySL("#Discussion").css({"height":jQuerySL(window).height()-D-jQuerySL("#Tools").height()})}else{jQuerySL("#Discussion").css({"height":jQuerySL(window).height()-jQuerySL("#Tools").height()})}}});if(D>0){jQuerySL("#Discussion").css({"height":jQuerySL(window).height()-D-jQuerySL("#Tools").height()})}else{jQuerySL("#Discussion").css({"height":jQuerySL(window).height()-jQuerySL("#Tools").height()})}}else{if(F!=null){F()}EmbedToolSelect(C,A,B)}}function EmbedToolOpenComment(){var B=jQuerySL("#Comment");var A=jQuerySL("#CommentBoxLink");if(jQuerySL("#Tools .Tool.Selected").length>0){var C=GetTopHtmlHeight();if(B.get(0)!=jQuerySL("#Tools .Tool.Selected").get(0)){jQuerySL("#Tools .Tool.Selected").slideUp(function(){jQuerySL("#Tools .Tool.Selected").removeClass("Selected");jQuerySL("#ToolbarMenu li a").removeClass("Selected");if(C>0){jQuerySL("#Discussion").css({"height":jQuerySL(window).height()-C-jQuerySL("#Tools").height()})}else{jQuerySL("#Discussion").css({"height":jQuerySL(window).height()-jQuerySL("#Tools").height()})}EmbedToolSelect(B,A)})}if(C>0){jQuerySL("#Discussion").css({"height":jQuerySL(window).height()-C-jQuerySL("#Tools").height()})}else{jQuerySL("#Discussion").css({"height":jQuerySL(window).height()-jQuerySL("#Tools").height()})}}else{EmbedToolSelect(B,A)}}function EmbedToolSelect(D,A,C){jQuerySL("#Tools .Tool.Selected").removeClass("Selected");jQuerySL("#ToolbarMenu li a").removeClass("Selected");jQuerySL(A).addClass("Selected");var B=GetTopHtmlHeight();var F=jQuerySL("#ToolbarMenu").height();var E=D.height();D.addClass("Selected");if(E+B+F>jQuerySL(window).height()){D.css({"height":jQuerySL(window).height()-B-F,"overflow":"auto"});jQuerySL("#Discussion").css({"height":F})}else{jQuerySL("#Discussion").css({"height":jQuerySL(window).height()-B-E})}D.slideDown(function(){if(C!=null){C()}})}function EmbedResizeDiscussion(){if(jQuerySL("#Tools.Embed").length>0){var A=jQuerySL("#Tools.Embed .Selected").height();if(!A){A=jQuerySL("#Tools.Embed").height()}var B=GetTopHtmlHeight();if(B>0){jQuerySL("#Discussion").css({"height":jQuerySL(window).height()-B-A})}else{if(A){jQuerySL("#Discussion").css({"height":jQuerySL(window).height()-A})}}}}function EmbedToolsSetup(){document.write("<style type='text/css'>#Discussion { height: "+(jQuerySL(window).height()-(jQuerySL(".TopHtml").length>0?jQuerySL(".TopHtml").height():0)-jQuerySL("#Tools").height())+"px;}</style>")}function SetFontSize(A){var B=jQuerySL("div.Content");CurrentSize=B.css("font-size");if(A=="Larger"){NewSize=parseInt(CurrentSize)+2+"px"}else{if(A=="Smaller"){NewSize=parseInt(CurrentSize)-2+"px"}else{NewSize=""}}B.css("font-size",NewSize)}PostUI.prototype.LoadImageEditorContext=function(G,F){var H=jQuerySL(F);var E=jQuerySL(F).parent();jQuerySL(F).parent().prepend(jQuerySL(F).get(0).cloneNode(false));H.remove();E.blur();var B=-1;if(F.src.match(/_(\d{3})\./)){B=F.src.match(/_(\d{3})\./)[1]}var D="";var I=/SL_C_[\d_]+/i;var A=I.exec(F.className);if(A!=null&&A.length>0){D+=A[0]}var C="/client/ImageEditor/Editor.aspx?img="+F.src.replace(/_\d{3}\./,"_800.")+"&ImgClass="+D+"&ThreadId="+ThreadId+"&r="+Math.floor(Math.random()*1001)+(B!=-1?"&Size="+B:"")+"&lang=en";PostUI.prototype.LoadImageEditor("",C)};PostUI.CreateStyleSheetIE=function(A){jQuerySL.ajax({url:A,async:false,success:function(B,C,D){document.getElementsByTagName("head")[0].appendChild(document.createElement("style"));var E=document.styleSheets[document.styleSheets.length-1];E.cssText+=B}})};PostUI.prototype.LoadImageEditor=function(C,B){if(!ImageEditorLoaded){if(document.createStyleSheet){PostUI.CreateStyleSheetIE("/Style/libs/crop/imgareaselect-default.css?v=lionfish5_1.0.4896.19760");PostUI.CreateStyleSheetIE("/Style/libs/jquery/blitzer/jquery-ui-1.8.8.custom.css?v=lionfish5_1.0.4896.19760")}else{jQuerySL("<link/>",{rel:"stylesheet",type:"text/css",href:"/Style/libs/crop/imgareaselect-default.css?v=lionfish5_1.0.4896.19760"}).appendTo("head");jQuerySL("<link/>",{rel:"stylesheet",type:"text/css",href:"/Style/libs/jquery/blitzer/jquery-ui-1.8.8.custom.css?v=lionfish5_1.0.4896.19760"}).appendTo("head")}jQuerySL.ajax({async:false,type:"GET",url:"/js/img/jquery.imgareaselect.js?v=lionfish5_1.0.4896.19760",data:null,dataType:"script"});jQuerySL.ajax({async:false,type:"GET",url:"/js/img/jquery.imgCenter.js?v=lionfish5_1.0.4896.19760",data:null,dataType:"script"});jQuerySL.ajax({async:false,type:"GET",url:"/js/img/jquery.colorbox.js?v=lionfish5_1.0.4896.19760",data:null,dataType:"script"});ImageEditorLoaded=true}var A="";if(B!=null&&B!=""){A=B}else{A=jQuerySL(C).attrSL("href")}jQuerySL.colorbox({href:A});jQuerySL(document).bind("cbox_complete",function(){var E=jQuerySL("img#Image").width();var D=jQuerySL("img#Image").height();jQuerySL("#Image").imgCenter({scaleToFit:false,start:function(){if(E+100<400){E=400}jQuerySL("#ImageHolder").width(E+100).height(D+100);jQuerySL.colorbox.resize({innerWidth:E+100,innerHeight:D+200})}})})};function RemoveSyndicated(B,A,C){ButtonBusy(B);jQuerySL.ajax({type:"POST",url:"/client/AjaxHandler.aspx",data:{action:"removesyndicated",s:sl_r,to:A,from:C},success:function(D,H,F){var G=jQuerySL(B).closest("li");var E=G.parent();G.remove();if(E.children().length==0){E.prev().text("No syndicated events")}},error:function(E,F,D){if(F!=null&&F=="error"){alert(E.statusText)}else{alert("An error has occurred, please try again.")}ButtonRestore(B)}});return false}function ViewTwitterProfile(A){jQuerySL.ajax({type:"POST",url:"/client/AjaxHandler.aspx",data:{action:"gettwitterinfo",s:sl_r,UserId:A},async:false,success:function(B,D,C){jQuerySL(".UserMenu").remove();window.open("http://www.twitter.com/"+B.ScreenName)},error:function(C,D,B){if(D!=null&&D=="error"){alert(C.statusText)}else{alert("An error has occurred, please try again.")}}})}function GetSinglePostPermalink(B,C){if(PostUI.IsEmbed()&&C){return"javascript:void(0)"}else{if(PostUI.IsEmbed()){var A="";if((document.location+"").match(/(dev.scribblelive.com)/i)){A="https://dev.scribblelive.com"}else{if((document.location+"").match(/(localhost)/i)){A="http://localhost"}else{A="http://www.scribblelive.com"}}return A+"/Event/SinglePost.aspx?PostId="+B}else{if(LiveBlog.GetInstance().URL.match(/\?/)){return LiveBlog.GetInstance().URL+"&PostId="+B}else{return LiveBlog.GetInstance().URL+"/"+B}}}}function GoToSinglePostPermalink(A){window.open(GetSinglePostPermalink(A));return false}function GetSinglePostPermalinks(B,A){jQuerySL.ajax({type:"POST",url:"/client/AjaxHandler.aspx",data:{action:"getsinglepostpermalinks",s:sl_r,ThreadId:B,PostId:A},success:function(D,E,C){D=jQuerySL.parseJSON(D);if(D.data!=undefined){DisplaySinglePostsPermalinks(D.data.sites)}},error:function(D,E,C){if(E!=null&&E=="error"){alert(D.statusText)}else{alert("An error has occurred, please try again.")}}})}function DisplaySinglePostsPermalinks(C){if(jQuerySL.prompt!=undefined&&jQuerySL.prompt!=null){var D=C[0];var B=C[1];var A="";for(var E=0;E<D.length;E++){A+=D[E]+'<br /><input type="text" onmouseup="return PermalinkFieldFocus(this);" value="'+B[E]+'"><br /><br />'}jQuerySL.prompt.close();jQuerySL.prompt(A,{classes:"SinglePostPermalinksModal",persistent:false,buttons:{},loaded:function(){jQuerySL(".jqibuttons button").click(function(){if(jQuerySL(this).val()=="true"){jQuerySL.prompt.close()}})}})}}function GetNextModeratedPost(){var E=jQuerySL("#Moderated").children().last();var B=jQuerySL(E).find(".ServerTime");if(B.length==0){return}var D=Date.parse(B.text());var C=1;var A="desc";if(typeof(ModeratedNewestAtBottom)!=undefined&&ModeratedNewestAtBottom){C=0;A="asc";D.addSeconds(1)}jQuerySL.get("/api/rest/event/"+ThreadId+"/moderated?format=json",{"Since":D.toString("yyyy/MM/dd hh:mm:ss tt"),"Auth":Auth,"Max":1,"Reverse":C,"Order":A},function(F){var G=F.Posts[0];if(G==null){G=F.Edits[0]}if(G!=null){LiveBlog.GetInstance().AttachNewModeratedComment(ConvertPostToOldFormat(G),null,1,true)}})}function ConvertPostToOldFormat(A){return SCRIBBLE.utilities.ConvertPostToOldFormat(A)}
/*file name: /js/LivePoll.aspx */
function LivePoll(C,B){this.Id=C;this.IsLoaded=false;this.Question=null;this.Answers=new Array();this.TotalVotes=0;this.HaveVoted=false;this.IsDelayedDraw=false;this.DrawHolder=null;this.LastVote=null;this.IsAdmin=false;this.HasModeratePermission=false;this.PostId=null;this.Auth=LivePoll.GetAuth();this.IsCometBind=false;this.Creator=null;try{if(AllowedToEdit){this.IsAdmin=AllowedToEdit}else{if(HasWritePermission){this.IsAdmin=HasWritePermission}}}catch(A){try{if(LiveBlog!=null&&LiveBlog.GetInstance()!=null){this.IsAdmin=LiveBlog.GetInstance().HasWritePermission}}catch(A){}}try{if(AllowedToEdit){this.HasModeratePermission=AllowedToEdit}else{if(HasModeratePermission){this.HasModeratePermission=HasModeratePermission}}}catch(A){try{if(LiveBlog!=null&&LiveBlog.GetInstance()!=null){this.HasModeratePermission=LiveBlog.GetInstance().HasModeratePermission}}catch(A){}}this.IsOpen=true;LivePoll.StoreInstance(this);this.Load(B);if(this.IsAdmin){this.Load();this.SetupComet()}}LivePoll.CometApp=null;LivePoll.IsCometSetup=false;LivePoll.IsCometLoaded=false;LivePoll.GetAuth=function(){try{if(Auth!=null){return Auth}}catch(A){}return null};LivePoll.prototype.SetupComet=function(){if(!LivePoll.IsCometSetup){try{this.IsCometAvailable=(Pusher!=null)}catch(A){}if(this.IsCometAvailable){if(!LivePoll.IsCometLoaded){LivePoll.IsCometLoaded=true;LivePoll.CometApp=new Pusher("7019c1e6c2e651819375",{encrypted:LivePoll.IsSecure()});for(var B=0;B<LivePoll.__instances.length;B++){LivePoll.__instances[B].OnCometConnected(LivePoll.CometApp)}}}else{jQuerySL(document).ready(function(){var D=document.createElement("script");D.type="text/javascript";if(LivePoll.IsSecure()){D.src="https://d3dy5gmtp8yhk7.cloudfront.net/1.11/pusher.min.js"}else{D.src="http://js.pusher.com/1.11/pusher.min.js"}var C=setInterval(function(){var E=false;try{E=(Pusher!=null)}catch(G){}if(!LivePoll.IsCometLoaded&&E){LivePoll.IsCometLoaded=true;LivePoll.CometApp=new Pusher("7019c1e6c2e651819375",{encrypted:LivePoll.IsSecure()});for(var F=0;F<LivePoll.__instances.length;F++){LivePoll.__instances[F].OnCometConnected(LivePoll.CometApp)}clearInterval(C)}},200);document.body.insertBefore(D,document.body.firstChild)})}LivePoll.IsCometSetup=true}else{if(LivePoll.IsCometLoaded){this.OnCometConnected()}}};LivePoll.prototype.OnCometConnected=function(){if(this.IsCometBind){return false}if(this.HaveVoted||this.IsAdmin){}else{return false}this.IsCometBind=true;var A=this;var B=LivePoll.CometApp.subscribe("poll"+this.Id);B.bind("vote",function(D){var C=-1;var F=null;if(D.match(/^[0-9]+/)){C=parseInt(D)}else{var E=jQuerySL.parseJSON(D);C=E.Answer;F=E.Votes}if(A.LastVote==null||A.LastVote!=D){A.IncrementAnswer(C,null,F);if(A.HaveVoted||A.IsAdmin){A.Update()}}else{A.LastVote=null}});B.bind("close",function(){A.IsOpen=false;A.Update()});B.bind("open",function(){A.IsOpen=true;A.Draw(A.DrawHolder)});return true};LivePoll.GetInstance=function(B){if(LivePoll.__instances==null){return null}else{if(B==null){return LivePoll.__instance}else{for(var A=0;A<LivePoll.__instances.length;A++){if(LivePoll.__instances[A].Id==B){return LivePoll.__instances[A]}}}}return null};LivePoll.StoreInstance=function(A){if(LivePoll.__instances==null){LivePoll.__instances=new Array()}LivePoll.__instance=A;LivePoll.__instances.push(A)};LivePoll.prototype.Load=function(D,E){var B=this;if(D==null){jQuerySL.getJSON("/api/rest/poll/"+this.Id,{format:"json"},function(F){if(F!=null){B.Load(F);if(E!=null){E()}else{if(B.IsDelayedDraw){B.Draw(B.DrawHolder)}else{B.Update()}}}else{setTimeout(function(){B.Load(null,E)},10000)}});return}this.Question=D.Question;this.Answers=new Array();for(var A=0;A<D.Answers.length;A++){this.Answers.push({Text:D.Answers[A].Text,Id:D.Answers[A].Id,Votes:D.Answers[A].Votes})}this.TotalVotes=0;for(var A=0;A<this.Answers.length;A++){this.TotalVotes+=this.Answers[A].Votes}this.IsOpen=(D.IsOpen==null?true:(D.IsOpen==1));if(D.Creator!=null){this.Creator=D.Creator;try{if(UserId!=null&&UserId==this.Creator.Id){this.HasModeratePermission=true}}catch(C){}}this.IsLoaded=true};LivePoll.prototype.Draw=function(B){var E=this;this.DrawHolder=jQuerySL(B);if(this.DrawHolder.length==0){return}else{if(!this.IsLoaded){this.IsDelayedDraw=true;return}}var A="";if(this.IsAdmin&&this.HasModeratePermission){A=" (<a href='#' class='Button Tiny OpenToggle'>"+(this.IsOpen?"Open":"Closed")+"</a>, Admin mode)"}else{if(this.IsAdmin){A=" (<span class='Button Tiny OpenToggle'>"+(this.IsOpen?"Open":"Closed")+"</span>)"}}var D="<dl class='Poll"+this.Id+" Poll'><dt>Poll"+A+": "+this.Question+"</dt>";for(var C=0;C<this.Answers.length;C++){D+="<dd class='Answer"+this.Answers[C].Id+"'><a href='#' class='Vote'><input type='radio' /></a><span>"+this.Answers[C].Text+"</span></dd>"}D+="</dl>";this.DrawHolder.html(D);this.GetPostId();this.Activate(this.DrawHolder);if(this.IsAdmin){this.DrawHolder.find("a.OpenToggle").click(function(){if(E.IsOpen&&confirm("Are you sure you want to close this poll?")){E.Close()}else{if(!E.IsOpen&&confirm("Are you sure you want to open this poll?")){E.Open()}}return false})}this.Update(this.IsAdmin)};LivePoll.prototype.Open=function(){var A=this;if(this.IsAdmin){jQuerySL.post("/api/rest/poll/"+this.Id+"/open?format=json"+(A.PostId!=null?"&PostFormat=1":""),{"PostId":A.PostId,Auth:A.Auth},function(B){jQuerySL(".Poll"+A.Id+" a.OpenToggle").html("Open");IsAjaxComplete=true;if(A.PostId!=null){A.Load(B.Entities);var C=document.getElementById("LiveBlog_Post"+A.PostId);if(C!=null){C.LastEdit=B.Date;LiveBlog.GetInstance().OnEditPost(C,C.parentNode,A.PostId,B.Rank,B.Group)}}else{A.Load(B)}A.Update()})}};LivePoll.prototype.Close=function(){var A=this;if(this.IsAdmin){jQuerySL.post("/api/rest/poll/"+this.Id+"/close?format=json"+(A.PostId!=null?"&PostFormat=1":""),{"PostId":A.PostId,Auth:A.Auth},function(B){jQuerySL(".Poll"+A.Id+" a.OpenToggle").html("Closed");IsAjaxComplete=true;if(A.PostId!=null){A.Load(B.Entities);var C=document.getElementById("LiveBlog_Post"+A.PostId);if(C!=null){C.LastEdit=B.Date;LiveBlog.GetInstance().OnEditPost(C,C.parentNode,A.PostId,B.Rank,B.Group)}}else{A.Load(B)}A.Update()})}};LivePoll.prototype.Activate=function(C){var E=this;var B;var D=null;for(var A=0;A<this.Answers.length;A++){B=this.Answers[A].Id;if(C!=null){D=C.find(".Answer"+B+" a")}else{D=jQuerySL(".Answer"+B+" a")}if(D.length>0){D.data("AnswerId",B).click(function(){E.Vote(jQuerySL(this).data("AnswerId"));return false})}}};LivePoll.prototype.Update=function(J){var E=this;var C,F,G;var B=0;var H=0;var D=1000000000;var I=300;for(var A=0;A<this.Answers.length;A++){C=this.Answers[A].Id;F=this.Answers[A].Votes;G=jQuerySL(".Answer"+C);if(F>H){H=F;G.siblings().removeClass("Leading");G.addClass("Leading")}if(F<D){D=F;G.siblings().removeClass("Trailing");G.addClass("Trailing")}B=(this.TotalVotes==0?0:Math.round(F/this.TotalVotes*100));if(this.HaveVoted||this.IsAdmin||!this.IsOpen){if(G.find(".Votes").length==0){G.append(" <em class='Votes'>("+(this.IsAdmin?F+" votes, ":"")+B+"%)</em>")}else{G.find(".Votes").html("("+(this.IsAdmin?F+" votes, ":"")+B+"%)")}G.find("a").remove();if(G.find(".BarGraph").length==0){G.append("<span class='BarGraph'> </span>")}G.find(".BarGraph").css("width",(this.TotalVotes==0?2:Math.round(F/this.TotalVotes*I)))}}if(this.IsAdmin){jQuerySL(".Poll"+this.Id+" a.OpenToggle, .Poll"+this.Id+" span.OpenToggle").html(this.IsOpen?"Open":"Closed")}if(this.HaveVoted){G.parent().addClass("Voted")}this.GetPostId()};LivePoll.prototype.IncrementAnswer=function(D,C,A){if(C==null){C=1}for(var B=0;B<this.Answers.length;B++){if(this.Answers[B].Id==D){if(A==null){this.Answers[B].Votes+=C;this.TotalVotes+=C}else{this.TotalVotes-=this.Answers[B].Votes;this.TotalVotes+=A;this.Answers[B].Votes=A}break}}};LivePoll.prototype.Vote=function(B){var D=this;var C=jQuerySL(".Answer"+B);if(C.siblings(".Voting").length>0){return false}C.addClass("Voting");this.IncrementAnswer(B);this.HaveVoted=true;this.LastVote=B;var A=false;jQuerySL.getJSON("/api/rest/poll/"+this.Id+"/vote/"+B,{format:"json"},function(E){A=true;D.Load(E);D.SetupComet();D.Update()});setTimeout(function(){if(!A){C.find("a").html("Voting...")}},150)};LivePoll.Create=function(F,A,E,H,G,B){if(B==null){B=false}var C="";for(var D=0;D<A.length;D++){if(D>0){C+=","}C+=A[D].replace(/,/g,"%2C")}jQuerySL.post("/api/rest/poll/create?format=json"+(B?"&PostFormat=1":""),{Question:F,Answers:C,UserId:H,EventId:E,Auth:LivePoll.GetAuth()},function(I){if(G!=null){G(I)}});return false};LivePoll.prototype.GetPostId=function(){if(this.PostId==null&&this.DrawHolder!=null&&this.DrawHolder.length>0&&this.DrawHolder.parents("[data-postid]").length>0){this.PostId=LivePoll.ExtractPostId(this.DrawHolder.closest("[data-postid]").get(0))}return this.PostId};LivePoll.ExtractPostId=function(B){var A=(B.id+"").match(/LiveBlog_Post([a-z0-9_]+)/i);if(A){return A[1]}else{return null}};LivePoll.IsSecure=function(){return("https:"==document.location.protocol)};
/*file name: /js/SWFUpload/swfupload.js */
var SWFUpload;if(SWFUpload==undefined){SWFUpload=function(A){this.initSWFUpload(A)}}SWFUpload.prototype.initSWFUpload=function(A){try{this.customSettings={};this.settings=A;this.eventQueue=[];this.movieName="SWFUpload_"+SWFUpload.movieCount++;this.movieElement=null;SWFUpload.instances[this.movieName]=this;this.initSettings();this.loadFlash();this.displayDebugInfo()}catch(B){delete SWFUpload.instances[this.movieName];throw B}};SWFUpload.instances={};SWFUpload.movieCount=0;SWFUpload.version="2.2.0 2009-03-25";SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290};SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120};SWFUpload.CURSOR={ARROW:-1,HAND:-2};SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};SWFUpload.completeURL=function(A){if(typeof(A)!=="string"||A.match(/^https?:\/\//i)||A.match(/^\//)){return A}var B=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");var C=window.location.pathname.lastIndexOf("/");if(C<=0){path="/"}else{path=window.location.pathname.substr(0,C)+"/"}return path+A};SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(A,B){this.settings[A]=(this.settings[A]==undefined)?B:this.settings[A]};this.ensureDefault("upload_url","");this.ensureDefault("preserve_relative_urls",false);this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",false);this.ensureDefault("requeue_on_error",false);this.ensureDefault("http_success",[]);this.ensureDefault("assume_success_timeout",0);this.ensureDefault("file_types","*.*");this.ensureDefault("file_types_description","All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url","swfupload.swf");this.ensureDefault("prevent_swf_caching",true);this.ensureDefault("button_image_url","");this.ensureDefault("button_width",1);this.ensureDefault("button_height",1);this.ensureDefault("button_text","");this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;");this.ensureDefault("button_text_top_padding",0);this.ensureDefault("button_text_left_padding",0);this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES);this.ensureDefault("button_disabled",false);this.ensureDefault("button_placeholder_id","");this.ensureDefault("button_placeholder",null);this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW);this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW);this.ensureDefault("debug",false);this.settings.debug_enabled=this.settings.debug;this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_start_handler",null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;if(!!this.settings.prevent_swf_caching){this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+new Date().getTime()}if(!this.settings.preserve_relative_urls){this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url);if(this.settings.button_image_url!=""){this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)}}delete this.ensureDefault};SWFUpload.prototype.loadFlash=function(){var B,A;if(document.getElementById(this.movieName)!==null){throw"ID "+this.movieName+" is already in use. The Flash Object could not be added"}B=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder;if(B==undefined){throw"Could not find the placeholder element: "+this.settings.button_placeholder_id}A=document.createElement("div");A.innerHTML=this.getFlashHTML();B.parentNode.replaceChild(A.firstChild,B);if(window[this.movieName]==undefined){window[this.movieName]=this.getMovieElement()}};SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")};SWFUpload.prototype.getFlashVars=function(){var A=this.buildParamString();var B=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(B),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(A),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")};SWFUpload.prototype.getMovieElement=function(){if(this.movieElement==undefined){this.movieElement=document.getElementById(this.movieName)}if(this.movieElement===null){throw"Could not find Flash element"}return this.movieElement};SWFUpload.prototype.buildParamString=function(){var B=this.settings.post_params;var A=[];if(typeof(B)==="object"){for(var C in B){if(B.hasOwnProperty(C)){A.push(encodeURIComponent(C.toString())+"="+encodeURIComponent(B[C].toString()))}}}return A.join("&amp;")};SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,false);var A=null;A=this.getMovieElement();if(A&&typeof(A.CallFunction)==="unknown"){for(var B in A){try{if(typeof(A[B])==="function"){A[B]=null}}catch(C){}}try{A.parentNode.removeChild(A)}catch(E){}}window[this.movieName]=null;SWFUpload.instances[this.movieName]=null;delete SWFUpload.instances[this.movieName];this.movieElement=null;this.settings=null;this.customSettings=null;this.eventQueue=null;this.movieName=null;return true}catch(D){return false}};SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","\t","upload_url:               ",this.settings.upload_url,"\n","\t","flash_url:                ",this.settings.flash_url,"\n","\t","use_query_string:         ",this.settings.use_query_string.toString(),"\n","\t","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","\t","http_success:             ",this.settings.http_success.join(", "),"\n","\t","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","\t","file_post_name:           ",this.settings.file_post_name,"\n","\t","post_params:              ",this.settings.post_params.toString(),"\n","\t","file_types:               ",this.settings.file_types,"\n","\t","file_types_description:   ",this.settings.file_types_description,"\n","\t","file_size_limit:          ",this.settings.file_size_limit,"\n","\t","file_upload_limit:        ",this.settings.file_upload_limit,"\n","\t","file_queue_limit:         ",this.settings.file_queue_limit,"\n","\t","debug:                    ",this.settings.debug.toString(),"\n","\t","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","\t","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","\t","button_placeholder:       ",(this.settings.button_placeholder?"Set":"Not Set"),"\n","\t","button_image_url:         ",this.settings.button_image_url.toString(),"\n","\t","button_width:             ",this.settings.button_width.toString(),"\n","\t","button_height:            ",this.settings.button_height.toString(),"\n","\t","button_text:              ",this.settings.button_text.toString(),"\n","\t","button_text_style:        ",this.settings.button_text_style.toString(),"\n","\t","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","\t","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","\t","button_action:            ",this.settings.button_action.toString(),"\n","\t","button_disabled:          ",this.settings.button_disabled.toString(),"\n","\t","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","\t","swfupload_loaded_handler assigned:  ",(typeof this.settings.swfupload_loaded_handler==="function").toString(),"\n","\t","file_dialog_start_handler assigned: ",(typeof this.settings.file_dialog_start_handler==="function").toString(),"\n","\t","file_queued_handler assigned:       ",(typeof this.settings.file_queued_handler==="function").toString(),"\n","\t","file_queue_error_handler assigned:  ",(typeof this.settings.file_queue_error_handler==="function").toString(),"\n","\t","upload_start_handler assigned:      ",(typeof this.settings.upload_start_handler==="function").toString(),"\n","\t","upload_progress_handler assigned:   ",(typeof this.settings.upload_progress_handler==="function").toString(),"\n","\t","upload_error_handler assigned:      ",(typeof this.settings.upload_error_handler==="function").toString(),"\n","\t","upload_success_handler assigned:    ",(typeof this.settings.upload_success_handler==="function").toString(),"\n","\t","upload_complete_handler assigned:   ",(typeof this.settings.upload_complete_handler==="function").toString(),"\n","\t","debug_handler assigned:             ",(typeof this.settings.debug_handler==="function").toString(),"\n"].join(""))};SWFUpload.prototype.addSetting=function(C,A,B){if(A==undefined){return(this.settings[C]=B)}else{return(this.settings[C]=A)}};SWFUpload.prototype.getSetting=function(A){if(this.settings[A]!=undefined){return this.settings[A]}return""};SWFUpload.prototype.callFlash=function(functionName,argumentArray){argumentArray=argumentArray||[];var movieElement=this.getMovieElement();var returnValue,returnString;try{returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>");returnValue=eval(returnString)}catch(ex){throw"Call to "+functionName+" failed"}if(returnValue!=undefined&&typeof returnValue.post==="object"){returnValue=this.unescapeFilePostParams(returnValue)}return returnValue};SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")};SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")};SWFUpload.prototype.startUpload=function(A){this.callFlash("StartUpload",[A])};SWFUpload.prototype.cancelUpload=function(B,A){if(A!==false){A=true}this.callFlash("CancelUpload",[B,A])};SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")};SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")};SWFUpload.prototype.setStats=function(A){this.callFlash("SetStats",[A])};SWFUpload.prototype.getFile=function(A){if(typeof(A)==="number"){return this.callFlash("GetFileByIndex",[A])}else{return this.callFlash("GetFile",[A])}};SWFUpload.prototype.addFileParam=function(B,C,A){return this.callFlash("AddFileParam",[B,C,A])};SWFUpload.prototype.removeFileParam=function(B,A){this.callFlash("RemoveFileParam",[B,A])};SWFUpload.prototype.setUploadURL=function(A){this.settings.upload_url=A.toString();this.callFlash("SetUploadURL",[A])};SWFUpload.prototype.setPostParams=function(A){this.settings.post_params=A;this.callFlash("SetPostParams",[A])};SWFUpload.prototype.addPostParam=function(A,B){this.settings.post_params[A]=B;this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.removePostParam=function(A){delete this.settings.post_params[A];this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.setFileTypes=function(B,A){this.settings.file_types=B;this.settings.file_types_description=A;this.callFlash("SetFileTypes",[B,A])};SWFUpload.prototype.setFileSizeLimit=function(A){this.settings.file_size_limit=A;this.callFlash("SetFileSizeLimit",[A])};SWFUpload.prototype.setFileUploadLimit=function(A){this.settings.file_upload_limit=A;this.callFlash("SetFileUploadLimit",[A])};SWFUpload.prototype.setFileQueueLimit=function(A){this.settings.file_queue_limit=A;this.callFlash("SetFileQueueLimit",[A])};SWFUpload.prototype.setFilePostName=function(A){this.settings.file_post_name=A;this.callFlash("SetFilePostName",[A])};SWFUpload.prototype.setUseQueryString=function(A){this.settings.use_query_string=A;this.callFlash("SetUseQueryString",[A])};SWFUpload.prototype.setRequeueOnError=function(A){this.settings.requeue_on_error=A;this.callFlash("SetRequeueOnError",[A])};SWFUpload.prototype.setHTTPSuccess=function(A){if(typeof A==="string"){A=A.replace(" ","").split(",")}this.settings.http_success=A;this.callFlash("SetHTTPSuccess",[A])};SWFUpload.prototype.setAssumeSuccessTimeout=function(A){this.settings.assume_success_timeout=A;this.callFlash("SetAssumeSuccessTimeout",[A])};SWFUpload.prototype.setDebugEnabled=function(A){this.settings.debug_enabled=A;this.callFlash("SetDebugEnabled",[A])};SWFUpload.prototype.setButtonImageURL=function(A){if(A==undefined){A=""}this.settings.button_image_url=A;this.callFlash("SetButtonImageURL",[A])};SWFUpload.prototype.setButtonDimensions=function(B,A){this.settings.button_width=B;this.settings.button_height=A;var C=this.getMovieElement();if(C!=undefined){C.style.width=B+"px";C.style.height=A+"px"}this.callFlash("SetButtonDimensions",[B,A])};SWFUpload.prototype.setButtonText=function(A){this.settings.button_text=A;this.callFlash("SetButtonText",[A])};SWFUpload.prototype.setButtonTextPadding=function(A,B){this.settings.button_text_top_padding=B;this.settings.button_text_left_padding=A;this.callFlash("SetButtonTextPadding",[A,B])};SWFUpload.prototype.setButtonTextStyle=function(A){this.settings.button_text_style=A;this.callFlash("SetButtonTextStyle",[A])};SWFUpload.prototype.setButtonDisabled=function(A){this.settings.button_disabled=A;this.callFlash("SetButtonDisabled",[A])};SWFUpload.prototype.setButtonAction=function(A){this.settings.button_action=A;this.callFlash("SetButtonAction",[A])};SWFUpload.prototype.setButtonCursor=function(A){this.settings.button_cursor=A;this.callFlash("SetButtonCursor",[A])};SWFUpload.prototype.queueEvent=function(A,B){if(B==undefined){B=[]}else{if(!(B instanceof Array)){B=[B]}}var C=this;if(typeof this.settings[A]==="function"){this.eventQueue.push(function(){this.settings[A].apply(this,B)});setTimeout(function(){C.executeNextEvent()},0)}else{if(this.settings[A]!==null){throw"Event handler "+A+" is unknown or is not a function"}}};SWFUpload.prototype.executeNextEvent=function(){var A=this.eventQueue?this.eventQueue.shift():null;if(typeof(A)==="function"){A.apply(this)}};SWFUpload.prototype.unescapeFilePostParams=function(A){var E=/[$]([0-9a-f]{4})/i;var C={};var F;if(A!=undefined){for(var B in A.post){if(A.post.hasOwnProperty(B)){F=B;var D;while((D=E.exec(F))!==null){F=F.replace(D[0],String.fromCharCode(parseInt("0x"+D[1],16)))}C[F]=A.post[B]}}A.post=C}return A};SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(A){return false}};SWFUpload.prototype.flashReady=function(){var A=this.getMovieElement();if(!A){this.debug("Flash called back ready but the flash movie can't be found.");return}this.cleanUp(A);this.queueEvent("swfupload_loaded_handler")};SWFUpload.prototype.cleanUp=function(A){try{if(this.movieElement&&typeof(A.CallFunction)==="unknown"){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var D in A){try{if(typeof(A[D])==="function"&&D[0]<="Z"){A[D]=null}}catch(B){}}}}catch(C){}window["__flash__removeCallback"]=function(F,G){try{if(F){F[G]=null}}catch(E){}}};SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};SWFUpload.prototype.fileQueued=function(A){A=this.unescapeFilePostParams(A);this.queueEvent("file_queued_handler",A)};SWFUpload.prototype.fileQueueError=function(B,A,C){B=this.unescapeFilePostParams(B);this.queueEvent("file_queue_error_handler",[B,A,C])};SWFUpload.prototype.fileDialogComplete=function(A,C,B){this.queueEvent("file_dialog_complete_handler",[A,C,B])};SWFUpload.prototype.uploadStart=function(A){A=this.unescapeFilePostParams(A);this.queueEvent("return_upload_start_handler",A)};SWFUpload.prototype.returnUploadStart=function(A){var B;if(typeof this.settings.upload_start_handler==="function"){A=this.unescapeFilePostParams(A);B=this.settings.upload_start_handler.call(this,A)}else{if(this.settings.upload_start_handler!=undefined){throw"upload_start_handler must be a function"}}if(B===undefined){B=true}B=!!B;this.callFlash("ReturnUploadStart",[B])};SWFUpload.prototype.uploadProgress=function(A,B,C){A=this.unescapeFilePostParams(A);this.queueEvent("upload_progress_handler",[A,B,C])};SWFUpload.prototype.uploadError=function(B,A,C){B=this.unescapeFilePostParams(B);this.queueEvent("upload_error_handler",[B,A,C])};SWFUpload.prototype.uploadSuccess=function(B,C,A){B=this.unescapeFilePostParams(B);this.queueEvent("upload_success_handler",[B,C,A])};SWFUpload.prototype.uploadComplete=function(A){A=this.unescapeFilePostParams(A);this.queueEvent("upload_complete_handler",A)};SWFUpload.prototype.debug=function(A){this.queueEvent("debug_handler",A)};SWFUpload.prototype.debugMessage=function(C){if(this.settings.debug){var B,A=[];if(typeof C==="object"&&typeof C.name==="string"&&typeof C.message==="string"){for(var D in C){if(C.hasOwnProperty(D)){A.push(D+": "+C[D])}}B=A.join("\n")||"";A=B.split("\n");B="EXCEPTION: "+A.join("\nEXCEPTION: ");SWFUpload.Console.writeLine(B)}else{SWFUpload.Console.writeLine(C)}}};SWFUpload.Console={};SWFUpload.Console.writeLine=function(C){var D,A;try{D=document.getElementById("SWFUpload_Console");if(!D){A=document.createElement("form");document.getElementsByTagName("body")[0].appendChild(A);D=document.createElement("textarea");D.id="SWFUpload_Console";D.style.fontFamily="monospace";D.setAttribute("wrap","off");D.wrap="off";D.style.overflow="auto";D.style.width="700px";D.style.height="350px";D.style.margin="5px";A.appendChild(D)}D.value+=C+"\n";D.scrollTop=D.scrollHeight-D.clientHeight}catch(B){alert("Exception: "+B.name+" Message: "+B.message)}};
/*file name: /js/handlebars-1.0.0.beta.6.js */
var Handlebars={};Handlebars.VERSION="1.0.beta.6";Handlebars.helpers={};Handlebars.partials={};Handlebars.registerHelper=function(C,B,A){if(A){B.not=A}this.helpers[C]=B};Handlebars.registerPartial=function(B,A){this.partials[B]=A};Handlebars.registerHelper("helperMissing",function(A){if(arguments.length===2){return undefined}else{throw new Error("Could not find property '"+A+"'")}});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(D,B){var F=B.inverse||function(){},H=B.fn;var E="";var G=toString.call(D);if(G===functionType){D=D.call(this)}if(D===true){return H(this)}else{if(D===false||D==null){return F(this)}else{if(G==="[object Array]"){if(D.length>0){for(var A=0,C=D.length;A<C;A++){E=E+H(D[A])}}else{E=F(this)}return E}else{return H(D)}}}});Handlebars.registerHelper("each",function(D,B){var G=B.fn,F=B.inverse;var E="";if(D&&D.length>0){for(var A=0,C=D.length;A<C;A++){E=E+G(D[A])}}else{E=F(this)}return E});Handlebars.registerHelper("if",function(A,C){var B=toString.call(A);if(B===functionType){A=A.call(this)}if(!A||Handlebars.Utils.isEmpty(A)){return C.inverse(this)}else{return C.fn(this)}});Handlebars.registerHelper("unless",function(A,D){var C=D.fn,B=D.inverse;D.fn=B;D.inverse=C;return Handlebars.helpers["if"].call(this,A,D)});Handlebars.registerHelper("with",function(A,B){return B.fn(A)});Handlebars.registerHelper("log",function(A){Handlebars.log(A)});var handlebars=(function(){var F={trace:function B(){},yy:{},symbols_:{"error":2,"root":3,"program":4,"EOF":5,"statements":6,"simpleInverse":7,"statement":8,"openInverse":9,"closeBlock":10,"openBlock":11,"mustache":12,"partial":13,"CONTENT":14,"COMMENT":15,"OPEN_BLOCK":16,"inMustache":17,"CLOSE":18,"OPEN_INVERSE":19,"OPEN_ENDBLOCK":20,"path":21,"OPEN":22,"OPEN_UNESCAPED":23,"OPEN_PARTIAL":24,"params":25,"hash":26,"param":27,"STRING":28,"INTEGER":29,"BOOLEAN":30,"hashSegments":31,"hashSegment":32,"ID":33,"EQUALS":34,"pathSegments":35,"SEP":36,"$accept":0,"$end":1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"STRING",29:"INTEGER",30:"BOOLEAN",33:"ID",34:"EQUALS",36:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[25,2],[25,1],[27,1],[27,1],[27,1],[27,1],[26,1],[31,2],[31,1],[32,3],[32,3],[32,3],[32,3],[21,1],[35,3],[35,1]],performAction:function C(G,I,J,N,L,K,M){var H=K.length-1;switch(L){case 1:return K[H-1];break;case 2:this.$=new N.ProgramNode(K[H-2],K[H]);break;case 3:this.$=new N.ProgramNode(K[H]);break;case 4:this.$=new N.ProgramNode([]);break;case 5:this.$=[K[H]];break;case 6:K[H-1].push(K[H]);this.$=K[H-1];break;case 7:this.$=new N.InverseNode(K[H-2],K[H-1],K[H]);break;case 8:this.$=new N.BlockNode(K[H-2],K[H-1],K[H]);break;case 9:this.$=K[H];break;case 10:this.$=K[H];break;case 11:this.$=new N.ContentNode(K[H]);break;case 12:this.$=new N.CommentNode(K[H]);break;case 13:this.$=new N.MustacheNode(K[H-1][0],K[H-1][1]);break;case 14:this.$=new N.MustacheNode(K[H-1][0],K[H-1][1]);break;case 15:this.$=K[H-1];break;case 16:this.$=new N.MustacheNode(K[H-1][0],K[H-1][1]);break;case 17:this.$=new N.MustacheNode(K[H-1][0],K[H-1][1],true);break;case 18:this.$=new N.PartialNode(K[H-1]);break;case 19:this.$=new N.PartialNode(K[H-2],K[H-1]);break;case 20:break;case 21:this.$=[[K[H-2]].concat(K[H-1]),K[H]];break;case 22:this.$=[[K[H-1]].concat(K[H]),null];break;case 23:this.$=[[K[H-1]],K[H]];break;case 24:this.$=[[K[H]],null];break;case 25:K[H-1].push(K[H]);this.$=K[H-1];break;case 26:this.$=[K[H]];break;case 27:this.$=K[H];break;case 28:this.$=new N.StringNode(K[H]);break;case 29:this.$=new N.IntegerNode(K[H]);break;case 30:this.$=new N.BooleanNode(K[H]);break;case 31:this.$=new N.HashNode(K[H]);break;case 32:K[H-1].push(K[H]);this.$=K[H-1];break;case 33:this.$=[K[H]];break;case 34:this.$=[K[H-2],K[H]];break;case 35:this.$=[K[H-2],new N.StringNode(K[H])];break;case 36:this.$=[K[H-2],new N.IntegerNode(K[H])];break;case 37:this.$=[K[H-2],new N.BooleanNode(K[H])];break;case 38:this.$=new N.IdNode(K[H]);break;case 39:K[H-2].push(K[H]);this.$=K[H-2];break;case 40:this.$=[K[H]];break}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,33:[1,25],35:24},{17:26,21:23,33:[1,25],35:24},{17:27,21:23,33:[1,25],35:24},{17:28,21:23,33:[1,25],35:24},{21:29,33:[1,25],35:24},{1:[2,1]},{6:30,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,31],21:23,33:[1,25],35:24},{10:32,20:[1,33]},{10:34,20:[1,33]},{18:[1,35]},{18:[2,24],21:40,25:36,26:37,27:38,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,38],28:[2,38],29:[2,38],30:[2,38],33:[2,38],36:[1,46]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],36:[2,40]},{18:[1,47]},{18:[1,48]},{18:[1,49]},{18:[1,50],21:51,33:[1,25],35:24},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:52,33:[1,25],35:24},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:40,26:53,27:54,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,23]},{18:[2,26],28:[2,26],29:[2,26],30:[2,26],33:[2,26]},{18:[2,31],32:55,33:[1,56]},{18:[2,27],28:[2,27],29:[2,27],30:[2,27],33:[2,27]},{18:[2,28],28:[2,28],29:[2,28],30:[2,28],33:[2,28]},{18:[2,29],28:[2,29],29:[2,29],30:[2,29],33:[2,29]},{18:[2,30],28:[2,30],29:[2,30],30:[2,30],33:[2,30]},{18:[2,33],33:[2,33]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],34:[1,57],36:[2,40]},{33:[1,58]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,59]},{18:[1,60]},{18:[2,21]},{18:[2,25],28:[2,25],29:[2,25],30:[2,25],33:[2,25]},{18:[2,32],33:[2,32]},{34:[1,57]},{21:61,28:[1,62],29:[1,63],30:[1,64],33:[1,25],35:24},{18:[2,39],28:[2,39],29:[2,39],30:[2,39],33:[2,39],36:[2,39]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,34],33:[2,34]},{18:[2,35],33:[2,35]},{18:[2,36],33:[2,36]},{18:[2,37],33:[2,37]}],defaultActions:{16:[2,1],37:[2,23],53:[2,21]},parseError:function A(G,H){throw new Error(G)},parse:function E(d){var O=this,U=[0],b=[null],S=[],Q=this.table,X="",V=0,h=0,M=0,Z=2,H=1;this.lexer.setInput(d);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if(typeof this.lexer.yylloc=="undefined"){this.lexer.yylloc={}}var Y=this.lexer.yylloc;S.push(Y);if(typeof this.yy.parseError==="function"){this.parseError=this.yy.parseError}function N(a){U.length=U.length-2*a;b.length=b.length-a;S.length=S.length-a}function f(){var a;a=O.lexer.lex()||1;if(typeof a!=="number"){a=O.symbols_[a]||a}return a}var P,e,c,J,R,L,W={},K,G,T,g;while(true){c=U[U.length-1];if(this.defaultActions[c]){J=this.defaultActions[c]}else{if(P==null){P=f()}J=Q[c]&&Q[c][P]}if(typeof J==="undefined"||!J.length||!J[0]){if(!M){g=[];for(K in Q[c]){if(this.terminals_[K]&&K>2){g.push("'"+this.terminals_[K]+"'")}}var I="";if(this.lexer.showPosition){I="Parse error on line "+(V+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+g.join(", ")+", got '"+this.terminals_[P]+"'"}else{I="Parse error on line "+(V+1)+": Unexpected "+(P==1?"end of input":"'"+(this.terminals_[P]||P)+"'")}this.parseError(I,{text:this.lexer.match,token:this.terminals_[P]||P,line:this.lexer.yylineno,loc:Y,expected:g})}}if(J[0] instanceof Array&&J.length>1){throw new Error("Parse Error: multiple actions possible at state: "+c+", token: "+P)}switch(J[0]){case 1:U.push(P);b.push(this.lexer.yytext);S.push(this.lexer.yylloc);U.push(J[1]);P=null;if(!e){h=this.lexer.yyleng;X=this.lexer.yytext;V=this.lexer.yylineno;Y=this.lexer.yylloc;if(M>0){M--}}else{P=e;e=null}break;case 2:G=this.productions_[J[1]][1];W.$=b[b.length-G];W._$={first_line:S[S.length-(G||1)].first_line,last_line:S[S.length-1].last_line,first_column:S[S.length-(G||1)].first_column,last_column:S[S.length-1].last_column};L=this.performAction.call(W,X,h,V,this.yy,J[1],b,S);if(typeof L!=="undefined"){return L}if(G){U=U.slice(0,-1*G*2);b=b.slice(0,-1*G);S=S.slice(0,-1*G)}U.push(this.productions_[J[1]][0]);b.push(W.$);S.push(W._$);T=Q[U[U.length-2]][U[U.length-1]];U.push(T);break;case 3:return true}}return true}};var D=(function(){var K=({EOF:1,parseError:function H(N,O){if(this.yy.parseError){this.yy.parseError(N,O)}else{throw new Error(N)}},setInput:function(N){this._input=N;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var N=this._input[0];this.yytext+=N;this.yyleng++;this.match+=N;this.matched+=N;var O=N.match(/\n/);if(O){this.yylineno++}this._input=this._input.slice(1);return N},unput:function(N){this._input=N+this._input;return this},more:function(){this._more=true;return this},pastInput:function(){var N=this.matched.substr(0,this.matched.length-this.match.length);return(N.length>20?"...":"")+N.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var N=this.match;if(N.length<20){N+=this._input.substr(0,20-N.length)}return(N.substr(0,20)+(N.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var N=this.pastInput();var O=new Array(N.length+1).join("-");return N+this.upcomingInput()+"\n"+O+"^"},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var Q,P,N,S;if(!this._more){this.yytext="";this.match=""}var R=this._currentRules();for(var O=0;O<R.length;O++){P=this._input.match(this.rules[R[O]]);if(P){S=P[0].match(/\n.*/g);if(S){this.yylineno+=S.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:S?S[S.length-1].length-1:this.yylloc.last_column+P[0].length};this.yytext+=P[0];this.match+=P[0];this.matches=P;this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(P[0].length);this.matched+=P[0];Q=this.performAction.call(this,this.yy,this,R[O],this.conditionStack[this.conditionStack.length-1]);if(Q){return Q}else{return}}}if(this._input===""){return this.EOF}else{this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function G(){var N=this.next();if(typeof N!=="undefined"){return N}else{return this.lex()}},begin:function M(N){this.conditionStack.push(N)},popState:function L(){return this.conditionStack.pop()},_currentRules:function I(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function M(N){this.begin(N)}});K.performAction=function J(O,P,R,N){var Q=N;switch(R){case 0:if(P.yytext.slice(-1)!=="\\"){this.begin("mu")}if(P.yytext.slice(-1)==="\\"){P.yytext=P.yytext.substr(0,P.yyleng-1),this.begin("emu")}if(P.yytext){return 14}break;case 1:return 14;break;case 2:this.popState();return 14;break;case 3:return 24;break;case 4:return 16;break;case 5:return 20;break;case 6:return 19;break;case 7:return 19;break;case 8:return 23;break;case 9:return 23;break;case 10:P.yytext=P.yytext.substr(3,P.yyleng-5);this.popState();return 15;break;case 11:return 22;break;case 12:return 34;break;case 13:return 33;break;case 14:return 33;break;case 15:return 36;break;case 16:break;case 17:this.popState();return 18;break;case 18:this.popState();return 18;break;case 19:P.yytext=P.yytext.substr(1,P.yyleng-2).replace(/\\"/g,'"');return 28;break;case 20:return 30;break;case 21:return 30;break;case 22:return 29;break;case 23:return 33;break;case 24:P.yytext=P.yytext.substr(1,P.yyleng-2);return 33;break;case 25:return"INVALID";break;case 26:return 5;break}};K.rules=[/^[^\x00]*?(?=(\{\{))/,/^[^\x00]+/,/^[^\x00]{2,}?(?=(\{\{))/,/^\{\{>/,/^\{\{#/,/^\{\{\//,/^\{\{\^/,/^\{\{\s*else\b/,/^\{\{\{/,/^\{\{&/,/^\{\{![\s\S]*?\}\}/,/^\{\{/,/^=/,/^\.(?=[} ])/,/^\.\./,/^[\/.]/,/^\s+/,/^\}\}\}/,/^\}\}/,/^"(\\["]|[^"])*"/,/^true(?=[}\s])/,/^false(?=[}\s])/,/^[0-9]+(?=[}\s])/,/^[a-zA-Z0-9_$-]+(?=[=}\s\/.])/,/^\[[^\]]*\]/,/^./,/^$/];K.conditions={"mu":{"rules":[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],"inclusive":false},"emu":{"rules":[2],"inclusive":false},"INITIAL":{"rules":[0,1,26],"inclusive":true}};return K})();F.lexer=D;return F})();if(typeof require!=="undefined"&&typeof exports!=="undefined"){exports.parser=handlebars;exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)};exports.main=function commonjsMain(B){if(!B[1]){throw new Error("Usage: "+B[0]+" FILE")}if(typeof process!=="undefined"){var A=require("fs").readFileSync(require("path").join(process.cwd(),B[1]),"utf8")}else{var C=require("file").path(require("file").cwd());var A=C.join(B[1]).read({charset:"utf-8"})}return exports.parser.parse(A)};if(typeof module!=="undefined"&&require.main===module){exports.main(typeof process!=="undefined"?process.argv.slice(1):require("system").args)}}Handlebars.Parser=handlebars;Handlebars.parse=function(A){Handlebars.Parser.yy=Handlebars.AST;return Handlebars.Parser.parse(A)};Handlebars.print=function(A){return new Handlebars.PrintVisitor().accept(A)};Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(B,A){}};Handlebars.log=function(B,A){Handlebars.logger.log(B,A)};(function(){Handlebars.AST={};Handlebars.AST.ProgramNode=function(C,B){this.type="program";this.statements=C;if(B){this.inverse=new Handlebars.AST.ProgramNode(B)}};Handlebars.AST.MustacheNode=function(C,D,B){this.type="mustache";this.id=C[0];this.params=C.slice(1);this.hash=D;this.escaped=!B};Handlebars.AST.PartialNode=function(B,C){this.type="partial";this.id=B;this.context=C};var A=function(B,C){if(B.original!==C.original){throw new Handlebars.Exception(B.original+" doesn't match "+C.original)}};Handlebars.AST.BlockNode=function(C,D,B){A(C.id,B);this.type="block";this.mustache=C;this.program=D};Handlebars.AST.InverseNode=function(C,D,B){A(C.id,B);this.type="inverse";this.mustache=C;this.program=D};Handlebars.AST.ContentNode=function(B){this.type="content";this.string=B};Handlebars.AST.HashNode=function(B){this.type="hash";this.pairs=B};Handlebars.AST.IdNode=function(E){this.type="ID";this.original=E.join(".");var G=[],F=0;for(var B=0,C=E.length;B<C;B++){var D=E[B];if(D===".."){F++}else{if(D==="."||D==="this"){this.isScoped=true}else{G.push(D)}}}this.parts=G;this.string=G.join(".");this.depth=F;this.isSimple=(G.length===1)&&(F===0)};Handlebars.AST.StringNode=function(B){this.type="STRING";this.string=B};Handlebars.AST.IntegerNode=function(B){this.type="INTEGER";this.integer=B};Handlebars.AST.BooleanNode=function(B){this.type="BOOLEAN";this.bool=B};Handlebars.AST.CommentNode=function(B){this.type="comment";this.comment=B}})();Handlebars.Exception=function(B){var A=Error.prototype.constructor.apply(this,arguments);for(var C in A){if(A.hasOwnProperty(C)){this[C]=A[C]}}this.message=A.message};Handlebars.Exception.prototype=new Error;Handlebars.SafeString=function(A){this.string=A};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};(function(){var C={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var B=/&(?!\w+;)|[<>"'`]/g;var A=/[&<>"'`]/;var D=function(E){return C[E]||"&amp;"};Handlebars.Utils={escapeExpression:function(E){if(E instanceof Handlebars.SafeString){return E.toString()}else{if(E==null||E===false){return""}}if(!A.test(E)){return E}return E.replace(B,D)},isEmpty:function(E){if(typeof E==="undefined"){return true}else{if(E===null){return true}else{if(E===false){return true}else{if(Object.prototype.toString.call(E)==="[object Array]"&&E.length===0){return true}else{return false}}}}}}})();Handlebars.Compiler=function(){};Handlebars.JavaScriptCompiler=function(){};(function(H,C){H.OPCODE_MAP={appendContent:1,getContext:2,lookupWithHelpers:3,lookup:4,append:5,invokeMustache:6,appendEscaped:7,pushString:8,truthyOrFallback:9,functionOrFallback:10,invokeProgram:11,invokePartial:12,push:13,assignToHash:15,pushStringParam:16};H.MULTI_PARAM_OPCODES={appendContent:1,getContext:1,lookupWithHelpers:2,lookup:1,invokeMustache:3,pushString:1,truthyOrFallback:1,functionOrFallback:1,invokeProgram:3,invokePartial:1,push:1,assignToHash:1,pushStringParam:1};H.DISASSEMBLE_MAP={};for(var D in H.OPCODE_MAP){var A=H.OPCODE_MAP[D];H.DISASSEMBLE_MAP[A]=D}H.multiParamSize=function(I){return H.MULTI_PARAM_OPCODES[H.DISASSEMBLE_MAP[I]]};H.prototype={compiler:H,disassemble:function(){var J=this.opcodes,I,N;var M=[],Q,T,L;for(var K=0,O=J.length;K<O;K++){I=J[K];if(I==="DECLARE"){T=J[++K];L=J[++K];M.push("DECLARE "+T+" = "+L)}else{Q=H.DISASSEMBLE_MAP[I];var R=H.multiParamSize(I);var S=[];for(var P=0;P<R;P++){N=J[++K];if(typeof N==="string"){N='"'+N.replace("\n","\\n")+'"'}S.push(N)}Q=Q+" "+S.join(" ");M.push(Q)}}return M.join("\n")},guid:0,compile:function(L,K){this.children=[];this.depths={list:[]};this.options=K;var I=this.options.knownHelpers;this.options.knownHelpers={"helperMissing":true,"blockHelperMissing":true,"each":true,"if":true,"unless":true,"with":true,"log":true};if(I){for(var J in I){this.options.knownHelpers[J]=I[J]}}return this.program(L)},accept:function(I){return this[I.type](I)},program:function(M){var J=M.statements,K;this.opcodes=[];for(var L=0,I=J.length;L<I;L++){K=J[L];this[K.type](K)}this.isSimple=I===1;this.depths.list=this.depths.list.sort(function(N,O){return N-O});return this},compileProgram:function(M){var J=new this.compiler().compile(M,this.options);var I=this.guid++;this.usePartial=this.usePartial||J.usePartial;this.children[I]=J;for(var L=0,K=J.depths.list.length;L<K;L++){depth=J.depths.list[L];if(depth<2){continue}else{this.addDepth(depth-1)}}return I},block:function(J){var I=J.mustache;var P,N,M,K;var O=this.setupStackForMustache(I);var L=this.compileProgram(J.program);if(J.program.inverse){K=this.compileProgram(J.program.inverse);this.declare("inverse",K)}this.opcode("invokeProgram",L,O.length,!!I.hash);this.declare("inverse",null);this.opcode("append")},inverse:function(J){var K=this.setupStackForMustache(J.mustache);var I=this.compileProgram(J.program);this.declare("inverse",I);this.opcode("invokeProgram",null,K.length,!!J.mustache.hash);this.declare("inverse",null);this.opcode("append")},hash:function(L){var M=L.pairs,N,K;this.opcode("push","{}");for(var I=0,J=M.length;I<J;I++){N=M[I];K=N[1];this.accept(K);this.opcode("assignToHash",N[0])}},partial:function(I){var J=I.id;this.usePartial=true;if(I.context){this.ID(I.context)}else{this.opcode("push","depth0")}this.opcode("invokePartial",J.original);this.opcode("append")},content:function(I){this.opcode("appendContent",I.string)},mustache:function(I){var J=this.setupStackForMustache(I);this.opcode("invokeMustache",J.length,I.id.original,!!I.hash);if(I.escaped&&!this.options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},ID:function(K){this.addDepth(K.depth);this.opcode("getContext",K.depth);this.opcode("lookupWithHelpers",K.parts[0]||null,K.isScoped||false);for(var I=1,J=K.parts.length;I<J;I++){this.opcode("lookup",K.parts[I])}},STRING:function(I){this.opcode("pushString",I.string)},INTEGER:function(I){this.opcode("push",I.integer)},BOOLEAN:function(I){this.opcode("push",I.bool)},comment:function(){},pushParams:function(J){var I=J.length,K;while(I--){K=J[I];if(this.options.stringParams){if(K.depth){this.addDepth(K.depth)}this.opcode("getContext",K.depth||0);this.opcode("pushStringParam",K.string)}else{this[K.type](K)}}},opcode:function(L,J,K,I){this.opcodes.push(H.OPCODE_MAP[L]);if(J!==undefined){this.opcodes.push(J)}if(K!==undefined){this.opcodes.push(K)}if(I!==undefined){this.opcodes.push(I)}},declare:function(I,J){this.opcodes.push("DECLARE");this.opcodes.push(I);this.opcodes.push(J)},addDepth:function(I){if(I===0){return}if(!this.depths[I]){this.depths[I]=true;this.depths.list.push(I)}},setupStackForMustache:function(I){var J=I.params;this.pushParams(J);if(I.hash){this.hash(I.hash)}this.ID(I.id);return J}};C.prototype={nameLookup:function(I,K,J){if(/^[0-9]+$/.test(K)){return I+"["+K+"]"}else{if(C.isValidJavaScriptVariableName(K)){return I+"."+K}else{return I+"['"+K+"']"}}},appendToBuffer:function(I){if(this.environment.isSimple){return"return "+I+";"}else{return"buffer += "+I+";"}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(M,K,L,N){this.environment=M;this.options=K||{};this.name=this.environment.name;this.isChild=!!L;this.context=L||{programs:[],aliases:{self:"this"},registers:{list:[]}};this.preamble();this.stackSlot=0;this.stackVars=[];this.compileChildren(M,K);var J=M.opcodes,I;this.i=0;for(E=J.length;this.i<E;this.i++){I=this.nextOpcode(0);if(I[0]==="DECLARE"){this.i=this.i+2;this[I[1]]=I[2]}else{this.i=this.i+I[1].length;this[I[0]].apply(this,I[1])}}return this.createFunctionContext(N)},nextOpcode:function(M){var J=this.environment.opcodes,I=J[this.i+M],P,L;var N,O;if(I==="DECLARE"){P=J[this.i+1];L=J[this.i+2];return["DECLARE",P,L]}else{P=H.DISASSEMBLE_MAP[I];N=H.multiParamSize(I);O=[];for(var K=0;K<N;K++){O.push(J[this.i+K+1+M])}return[P,O]}},eat:function(I){this.i=this.i+I.length},preamble:function(){var K=[];this.useRegister("foundHelper");if(!this.isChild){var J=this.namespace;var I="helpers = helpers || "+J+".helpers;";if(this.environment.usePartial){I=I+" partials = partials || "+J+".partials;"}K.push(I)}else{K.push("")}if(!this.environment.isSimple){K.push(", buffer = "+this.initializeBuffer())}else{K.push("")}this.lastContext=0;this.source=K},createFunctionContext:function(P){var N=this.stackVars;if(!this.isChild){N=N.concat(this.context.registers.list)}if(N.length>0){this.source[1]=this.source[1]+", "+N.join(", ")}if(!this.isChild){var O=[];for(var M in this.context.aliases){this.source[1]=this.source[1]+", "+M+"="+this.context.aliases[M]}}if(this.source[1]){this.source[1]="var "+this.source[1].substring(2)+";"}if(!this.isChild){this.source[1]+="\n"+this.context.programs.join("\n")+"\n"}if(!this.environment.isSimple){this.source.push("return buffer;")}var K=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var J=0,L=this.environment.depths.list.length;J<L;J++){K.push("depth"+this.environment.depths.list[J])}if(P){K.push(this.source.join("\n  "));return Function.apply(this,K)}else{var I="function "+(this.name||"")+"("+K.join(",")+") {\n  "+this.source.join("\n  ")+"}";Handlebars.log(Handlebars.logger.DEBUG,I+"\n\n");return I}},appendContent:function(I){this.source.push(this.appendToBuffer(this.quotedString(I)))},append:function(){var I=this.popStack();this.source.push("if("+I+" || "+I+" === 0) { "+this.appendToBuffer(I)+" }");if(this.environment.isSimple){this.source.push("else { "+this.appendToBuffer("''")+" }")}},appendEscaped:function(){var I=this.nextOpcode(1),J="";this.context.aliases.escapeExpression="this.escapeExpression";if(I[0]==="appendContent"){J=" + "+this.quotedString(I[1][0]);this.eat(I)}this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+J))},getContext:function(I){if(this.lastContext!==I){this.lastContext=I}},lookupWithHelpers:function(L,J){if(L){var I=this.nextStack();this.usingKnownHelper=false;var K;if(!J&&this.options.knownHelpers[L]){K=I+" = "+this.nameLookup("helpers",L,"helper");this.usingKnownHelper=true}else{if(J||this.options.knownHelpersOnly){K=I+" = "+this.nameLookup("depth"+this.lastContext,L,"context")}else{this.register("foundHelper",this.nameLookup("helpers",L,"helper"));K=I+" = foundHelper || "+this.nameLookup("depth"+this.lastContext,L,"context")}}K+=";";this.source.push(K)}else{this.pushStack("depth"+this.lastContext)}},lookup:function(J){var I=this.topStack();this.source.push(I+" = ("+I+" === null || "+I+" === undefined || "+I+" === false ? "+I+" : "+this.nameLookup(I,J,"context")+");")},pushStringParam:function(I){this.pushStack("depth"+this.lastContext);this.pushString(I)},pushString:function(I){this.pushStack(this.quotedString(I))},push:function(I){this.pushStack(I)},invokeMustache:function(K,J,I){this.populateParams(K,this.quotedString(J),"{}",null,I,function(N,L,M){if(!this.usingKnownHelper){this.context.aliases.helperMissing="helpers.helperMissing";this.context.aliases.undef="void 0";this.source.push("else if("+M+"=== undef) { "+N+" = helperMissing.call("+L+"); }");if(N!==M){this.source.push("else { "+N+" = "+M+"; }")}}})},invokeProgram:function(I,M,K){var J=this.programExpression(this.inverse);var L=this.programExpression(I);this.populateParams(M,null,L,J,K,function(P,N,O){if(!this.usingKnownHelper){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";this.source.push("else { "+P+" = blockHelperMissing.call("+N+"); }")}})},populateParams:function(P,I,J,N,O,R){var K=O||this.options.stringParams||N||this.options.data;var S=this.popStack(),M;var L=[],W,U,V;if(K){this.register("tmp1",J);V="tmp1"}else{V="{ hash: {} }"}if(K){var T=(O?this.popStack():"{}");this.source.push("tmp1.hash = "+T+";")}if(this.options.stringParams){this.source.push("tmp1.contexts = [];")}for(var Q=0;Q<P;Q++){W=this.popStack();L.push(W);if(this.options.stringParams){this.source.push("tmp1.contexts.push("+this.popStack()+");")}}if(N){this.source.push("tmp1.fn = tmp1;");this.source.push("tmp1.inverse = "+N+";")}if(this.options.data){this.source.push("tmp1.data = data;")}L.push(V);this.populateCall(L,S,I||S,R,J!=="{}")},populateCall:function(J,M,L,Q,K){var N=["depth0"].concat(J).join(", ");var P=["depth0"].concat(L).concat(J).join(", ");var O=this.nextStack();if(this.usingKnownHelper){this.source.push(O+" = "+M+".call("+N+");")}else{this.context.aliases.functionType='"function"';var I=K?"foundHelper && ":"";this.source.push("if("+I+"typeof "+M+" === functionType) { "+O+" = "+M+".call("+N+"); }")}Q.call(this,O,P,M);this.usingKnownHelper=false},invokePartial:function(I){params=[this.nameLookup("partials",I,"partial"),"'"+I+"'",this.popStack(),"helpers","partials"];if(this.options.data){params.push("data")}this.pushStack("self.invokePartial("+params.join(", ")+");")},assignToHash:function(K){var I=this.popStack();var J=this.topStack();this.source.push(J+"['"+K+"'] = "+I+";")},compiler:C,compileChildren:function(N,J){var I=N.children,O,L;for(var K=0,M=I.length;K<M;K++){O=I[K];L=new this.compiler();this.context.programs.push("");var P=this.context.programs.length;O.index=P;O.name="program"+P;this.context.programs[P]=L.compile(O,J,this.context)}},programExpression:function(L){if(L==null){return"self.noop"}var M=this.environment.children[L],I=M.depths.list;var N=[M.index,M.name,"data"];for(var J=0,K=I.length;J<K;J++){depth=I[J];if(depth===1){N.push("depth0")}else{N.push("depth"+(depth-1))}}if(I.length===0){return"self.program("+N.join(", ")+")"}else{N.shift();return"self.programWithDepth("+N.join(", ")+")"}},register:function(J,I){this.useRegister(J);this.source.push(J+" = "+I+";")},useRegister:function(I){if(!this.context.registers[I]){this.context.registers[I]=true;this.context.registers.list.push(I)}},pushStack:function(I){this.source.push(this.nextStack()+" = "+I+";");return"stack"+this.stackSlot},nextStack:function(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return"stack"+this.stackSlot},popStack:function(){return"stack"+this.stackSlot--},topStack:function(){return"stack"+this.stackSlot},quotedString:function(I){return'"'+I.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'}};var F=("break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield").split(" ");var G=C.RESERVED_WORDS={};for(var B=0,E=F.length;B<E;B++){G[F[B]]=true}C.isValidJavaScriptVariableName=function(I){if(!C.RESERVED_WORDS[I]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(I)){return true}return false}})(Handlebars.Compiler,Handlebars.JavaScriptCompiler);Handlebars.precompile=function(B,D){D=D||{};var C=Handlebars.parse(B);var A=new Handlebars.Compiler().compile(C,D);return new Handlebars.JavaScriptCompiler().compile(A,D)};Handlebars.compile=function(B,C){C=C||{};var A;function D(){var F=Handlebars.parse(B);var E=new Handlebars.Compiler().compile(F,C);var G=new Handlebars.JavaScriptCompiler().compile(E,C,undefined,true);return Handlebars.template(G)}return function(E,F){if(!A){A=D()}return A.call(this,E,F)}};Handlebars.VM={template:function(A){var B={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(D,E,F){var C=this.programs[D];if(F){return Handlebars.VM.program(E,F)}else{if(C){return C}else{C=this.programs[D]=Handlebars.VM.program(E);return C}}},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(C,D){D=D||{};return A.call(B,Handlebars,C,D.helpers,D.partials,D.data)}},programWithDepth:function(B,A,D){var C=Array.prototype.slice.call(arguments,2);return function(E,F){F=F||{};return B.apply(this,[E,F.data||A].concat(C))}},program:function(B,A){return function(C,D){D=D||{};return B(C,D.data||A)}},noop:function(){return""},invokePartial:function(D,F,B,E,C,A){options={helpers:E,partials:C,data:A};if(D===undefined){throw new Handlebars.Exception("The partial "+F+" could not be found")}else{if(D instanceof Function){return D(B,options)}else{if(!Handlebars.compile){throw new Handlebars.Exception("The partial "+F+" could not be compiled when running in runtime-only mode")}else{C[F]=Handlebars.compile(D);return C[F](B,options)}}}}};Handlebars.template=Handlebars.VM.template;
/*file name: /js/Gigya.aspx */
function GigyaSL(){}GigyaSL.sl_gigya_conf={APIKey:"2_8nkPycJKm7ldFV5QUt1wRg0qQ7XghIJASqQ3VLM10AGUPeP5K-TGhqtkXbwU7RdA",lang:"en"};GigyaSL.XHR=null;GigyaSL.Provider=null;GigyaSL.LastComment="";GigyaSL.PreviewImage="";GigyaSL.Title="";GigyaSL.Description="";GigyaSL.URL="";GigyaSL.FirstPost=true;GigyaSL.IsEmbed=false;GigyaSL.ShowWebcam=true;GigyaSL.ShareURL="";GigyaSL.IsConnectToSocialNetwork=false;GigyaSL.UserName="";GigyaSL.AvatarURL="";GigyaSL.NeedsLogin=false;GigyaSL.SignInTries=0;GigyaSL.CommentBoxHTML="";jQuerySL(document).ready(function(){if(jQuerySL("#Discussion").length>0&&jQuerySL("#Discussion").hasClass("Embed")){GigyaSL.IsEmbed=true}gigya.services.socialize.addEventHandlers(GigyaSL.sl_gigya_conf,{context:{str:"congrats on your"},onLogin:GigyaSL.onLoginHandler})});GigyaSL.onLoginHandler=function(B){if(GigyaSL.IsConnectToSocialNetwork){GigyaSL.ConnectSocialNetworkHandler(B);return}try{GigyaSL.XHR=jQuerySL.post("/User/Gigya.aspx?ajax=1&lang=en",{Sig:B.signature,TimeStamp:B.timestamp,UID:B.UID,ProviderType:B.user.loginProvider,ProviderUid:B.user.identities[B.user.loginProvider].providerUID,Name:B.user.nickname,Avatar:B.user.thumbnailURL,Email:B.user.email},function(C){if(C!="0"){if(typeof(WhiteLabelRedirect)!="undefined"&&WhiteLabelRedirect&&typeof(RedirectURL)!="undefined"&&RedirectURL!=""){window.location=RedirectURL+"User/SocialLogin.aspx?ASPSESSID="+C}else{try{if(GigyaSL.SWFUploader!=null){GigyaSL.SWFUploader.destroy()}GigyaSL.Provider=B.user.loginProvider;GigyaSL.UserName=B.user.nickname;LiveBlog.GetInstance().UID=B.UID;LiveBlog.GetInstance().UserName=B.user.nickname;GigyaSL.NeedsLogin=true;if(B.user.thumbnailURL!=null&&B.user.thumbnailURL!=""){GigyaSL.AvatarURL=B.user.thumbnailURL;UserThumbnail=GigyaSL.AvatarURL}GigyaSL.DisplayCommentBox()}catch(D){}}}else{throw"login error"}})}catch(A){alert("Login was not successful");jQuerySL("#CommentBox").load("/User/CommentBox.aspx?lang=en"+(GigyaSL.IsEmbed?"&Embed=1":"")+" #CommentBox>*",function(){GigyaSL.SetupAnonymousLoginSWFUploader();jQuerySL("#CommentBox").css("height","auto");GigyaSL.Provider=null;LiveBlog.GetInstance().ASPSID=null;EmbedResizeDiscussion();LiveBlog.GetInstance().UserName=""})}};GigyaSL.ConnectSocialNetworkHandler=function(B){try{GigyaSL.XHR=jQuerySL.post("/User/Gigya.aspx?action=ConnectSocialNetwork",{Sig:B.signature,TimeStamp:B.timestamp,UID:B.UID,ProviderType:B.user.loginProvider,ProviderUid:B.user.identities[B.user.loginProvider].providerUID,Name:B.user.nickname,Avatar:B.user.thumbnailURL,Email:B.user.email},function(C){if(C=="1"){jQuerySL("#ToolsArea").load("/Profile.aspx #ToolsArea>*",function(){})}else{if(C!="0"){var D="That account is already attached to [[[USERNAME]]]. Please try again.";D=D.replace("[[[USERNAME]]]",C);alert(D)}else{throw"login error"}}ButtonRestore()});gigya.services.socialize.logout(GigyaSL.sl_gigya_conf,{})}catch(A){alert("Login was not successful")}};GigyaSL.Logout=function(A){jQuerySL("#SLCommentBoxLoggedIn").after(GigyaSL.GetLoadingMessage("logout"));jQuerySL("#SLCommentBoxLoggedIn").remove();gigya.services.socialize.logout(GigyaSL.sl_gigya_conf,{});var B=jQuerySL.Event("loggedout.gigya");jQuerySL(window).trigger(B);GigyaSL.XHR=jQuerySL.post("/Logout.aspx?NoRedirect=1",function(){jQuerySL("#CommentBox").load("/User/CommentBox.aspx?lang=en"+(GigyaSL.IsEmbed?"&Embed=1":"")+" #CommentBox>*",function(){GigyaSL.UserName="";GigyaSL.AvatarURL="";GigyaSL.SetupAnonymousLoginSWFUploader();jQuerySL("#CommentBox").css("height","auto");GigyaSL.Provider=null;LiveBlog.GetInstance().ASPSID=null;EmbedResizeDiscussion()})})};GigyaSL.GetLoadingMessage=function(A){var B='<div id="LoadingMessage">';if(A=="logout"){B+="<p> Logging out ... </p>"}else{if(A=="login"){B+="<p> Logging in ... </p>"}}B+='<img src="/Style/images/loading.gif"/><p><a href="#" onclick="return GigyaSL.CancelPost();">Cancel</a></p></div>';jQuerySL("#CommentBox").css("height","auto");jQuerySL("#CommentArea").removeClass("Thumbnail");return B};GigyaSL.DisplayLoginMessage=function(){jQuerySL(".Social").html(GigyaSL.GetLoadingMessage("login"));jQuerySL("#NameInput").attr("disabled","true");jQuerySL(".Anonymous > .Button").text("Working");jQuerySL(".Anonymous > .Button").removeAttr("onclick");jQuerySL("#UploadAvatar a").click(function(){return false});EmbedResizeDiscussion();return false};GigyaSL.CancelPost=function(){try{if(GigyaSL.XHR!=null){GigyaSL.XHR.abort()}if(GigyaSL.SWFUploader!=null){GigyaSL.SWFUploader.destroy()}LiveBlog.GetInstance().ASPSID=null;jQuerySL("#CommentBox").load("/User/CommentBox.aspx?lang=en"+(GigyaSL.IsEmbed?"&Embed=1":"")+(GigyaSL.ShowWebcam?"":"&Webcam=0")+" #CommentBox>*",function(){jQuerySL("#CommentBox").css("height","auto");GigyaSL.SetupAnonymousLoginSWFUploader();EmbedResizeDiscussion()})}catch(A){alert("action canceled")}return false};GigyaSL.AnonymousLogin=function(C){if(C===true){return}var B=jQuerySL("#NameInput");var A=jQuerySL.trim(B.val());A=A.replace(/(<([^>]+)>)/ig,"");if(A!=B.attrSL("defaultValue")&&A!=""){GigyaSL.DisplayLoginMessage();GigyaSL.UserName=A;LiveBlog.GetInstance().UserName=A;GigyaSL.NeedsLogin=true;var E=false;try{if(GigyaSL.SWFUploader!=null&&GigyaSL.SWFUploader.getStats().files_queued>0){E=true}}catch(D){}if(E){GigyaSL.SWFUploader.startUpload()}else{GigyaSL.DisplayCommentBox()}}else{alert("Please enter a name.")}};GigyaSL.SWFUploader=null;GigyaSL.SetupAnonymousLoginSWFUploader=function(){if(jQuerySL("#NameInput").length>0){GigyaSL.SWFUploader=new SWFUpload({button_placeholder_id:"SWFUploadElement",upload_url:"http://embed.scribblelive.com/api/rest/user/avatar/upload",flash_url:"http://cdn.scribblelive.com/js/SWFUpload/Flash/swfupload.swf",file_size_limit:"5 MB",button_image_url:"http://cdn.scribblelive.com/Style/Images/transparent.png",button_width:"175",button_height:"22",button_window_mode:"transparent",button_cursor:SWFUpload.CURSOR.HAND,prevent_swf_caching:false,file_types:"*.jpg;*.jpeg;*.gif;*.png;*.bmp",file_upload_limit:1,file_queue_limit:1,file_types_description:"Web Images",file_queued_handler:function(B){try{var A=B.name;if(A.length>16){var D=parseInt(16/2-2);A=A.substring(0,D)+"..."+A.substring(A.length-D)}jQuerySL("#UploadAvatar span.Sub").html(A)}catch(C){}},file_dialog_start_handler:function(){try{jQuerySL(".Sub").html("50px x 50px");this.cancelUpload()}catch(A){}},upload_success_handler:function(B,A,C){GigyaSL.AvatarURL=A;UserThumbnail=GigyaSL.AvatarURL},upload_complete_handler:function(){GigyaSL.SWFUploader.destroy();GigyaSL.DisplayCommentBox()}})}};GigyaSL.ExtractAvatar=function(){try{var D=jQuerySL("#SLCommentBoxLoggedIn").css("background-image");var B=/url\(["']?(.+?)["']?\)/i;var A=B.exec(D);if(typeof UserThumbnail!=="undefined"){if(A!=null&&A.length>0){UserThumbnail=A[1];return}}}catch(C){}UserThumbnail=""};GigyaSL.Share=function(){var A=GigyaSL.PreviewImage;var H=GigyaSL.Title;var G=GigyaSL.Description;var E=GigyaSL.URL;var C=new gigya.services.socialize.UserAction();if(H!=null&&H!="Add a title..."){C.setTitle(H)}if(GigyaSL.LastComment!=null&&GigyaSL.LastComment!=""){C.setUserMessage(GigyaSL.LastComment)}if(A!=null&&A!=""){var F={src:A,href:(E!=null)?E:"",type:"image"};C.addMediaItem(F)}C.setDescription(G);if(E!=null&&E!=""){C.setLinkBack(E)}var B={userAction:C,callback:function D(I){if(I.errorCode==0){jQuerySL("#ShareStatus").css("display","none");jQuerySL("#ShareStatus").html("Comment Shared!");jQuerySL("#ShareStatus").fadeIn(2000,function(){jQuerySL("#ShareStatus").fadeOut(3000)})}else{if(I.errorCode==400106){jQuerySL("#ShareStatus").css("display","none");jQuerySL("#ShareStatus").html("Please select at least \n one social network first.");jQuerySL("#ShareStatus").fadeIn(1000,function(){jQuerySL("#ShareStatus").fadeOut(3000)})}else{jQuerySL("#ShareStatus").css("display","none");jQuerySL("#ShareStatus").html("Error has occurred ("+I.errorCode+"). <br/>Please try again.");jQuerySL("#ShareStatus").fadeIn(1000,function(){jQuerySL("#ShareStatus").fadeOut(5000)})}}}};jQuerySL("#ShareStatus").html("Please wait...");jQuerySL("#ShareStatus").fadeIn(1000);gigya.services.socialize.publishUserAction(GigyaSL.sl_gigya_conf,B)};GigyaSL.SharePreview=function(){gigya.services.socialize.showConnectUI(GigyaSL.sl_gigya_conf,{height:"90",width:"130",showTermsLink:"false",useHTML:"true",containerID:"GigyaConnect",enabledProviders:"facebook,twitter,yahoo,messenger,google,myspace",hideGigyaLink:true,showEditLink:false});if(typeof(IsIframe)!="undefined"&&IsIframe){GigyaSL.DisplaySharePreview(GigyaSL.Title,GigyaSL.URL,GigyaSL.Description,GigyaSL.PreviewImage)}else{if(LiveBlog.GetInstance()!=null){GigyaSL.PreviewImage=LiveBlog.GetInstance().PreviewImage;GigyaSL.Title=LiveBlog.GetInstance().Title;GigyaSL.Description=LiveBlog.GetInstance().Description;GigyaSL.URL=LiveBlog.GetInstance().URL;GigyaSL.DisplaySharePreview(GigyaSL.Title,GigyaSL.URL,GigyaSL.Description,GigyaSL.PreviewImage)}}return false};GigyaSL.DisplaySharePreview=function(B,E,A,C){if(A==null){A=""}if(C==null){C=""}var D='<h4>Your friends will see the following message:</h4><div class="MessageToShare">';if((GigyaSL.Provider=="facebook"||GigyaSL.Provider=="google")&&(C!=null&&C!="")){D+='<img src="'+C+'" class="ShareImage" />'}if(GigyaSL.Provider=="twitter"){D+="<p>"+(GigyaSL.LastComment!=""?GigyaSL.LastComment:B)+': <a href="'+E+'">'+E+"</a></p></div>"}else{D+="<p>"+GigyaSL.LastComment+'</p><p><a target="_parent" href="'+E+'">'+B+"</a></p><p>"+A+"</p></div>"}D+='<a href="#" onclick="GigyaSL.Share(); return false;" class="Button">Share</a>';D+='<div id="ShareStatus" style="display:none"></div><div class="Clear"></div>';jQuerySL("#GigyaMessage").html(D);EmbedResizeDiscussion()};GigyaSL.LoadShare=function(){var A="";if(GigyaSL.Provider!=null&&GigyaSL.Provider!=""){A="&Provider="+GigyaSL.Provider}var B="";if(LiveBlog.GetInstance()!=null&&LiveBlog.GetInstance().URL!=null){B+="&URL="+encodeURIComponent(LiveBlog.GetInstance().URL)}jQuerySL("#Share .ToolContent").html('<iframe src="'+GigyaSL.ShareURL+A+B+'" noresize scrolling="auto" frameborder="0" allowtransparency="true"></iframe>')};GigyaSL.DisplayCommentBox=function(){var B=jQuerySL.Event("loggedin.gigya");jQuerySL(window).trigger(B);GigyaSL.CommentBoxHTML=jQuerySL("#CommentBox").html();var A='<a href="#" onclick="return HideCommentBox(\'#ececec\',\'#333333\')" id="HideComment" tabindex="5">hide</a><div id="SLCommentBoxLoggedIn" class="Thumbnail" style="background-image:url('+(GigyaSL.AvatarURL==""?LiveBlog.GetUrlWithCorrectSecurity("http://avatars.scribblelive.com/default.png"):LiveBlog.GetUrlWithCorrectSecurity(GigyaSL.AvatarURL))+') !important"><span id="NameInputAfter">'+GigyaSL.UserName+'</span><a href="#" onclick="GigyaSL.Logout(); return false;" class="Logout">Logout</a><textarea id="PostInput" tabindex="3" class="Comment" onkeyup="MonitorInput(this, event, true)"></textarea><br /><a href="#" onclick="return WrapInputInTags(null, \'<b>\', \'</b>\');" class="FormattingButtons First" id="Bold"><strong>bold</strong></a><a href="#" onclick="return WrapInputInTags(null, \'<i>\', \'</i>\');" class="FormattingButtons" id="Italic"><em>italics</em></a>'+(GigyaSL.ShowWebcam?'<a href="#" onclick="return ShowWebcamRecorder( this, '+ThreadId+' );" id="Webcam" class="FormattingButtons"><strong>record</strong></a>':"")+'<input type="button" tabindex="4" onclick="SaveButton_Clicked(true)" value="Comment" class="Button Comment" id="SaveButton" />'+(GigyaSL.Provider==="twitter"?'<label for="SLCommentBoxSendToTwitter" id="SLCommentBoxTwitterWrap" title="Also send this post to my Twitter account."><input type="checkbox" id="SLCommentBoxSendToTwitter" checked="checked" /></label>':"")+'<div style="clear: both"></div></div>';if(LiveBlog.GetInstance()){LiveBlog.GetInstance().UserName=GigyaSL.UserName}jQuerySL("#CommentBox").html(A);jQuerySL("#CommentBox").css("height","auto");EmbedResizeDiscussion()};jQuerySL(document).ready(GigyaSL.SetupAnonymousLoginSWFUploader);
/*file name: /js/soundmanager/script/soundmanager2-nodebug-jsmin.js */
(function(C){function A(AZ,AS){function A3(){if(AR.debugURLParam.test(An)){AR.debugMode=true}}this.flashVersion=8;this.debugFlash=this.debugMode=false;this.useConsole=true;this.waitForWindowLoad=this.consoleOnly=false;this.nullURL="about:blank";this.allowPolling=true;this.useFastPolling=false;this.useMovieStar=true;this.bgColor="#ffffff";this.useHighPerformance=false;this.flashLoadTimeout=1000;this.wmode=null;this.allowScriptAccess="always";this.useHTML5Audio=this.useFlashBlock=false;this.html5Test=/^probably$/i;this.ondebuglog=false;this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:true},mp4:{related:["aac","m4a"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:true},ogg:{type:["audio/ogg; codecs=vorbis"],required:false},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:false}};this.defaultOptions={autoLoad:false,stream:true,autoPlay:false,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onstop:null,onfailure:null,onfinish:null,onbeforefinish:null,onbeforefinishtime:5000,onbeforefinishcomplete:null,onjustbeforefinish:null,onjustbeforefinishtime:200,multiShot:true,multiShotEvents:false,position:null,pan:0,type:null,usePolicyFile:false,volume:100};this.flash9Options={isMovieStar:null,usePeakData:false,useWaveformData:false,useEQData:false,onbufferchange:null,ondataerror:null,onstats:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,bufferTimes:null,duration:null};this.version=null;this.versionNumber="V2.97a.20101010";this.movieURL=null;this.url=AZ||null;this.altURL=null;this.enabled=this.swfLoaded=false;this.o=null;this.movieID="sm2-container";this.id=AS||"sm2movie";this.swfCSS={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=false;this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.didFlashBlock=this.specialWmodeCase=false;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.baseMimeTypes=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.netStreamMimeTypes=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.netStreamTypes=["aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"];this.netStreamPattern=RegExp("\\.("+this.netStreamTypes.join("|")+")(\\?.*)?$","i");this.mimePattern=this.baseMimeTypes;this.features={buffering:false,peakData:false,waveformData:false,eqData:false,movieStar:false};this.sandbox={};this.hasHTML5=null;this.html5={usingFlash:null};this.ignoreFlash=false;var n,AR=this,AH,AL=navigator.userAgent,An=C.location.href.toString(),AQ=this.flashVersion,AO=document,AP=C,A4,Ao,AB=[],Au=false,Av=false,AJ=false,Ay=false,A5=false,Aw,AK,A6,AC,AD,u,Ap,A7,Ab,Az,A8,Ax,AE,Ac,Ad,Ag,Ae,c,T,a,Aj,A0,Ak=null,d=null,Aq,e,Ar,Ah,Ai,f,AI,Af=false,g=false,A1,A2,As=null,AU,m,AA=false,Al,AF,h,AV,AG,AM,AW=Array.prototype.slice,AX=AL.match(/pre\//i),AT=AL.match(/(ipad|iphone)/i);AL.match(/mobile/i);var AN=AL.match(/MSIE/i),Am=AL.match(/safari/i)&&!AL.match(/chrome/i),j=typeof AO.hasFocus!=="undefined"?AO.hasFocus():null,At=typeof AO.hasFocus==="undefined"&&Am,AY=!At;this._use_maybe=An.match(/sm2\-useHTML5Maybe\=1/i);this._overHTTP=AO.location?AO.location.protocol.match(/http/i):null;this.useAltURL=!this._overHTTP;if(AT||AX){AR.useHTML5Audio=true;AR.ignoreFlash=true}if(AX||this._use_maybe){AR.html5Test=/^(probably|maybe)$/i}this.supported=function(){return As?AJ&&!Ay:AR.useHTML5Audio&&AR.hasHTML5};this.getMovie=function(D){return AN?AP[D]:Am?AH(D)||AO[D]:AH(D)};this.loadFromXML=function(E){try{AR.o._loadFromXML(E)}catch(D){Aj()}return true};this.createSound=function(G){function F(){D=Ah(D);AR.sounds[H.id]=new n(H);AR.soundIDs.push(H.id);return AR.sounds[H.id]}var D=null,E=null,H=null;if(!AJ||!AR.supported()){f("soundManager.createSound(): "+Aq(!AJ?"notReady":"notOK"));return false}if(arguments.length===2){G={id:arguments[0],url:arguments[1]}}H=D=AK(G);if(AI(H.id,true)){return AR.sounds[H.id]}if(m(H)){E=F();E._setup_html5(H)}else{if(AQ>8&&AR.useMovieStar){if(H.isMovieStar===null){H.isMovieStar=H.serverURL||(H.type?H.type.match(AR.netStreamPattern):false)||H.url.match(AR.netStreamPattern)?true:false}if(H.isMovieStar){if(H.usePeakData){H.usePeakData=false}}}H=Ai(H,"soundManager.createSound(): ");E=F();if(AQ===8){AR.o._createSound(H.id,H.onjustbeforefinishtime,H.loops||1,H.usePolicyFile)}else{AR.o._createSound(H.id,H.url,H.onjustbeforefinishtime,H.usePeakData,H.useWaveformData,H.useEQData,H.isMovieStar,H.isMovieStar?H.bufferTime:false,H.loops||1,H.serverURL,H.duration||null,H.autoPlay,true,H.bufferTimes,H.onstats?true:false,H.autoLoad,H.usePolicyFile);if(!H.serverURL){E.connected=true;H.onconnect&&H.onconnect.apply(E)}}}if(H.autoLoad||H.autoPlay){if(E){if(AR.isHTML5){E.autobuffer="auto";E.preload="auto"}else{E.load(H)}}}H.autoPlay&&E.play();return E};this.destroySound=function(G,F){if(!AI(G)){return false}var D=AR.sounds[G],E;D._iO={};D.stop();D.unload();for(E=0;E<AR.soundIDs.length;E++){if(AR.soundIDs[E]===G){AR.soundIDs.splice(E,1);break}}F||D.destruct(true);delete AR.sounds[G];return true};this.load=function(E,D){if(!AI(E)){return false}return AR.sounds[E].load(D)};this.unload=function(D){if(!AI(D)){return false}return AR.sounds[D].unload()};this.start=this.play=function(E,D){if(!AJ||!AR.supported()){f("soundManager.play(): "+Aq(!AJ?"notReady":"notOK"));return false}if(!AI(E)){D instanceof Object||(D={url:D});if(D&&D.url){D.id=E;return AR.createSound(D).play()}else{return false}}return AR.sounds[E].play(D)};this.setPosition=function(E,D){if(!AI(E)){return false}return AR.sounds[E].setPosition(D)};this.stop=function(D){if(!AI(D)){return false}return AR.sounds[D].stop()};this.stopAll=function(){for(var D in AR.sounds){AR.sounds[D] instanceof n&&AR.sounds[D].stop()}};this.pause=function(D){if(!AI(D)){return false}return AR.sounds[D].pause()};this.pauseAll=function(){for(var D=AR.soundIDs.length;D--;){AR.sounds[AR.soundIDs[D]].pause()}};this.resume=function(D){if(!AI(D)){return false}return AR.sounds[D].resume()};this.resumeAll=function(){for(var D=AR.soundIDs.length;D--;){AR.sounds[AR.soundIDs[D]].resume()}};this.togglePause=function(D){if(!AI(D)){return false}return AR.sounds[D].togglePause()};this.setPan=function(E,D){if(!AI(E)){return false}return AR.sounds[E].setPan(D)};this.setVolume=function(E,D){if(!AI(E)){return false}return AR.sounds[E].setVolume(D)};this.mute=function(E){var D=0;if(typeof E!=="string"){E=null}if(E){if(!AI(E)){return false}return AR.sounds[E].mute()}else{for(D=AR.soundIDs.length;D--;){AR.sounds[AR.soundIDs[D]].mute()}AR.muted=true}return true};this.muteAll=function(){AR.mute()};this.unmute=function(D){if(typeof D!=="string"){D=null}if(D){if(!AI(D)){return false}return AR.sounds[D].unmute()}else{for(D=AR.soundIDs.length;D--;){AR.sounds[AR.soundIDs[D]].unmute()}AR.muted=false}return true};this.unmuteAll=function(){AR.unmute()};this.toggleMute=function(D){if(!AI(D)){return false}return AR.sounds[D].toggleMute()};this.getMemoryUse=function(){if(AQ===8){return 0}if(AR.o){return parseInt(AR.o._getMemoryUse(),10)}};this.disable=function(E){if(typeof E==="undefined"){E=false}if(Ay){return false}Ay=true;for(var D=AR.soundIDs.length;D--;){a(AR.sounds[AR.soundIDs[D]])}Aw(E);AM(AP,"load",AD);return true};this.canPlayMIME=function(E){var D;if(AR.hasHTML5){D=Al({type:E})}return !As||D?D:E?E.match(AR.mimePattern)?true:false:null};this.canPlayURL=function(E){var D;if(AR.hasHTML5){D=Al(E)}return !As||D?D:E?E.match(AR.filePattern)?true:false:null};this.canPlayLink=function(D){if(typeof D.type!=="undefined"&&D.type){if(AR.canPlayMIME(D.type)){return true}}return AR.canPlayURL(D.href)};this.getSoundById=function(D){if(!D){throw Error("SoundManager.getSoundById(): sID is null/undefined")}return AR.sounds[D]};this.onready=function(E,D){if(E&&E instanceof Function){D||(D=AP);A6(E,D);AC();return true}else{throw Aq("needFunction")}};this.getMoviePercent=function(){return AR.o&&typeof AR.o.PercentLoaded!=="undefined"?AR.o.PercentLoaded():null};this._wD=this._writeDebug=function(F,E,D){AR.ondebuglog&&AR.ondebuglog(F,E,D);return true};this._debug=function(){};this.reboot=function(){for(var E=AR.soundIDs.length;E--;){AR.sounds[AR.soundIDs[E]].destruct()}try{if(AN){d=AR.o.innerHTML}Ak=AR.o.parentNode.removeChild(AR.o)}catch(D){}d=Ak=null;AR.enabled=AJ=Af=g=Au=Av=Ay=AR.swfLoaded=false;AR.soundIDs=AR.sounds=[];AR.o=null;for(E=AB.length;E--;){AB[E].fired=false}AP.setTimeout(function(){AR.beginDelayedInit()},20)};this.destruct=function(){AR.disable(true)};this.beginDelayedInit=function(){A5=true;AE();setTimeout(A8,20);Ap()};n=function(I){var H=this,K,E,J,F,G,D;this.sID=I.id;this.url=I.url;this._iO=this.instanceOptions=this.options=AK(I);this.pan=this.options.pan;this.volume=this.options.volume;this._lastURL=null;this.isHTML5=false;this.id3={};this._debug=function(){};this._debug();this.load=function(N){var L=null;if(typeof N!=="undefined"){H._iO=AK(N);H.instanceOptions=H._iO}else{N=H.options;H._iO=N;H.instanceOptions=H._iO;if(H._lastURL&&H._lastURL!==H.url){H._iO.url=H.url;H.url=null}}if(H._iO.url===H.url&&H.readyState!==0&&H.readyState!==2){return H}H._lastURL=H.url;H.loaded=false;H.readyState=1;H.playState=0;if(m(H._iO)){L=H._setup_html5(H._iO);L.load();H._iO.autoPlay&&H.play()}else{try{H.isHTML5=false;H._iO=Ai(Ah(H._iO));AQ===8?AR.o._load(H.sID,H._iO.url,H._iO.stream,H._iO.autoPlay,H._iO.whileloading?1:0,H._iO.loops||1,H._iO.usePolicyFile):AR.o._load(H.sID,H._iO.url,H._iO.stream?true:false,H._iO.autoPlay?true:false,H._iO.loops||1,H._iO.autoLoad?true:false,H._iO.usePolicyFile)}catch(M){Ae()}}return H};this.unload=function(){if(H.readyState!==0){if(H.isHTML5){J();if(D){D.pause();D.src=AR.nullURL;D.load();D=H._audio=null}}else{AQ===8?AR.o._unload(H.sID,AR.nullURL):AR.o._unload(H.sID)}K()}return H};this.destruct=function(L){if(H.isHTML5){J();if(D){D.pause();D.src="about:blank";D.load();D=H._audio=null}}else{H._iO.onfailure=null;AR.o._destroySound(H.sID)}L||AR.destroySound(H.sID,true)};this.start=this.play=function(N,L){var M;L=typeof L==="undefined"?true:L;N||(N={});H._iO=AK(N,H._iO);H._iO=AK(H._iO,H.options);H.instanceOptions=H._iO;if(H._iO.serverURL){if(!H.connected){H.getAutoPlay()||H.setAutoPlay(true);return H}}if(m(H._iO)){H._setup_html5(H._iO);F()}if(H.playState===1&&!H.paused){if(M=H._iO.multiShot){H.isHTML5&&H.setPosition(H._iO.position)}else{return H}}if(!H.loaded){if(H.readyState===0){if(H.isHTML5){H.load(H._iO);H.readyState=1}else{if(!H._iO.serverURL){H._iO.autoPlay=true;H.load(H._iO)}}}else{if(H.readyState===2){return H}}}if(H.paused&&H.position&&H.position>0){H.resume()}else{H.playState=1;H.paused=false;if(!H.instanceCount||H._iO.multiShotEvents||AQ>8&&!H.isHTML5&&!H.getAutoPlay()){H.instanceCount++}H.position=typeof H._iO.position!=="undefined"&&!isNaN(H._iO.position)?H._iO.position:0;H._iO=Ai(Ah(H._iO));H._iO.onplay&&L&&H._iO.onplay.apply(H);H.setVolume(H._iO.volume,true);H.setPan(H._iO.pan,true);if(H.isHTML5){F();H._setup_html5().play()}else{AR.o._start(H.sID,H._iO.loops||1,AQ===9?H.position:H.position/1000)}}return H};this.stop=function(L){if(H.playState===1){H._onbufferchange(0);H.resetOnPosition(0);if(!H.isHTML5){H.playState=0}H.paused=false;H._iO.onstop&&H._iO.onstop.apply(H);if(H.isHTML5){if(D){H.setPosition(0);D.pause();H.playState=0;H._onTimer();J();H.unload()}}else{AR.o._stop(H.sID,L);H._iO.serverURL&&H.unload()}H.instanceCount=0;H._iO={}}return H};this.setAutoPlay=function(L){H._iO.autoPlay=L;AR.o._setAutoPlay(H.sID,L);L&&!H.instanceCount&&H.readyState===1&&H.instanceCount++};this.getAutoPlay=function(){return H._iO.autoPlay};this.setPosition=function(L){if(L===undefined){L=0}H.position=H.isHTML5?Math.max(L,0):Math.min(H.duration||H._iO.duration,Math.max(L,0));H.resetOnPosition(H.position);if(H.isHTML5){if(D){if(H.playState){try{D.currentTime=H.position/1000}catch(M){}}if(H.paused){H._onTimer(true);H._iO.useMovieStar&&H.resume()}}}else{L=AQ===9?H.position:H.position/1000;H.playState===0?H.play({position:L}):AR.o._setPosition(H.sID,L,H.paused||!H.playState)}return H};this.pause=function(L){if(H.paused||H.playState===0&&H.readyState!==1){return H}H.paused=true;if(H.isHTML5){H._setup_html5().pause();J()}else{if(L||L===undefined){AR.o._pause(H.sID)}}H._iO.onpause&&H._iO.onpause.apply(H);return H};this.resume=function(){if(!H.paused){return H}H.paused=false;H.playState=1;if(H.isHTML5){H._setup_html5().play();F()}else{AR.o._pause(H.sID)}H._iO.onresume&&H._iO.onresume.apply(H);return H};this.togglePause=function(){if(H.playState===0){H.play({position:AQ===9&&!H.isHTML5?H.position:H.position/1000});return H}H.paused?H.resume():H.pause();return H};this.setPan=function(L,M){if(typeof L==="undefined"){L=0}if(typeof M==="undefined"){M=false}H.isHTML5||AR.o._setPan(H.sID,L);H._iO.pan=L;if(!M){H.pan=L}return H};this.setVolume=function(L,M){if(typeof L==="undefined"){L=100}if(typeof M==="undefined"){M=false}if(H.isHTML5){if(D){D.volume=L/100}}else{AR.o._setVolume(H.sID,AR.muted&&!H.muted||H.muted?0:L)}H._iO.volume=L;if(!M){H.volume=L}return H};this.mute=function(){H.muted=true;if(H.isHTML5){if(D){D.muted=true}}else{AR.o._setVolume(H.sID,0)}return H};this.unmute=function(){H.muted=false;var L=typeof H._iO.volume!=="undefined";if(H.isHTML5){if(D){D.muted=false}}else{AR.o._setVolume(H.sID,L?H._iO.volume:H.options.volume)}return H};this.toggleMute=function(){return H.muted?H.unmute():H.mute()};this.onposition=function(N,L,M){H._onPositionItems.push({position:N,method:L,scope:typeof M!=="undefined"?M:H,fired:false});return H};this.processOnPosition=function(){var L,M;L=H._onPositionItems.length;if(!L||!H.playState||H._onPositionFired>=L){return false}for(L=L;L--;){M=H._onPositionItems[L];if(!M.fired&&H.position>=M.position){M.method.apply(M.scope,[M.position]);M.fired=true;AR._onPositionFired++}}return true};this.resetOnPosition=function(N){var L,M;L=H._onPositionItems.length;if(!L){return false}for(L=L;L--;){M=H._onPositionItems[L];if(M.fired&&N<=M.position){M.fired=false;AR._onPositionFired--}}return true};this._onTimer=function(L){var M={};if(H._hasTimer||L){if(D&&(L||(H.playState>0||H.readyState===1)&&!H.paused)){H.duration=G();H.durationEstimate=H.duration;L=D.currentTime?D.currentTime*1000:0;H._whileplaying(L,M,M,M,M);return true}else{return false}}};G=function(){var L=D?D.duration*1000:undefined;return L&&!isNaN(L)?L:null};F=function(){H.isHTML5&&A1(H)};J=function(){H.isHTML5&&A2(H)};K=function(){H._onPositionItems=[];H._onPositionFired=0;H._hasTimer=null;H._added_events=null;D=H._audio=null;H.bytesLoaded=null;H.bytesTotal=null;H.position=null;H.duration=H._iO&&H._iO.duration?H._iO.duration:null;H.durationEstimate=null;H.failures=0;H.loaded=false;H.playState=0;H.paused=false;H.readyState=0;H.muted=false;H.didBeforeFinish=false;H.didJustBeforeFinish=false;H.isBuffering=false;H.instanceOptions={};H.instanceCount=0;H.peakData={left:0,right:0};H.waveformData={left:[],right:[]};H.eqData=[];H.eqData.left=[];H.eqData.right=[]};K();this._setup_html5=function(L){L=AK(H._iO,L);if(D){if(H.url!==L.url){D.src=L.url}}else{H._audio=new Audio(L.url);D=H._audio;H.isHTML5=true;E()}D.loop=L.loops>1?"loop":"";return H._audio};E=function(){function L(M,N,O){return D?D.addEventListener(M,N,O||false):null}if(H._added_events){return false}H._added_events=true;L("load",function(){if(D){H._onbufferchange(0);H._whileloading(H.bytesTotal,H.bytesTotal,G());H._onload(true)}},false);L("canplay",function(){H._onbufferchange(0)},false);L("waiting",function(){H._onbufferchange(1)},false);L("progress",function(M){if(!H.loaded&&D){H._onbufferchange(0);H._whileloading(M.loaded||0,M.total||1,G())}},false);L("error",function(){D&&H._onload(false)},false);L("loadstart",function(){H._onbufferchange(1)},false);L("play",function(){H._onbufferchange(0)},false);L("playing",function(){H._onbufferchange(0)},false);L("timeupdate",function(){H._onTimer()},false);setTimeout(function(){H&&D&&L("ended",function(){H._onfinish()},false)},250);return true};this._whileloading=function(N,L,M,O){H.bytesLoaded=N;H.bytesTotal=L;H.duration=Math.floor(M);H.bufferLength=O;if(H._iO.isMovieStar){H.durationEstimate=H.duration}else{H.durationEstimate=H._iO.duration?H.duration>H._iO.duration?H.duration:H._iO.duration:parseInt(H.bytesTotal/H.bytesLoaded*H.duration,10);if(H.durationEstimate===undefined){H.durationEstimate=H.duration}H.bufferLength=O}H.readyState!==3&&H._iO.whileloading&&H._iO.whileloading.apply(H)};this._onid3=function(O,L){var M=[],P,N;P=0;for(N=O.length;P<N;P++){M[O[P]]=L[P]}H.id3=AK(H.id3,M);H._iO.onid3&&H._iO.onid3.apply(H)};this._whileplaying=function(O,L,M,P,N){if(isNaN(O)||O===null){return false}if(H.playState===0&&O>0){O=0}H.position=O;H.processOnPosition();if(AQ>8&&!H.isHTML5){if(H._iO.usePeakData&&typeof L!=="undefined"&&L){H.peakData={left:L.leftPeak,right:L.rightPeak}}if(H._iO.useWaveformData&&typeof M!=="undefined"&&M){H.waveformData={left:M.split(","),right:P.split(",")}}if(H._iO.useEQData){if(typeof N!=="undefined"&&N&&N.leftEQ){O=N.leftEQ.split(",");H.eqData=O;H.eqData.left=O;if(typeof N.rightEQ!=="undefined"&&N.rightEQ){H.eqData.right=N.rightEQ.split(",")}}}}if(H.playState===1){!H.isHTML5&&AR.flashVersion===8&&!H.position&&H.isBuffering&&H._onbufferchange(0);H._iO.whileplaying&&H._iO.whileplaying.apply(H);if((H.loaded||!H.loaded&&H._iO.isMovieStar)&&H._iO.onbeforefinish&&H._iO.onbeforefinishtime&&!H.didBeforeFinish&&H.duration-H.position<=H._iO.onbeforefinishtime){H._onbeforefinish()}}return true};this._onconnect=function(L){L=L===1;if(H.connected=L){H.failures=0;H._iO.onconnect&&H._iO.onconnect.apply(H,[L]);if(AI(H.sID)&&(H.options.autoLoad||H.getAutoPlay())){H.play(undefined,H.getAutoPlay())}}};this._onload=function(L){L=L?true:false;H.loaded=L;H.readyState=L?3:2;H._onbufferchange(0);H._iO.onload&&H._iO.onload.apply(H,[L]);return true};this._onfailure=function(N,L,M){H.failures++;H._iO.onfailure&&H.failures===1&&H._iO.onfailure(H,N,L,M)};this._onbeforefinish=function(){if(!H.didBeforeFinish){H.didBeforeFinish=true;H._iO.onbeforefinish&&H._iO.onbeforefinish.apply(H)}};this._onjustbeforefinish=function(){if(!H.didJustBeforeFinish){H.didJustBeforeFinish=true;H._iO.onjustbeforefinish&&H._iO.onjustbeforefinish.apply(H)}};this._onstats=function(L){H._iO.onstats&&H._iO.onstats(H,L)};this._onfinish=function(){H._onbufferchange(0);H.resetOnPosition(0);H._iO.onbeforefinishcomplete&&H._iO.onbeforefinishcomplete.apply(H);H.didBeforeFinish=false;H.didJustBeforeFinish=false;if(H.instanceCount){H.instanceCount--;if(!H.instanceCount){H.playState=0;H.paused=false;H.instanceCount=0;H.instanceOptions={};J()}if(!H.instanceCount||H._iO.multiShotEvents){H._iO.onfinish&&H._iO.onfinish.apply(H)}}};this._onbufferchange=function(L){if(H.playState===0){return false}if(L&&H.isBuffering||!L&&!H.isBuffering){return false}H.isBuffering=L===1;H._iO.onbufferchange&&H._iO.onbufferchange.apply(H);return true};this._ondataerror=function(){H.playState>0&&H._iO.ondataerror&&H._iO.ondataerror.apply(H)}};Ad=function(){return AO.body?AO.body:AO._docElement?AO.documentElement:AO.getElementsByTagName("div")[0]};AH=function(D){return AO.getElementById(D)};AK=function(G,F){var D={},E,H;for(E in G){if(G.hasOwnProperty(E)){D[E]=G[E]}}E=typeof F==="undefined"?AR.defaultOptions:F;for(H in E){if(E.hasOwnProperty(H)&&typeof D[H]==="undefined"){D[H]=E[H]}}return D};(function(){function G(H){H=AW.call(H);var I=H.length;if(D){H[1]="on"+H[1];I>3&&H.pop()}else{I===3&&H.push(false)}return H}function F(J,H){var I=J.shift()[E[H]];D?I(J[0],J[1]):I.apply(this,J)}var D=AP.attachEvent,E={add:D?"attachEvent":"addEventListener",remove:D?"detachEvent":"removeEventListener"};AG=function(){F(G(arguments),"add")};AM=function(){F(G(arguments),"remove")}})();m=function(D){return(D.type?Al({type:D.type}):false)||Al(D.url)};Al=function(F){if(!AR.useHTML5Audio||!AR.hasHTML5){return false}var E,D=AR.audioFormats;if(!AF){AF=[];for(E in D){if(D.hasOwnProperty(E)){AF.push(E);if(D[E].related){AF=AF.concat(D[E].related)}}}AF=RegExp("\\.("+AF.join("|")+")","i")}E=typeof F.type!=="undefined"?F.type:null;F=typeof F==="string"?F.toLowerCase().match(AF):null;if(!F||!F.length){if(!E){return false}}else{F=F[0].substr(1)}if(F&&typeof AR.html5[F]!=="undefined"){return AR.html5[F]}else{if(!E){if(F&&AR.html5[F]){return AR.html5[F]}else{E="audio/"+F}}E=AR.html5.canPlayType(E);return AR.html5[F]=E}};AV=function(){function G(M){var J,L,K=false;if(!F||typeof F.canPlayType!=="function"){return false}if(M instanceof Array){J=0;for(L=M.length;J<L&&!K;J++){if(AR.html5[M[J]]||F.canPlayType(M[J]).match(AR.html5Test)){K=true;AR.html5[M[J]]=true}}return K}else{return(M=F&&typeof F.canPlayType==="function"?F.canPlayType(M):false)&&(M.match(AR.html5Test)?true:false)}}if(!AR.useHTML5Audio||typeof Audio==="undefined"){return false}var F=typeof Audio!=="undefined"?new Audio:null,I,D={},H,E;H=AR.audioFormats;for(I in H){if(H.hasOwnProperty(I)){D[I]=G(H[I].type);if(H[I]&&H[I].related){for(E=0;E<H[I].related.length;E++){AR.html5[H[I].related[E]]=D[I]}}}}D.canPlayType=F?G:null;AR.html5=AK(AR.html5,D);return true};AH=function(D){return AO.getElementById(D)};Aq=function(){};Ah=function(D){if(AQ===8&&D.loops>1&&D.stream){D.stream=false}return D};Ai=function(D){if(D&&!D.usePolicyFile&&(D.onid3||D.usePeakData||D.useWaveformData||D.useEQData)){D.usePolicyFile=true}return D};f=function(D){typeof console!=="undefined"&&typeof console.warn!=="undefined"&&console.warn(D)};A4=function(){return false};a=function(E){for(var D in E){if(E.hasOwnProperty(D)&&typeof E[D]==="function"){E[D]=A4}}};Aj=function(D){if(typeof D==="undefined"){D=false}if(Ay||D){AR.disable(D)}};A0=function(E){var D=null;if(E){if(E.match(/\.swf(\?\.*)?$/i)){if(D=E.substr(E.toLowerCase().lastIndexOf(".swf?")+4)){return E}}else{if(E.lastIndexOf("/")!==E.length-1){E+="/"}}}return(E&&E.lastIndexOf("/")!==-1?E.substr(0,E.lastIndexOf("/")+1):"./")+AR.movieURL};Ab=function(){if(AQ!==8&&AQ!==9){AR.flashVersion=8}var D=AR.debugMode||AR.debugFlash?"_debug.swf":".swf";if(AR.flashVersion<9&&AR.useHTML5Audio&&AR.audioFormats.mp4.required){AR.flashVersion=9}AQ=AR.flashVersion;AR.version=AR.versionNumber+(AA?" (HTML5-only mode)":AQ===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(AQ>8){AR.defaultOptions=AK(AR.defaultOptions,AR.flash9Options);AR.features.buffering=true}if(AQ>8&&AR.useMovieStar){AR.defaultOptions=AK(AR.defaultOptions,AR.movieStarOptions);AR.filePatterns.flash9=RegExp("\\.(mp3|"+AR.netStreamTypes.join("|")+")(\\?.*)?$","i");AR.mimePattern=AR.netStreamMimeTypes;AR.features.movieStar=true}else{AR.features.movieStar=false}AR.filePattern=AR.filePatterns[AQ!==8?"flash9":"flash8"];AR.movieURL=(AQ===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",D);AR.features.peakData=AR.features.waveformData=AR.features.eqData=AQ>8};T=function(E,D){if(!AR.o||!AR.allowPolling){return false}AR.o._setPolling(E,D)};(function(){function G(H){H=AW.call(H);var I=H.length;if(D){H[1]="on"+H[1];I>3&&H.pop()}else{I===3&&H.push(false)}return H}function F(J,H){var I=J.shift()[E[H]];D?I(J[0],J[1]):I.apply(this,J)}var D=AP.attachEvent,E={add:D?"attachEvent":"addEventListener",remove:D?"detachEvent":"removeEventListener"};AG=function(){F(G(arguments),"add")};AM=function(){F(G(arguments),"remove")}})();c=function(){function F(){D.left=AP.scrollX+"px";D.top=AP.scrollY+"px"}function E(G){G=AP[(G?"add":"remove")+"EventListener"];G("resize",F,false);G("scroll",F,false)}var D=null;return{check:function(G){D=AR.oMC.style;if(AL.match(/android/i)){if(G){if(AR.flashLoadTimeout){AR._s.flashLoadTimeout=0}return false}D.position="absolute";D.left=D.top="0px";E(true);AR.onready(function(){E(false);if(D){D.left=D.top="-9999px"}});F()}return true}}}();Ag=function(J,I){var M=I?I:AR.url,E=AR.altURL?AR.altURL:M,L;L=Ad();var F,H,D=Ar(),K,N=null;N=(N=AO.getElementsByTagName("html")[0])&&N.dir&&N.dir.match(/rtl/i);J=typeof J==="undefined"?AR.id:J;if(Au&&Av){return false}if(AA){Ab();AR.oMC=AH(AR.movieID);Ao();Av=Au=true;return false}Au=true;Ab();AR.url=A0(this._overHTTP?M:E);I=AR.url;AR.wmode=!AR.wmode&&AR.useHighPerformance&&!AR.useMovieStar?"transparent":AR.wmode;if(AR.wmode!==null&&!AN&&!AR.useHighPerformance&&navigator.platform.match(/win32/i)){AR.specialWmodeCase=true;AR.wmode=null}L={name:J,id:J,src:I,width:"100%",height:"100%",quality:"high",allowScriptAccess:AR.allowScriptAccess,bgcolor:AR.bgColor,pluginspage:"http://www.macromedia.com/go/getflashplayer",type:"application/x-shockwave-flash",wmode:AR.wmode};if(AR.debugFlash){L.FlashVars="debug=1"}AR.wmode||delete L.wmode;if(AN){M=AO.createElement("div");H='<object id="'+J+'" data="'+I+'" type="'+L.type+'" width="'+L.width+'" height="'+L.height+'"><param name="movie" value="'+I+'" /><param name="AllowScriptAccess" value="'+AR.allowScriptAccess+'" /><param name="quality" value="'+L.quality+'" />'+(AR.wmode?'<param name="wmode" value="'+AR.wmode+'" /> ':"")+'<param name="bgcolor" value="'+AR.bgColor+'" />'+(AR.debugFlash?'<param name="FlashVars" value="'+L.FlashVars+'" />':"")+"<!-- --></object>"}else{M=AO.createElement("embed");for(F in L){L.hasOwnProperty(F)&&M.setAttribute(F,L[F])}}A3();D=Ar();if(L=Ad()){AR.oMC=AH(AR.movieID)?AH(AR.movieID):AO.createElement("div");if(AR.oMC.id){K=AR.oMC.className;AR.oMC.className=(K?K+" ":AR.swfCSS.swfDefault)+(D?" "+D:"");AR.oMC.appendChild(M);if(AN){F=AR.oMC.appendChild(AO.createElement("div"));F.className=AR.swfCSS.swfBox;F.innerHTML=H}Av=true;c.check(true)}else{AR.oMC.id=AR.movieID;AR.oMC.className=AR.swfCSS.swfDefault+" "+D;F=D=null;if(!AR.useFlashBlock){if(AR.useHighPerformance){D={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}}else{D={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"};if(N){D.left=Math.abs(parseInt(D.left,10))+"px"}}}if(AL.match(/webkit/i)){AR.oMC.style.zIndex=10000}if(!AR.debugFlash){for(K in D){if(D.hasOwnProperty(K)){AR.oMC.style[K]=D[K]}}}try{AN||AR.oMC.appendChild(M);L.appendChild(AR.oMC);if(AN){F=AR.oMC.appendChild(AO.createElement("div"));F.className=AR.swfCSS.swfBox;F.innerHTML=H}Av=true}catch(G){throw Error(Aq("appXHTML"))}c.check()}}return true};AI=this.getSoundById;Ax=function(){if(AA){Ag();return false}if(AR.o){return false}AR.o=AR.getMovie(AR.id);if(!AR.o){if(Ak){if(AN){AR.oMC.innerHTML=d}else{AR.oMC.appendChild(Ak)}Ak=null;Au=true}else{Ag(AR.id,AR.url)}AR.o=AR.getMovie(AR.id)}AR.oninitmovie instanceof Function&&setTimeout(AR.oninitmovie,1);return true};u=function(D){if(D){AR.url=D}Ax()};Ap=function(){setTimeout(A7,500)};A7=function(){if(Af){return false}Af=true;AM(AP,"load",Ap);if(At&&!j){return false}var D;AJ||(D=AR.getMoviePercent());setTimeout(function(){D=AR.getMoviePercent();if(!AJ&&AY){if(D===null){if(AR.useFlashBlock||AR.flashLoadTimeout===0){AR.useFlashBlock&&e()}else{Aj(true)}}else{AR.flashLoadTimeout!==0&&Aj(true)}}},AR.flashLoadTimeout)};u=function(D){if(D){AR.url=D}Ax()};Ar=function(){var D=[];AR.debugMode&&D.push(AR.swfCSS.sm2Debug);AR.debugFlash&&D.push(AR.swfCSS.flashDebug);AR.useHighPerformance&&D.push(AR.swfCSS.highPerf);return D.join(" ")};e=function(){Aq("fbHandler");var D=AR.getMoviePercent();if(AR.supported()){if(AR.oMC){AR.oMC.className=Ar()+" "+AR.swfCSS.swfDefault+(" "+AR.swfCSS.swfUnblocked)}}else{if(As){AR.oMC.className=Ar()+" "+AR.swfCSS.swfDefault+" "+(D===null?AR.swfCSS.swfTimedout:AR.swfCSS.swfError)}AR.didFlashBlock=true;AC(true);AR.onerror instanceof Function&&AR.onerror.apply(AP)}};Az=function(){function D(){AM(AP,"focus",Az);AM(AP,"load",Az)}if(j||!At){D();return true}j=AY=true;Am&&At&&AM(AP,"mousemove",Az);Af=false;D();return true};Aw=function(D){if(AJ){return false}if(AA){AJ=true;AC();AD();return true}AR.useFlashBlock&&AR.flashLoadTimeout&&!AR.getMoviePercent()||(AJ=true);if(Ay||D){if(AR.useFlashBlock){AR.oMC.className=Ar()+" "+(AR.getMoviePercent()===null?AR.swfCSS.swfTimedout:AR.swfCSS.swfError)}AC();AR.onerror instanceof Function&&AR.onerror.apply(AP);return false}if(AR.waitForWindowLoad&&!A5){AG(AP,"load",AD);return false}else{AD()}return true};A6=function(E,D){AB.push({method:E,scope:D||null,fired:false})};AC=function(G){if(!AJ&&!G){return false}G={success:G?AR.supported():!Ay};var F=[],D,E,H=!AR.useFlashBlock||AR.useFlashBlock&&!AR.supported();D=0;for(E=AB.length;D<E;D++){AB[D].fired!==true&&F.push(AB[D])}if(F.length){D=0;for(E=F.length;D<E;D++){F[D].scope?F[D].method.apply(F[D].scope,[G]):F[D].method(G);if(!H){F[D].fired=true}}}return true};AD=function(){AP.setTimeout(function(){AR.useFlashBlock&&e();AC();AR.onload instanceof Function&&AR.onload.apply(AP);AR.waitForWindowLoad&&AG(AP,"load",AD)},1)};AU=function(){var F,E,D=!An.match(/usehtml5audio/i)&&!An.match(/sm2\-ignorebadua/i)&&Am&&AL.match(/OS X 10_6_(3|4)/i);if(AL.match(/iphone os (1|2|3_0|3_1)/i)?true:false){AR.hasHTML5=false;AA=true;if(AR.oMC){AR.oMC.style.display="none"}return false}if(AR.useHTML5Audio){if(!AR.html5||!AR.html5.canPlayType){AR.hasHTML5=false;return true}else{AR.hasHTML5=true}if(D){AR.useHTML5Audio=false;AR.hasHTML5=false;return true}}else{return true}for(E in AR.audioFormats){if(AR.audioFormats.hasOwnProperty(E)&&AR.audioFormats[E].required&&!AR.html5.canPlayType(AR.audioFormats[E].type)){F=true}}if(AR.ignoreFlash){F=false}AA=AR.useHTML5Audio&&AR.hasHTML5&&!F;return F};Ao=function(){var F,E=[];if(AJ){return false}if(AR.hasHTML5){for(F in AR.audioFormats){AR.audioFormats.hasOwnProperty(F)&&E.push(F+": "+AR.html5[F])}}if(AA){if(!AJ){AM(AP,"load",AR.beginDelayedInit);AR.enabled=true;Aw()}return true}Ax();try{AR.o._externalInterfaceTest(false);if(AR.allowPolling){T(true,AR.useFastPolling?true:false)}AR.debugMode||AR.o._disableDebug();AR.enabled=true}catch(D){Aj(true);Aw();return false}Aw();AM(AP,"load",AR.beginDelayedInit);return true};A8=function(){if(g){return false}Ag();Ax();return g=true};AE=function(){if(Ac){return false}Ac=true;A3();AV();AR.html5.usingFlash=AU();As=AR.html5.usingFlash;Ac=true;AO.removeEventListener&&AO.removeEventListener("DOMContentLoaded",AE,false);u();return true};A1=function(D){if(!D._hasTimer){D._hasTimer=true}};A2=function(D){if(D._hasTimer){D._hasTimer=false}};Ae=function(){AR.onerror instanceof Function&&AR.onerror();AR.disable()};this._setSandboxType=function(){};this._externalInterfaceOK=function(){if(AR.swfLoaded){return false}(new Date).getTime();AR.swfLoaded=true;At=false;AN?setTimeout(Ao,100):Ao()};h=function(){if(AO.readyState==="complete"){AE();AO.detachEvent("onreadystatechange",h)}return true};if(!AR.hasHTML5||As){AG(AP,"focus",Az);AG(AP,"load",Az);AG(AP,"load",Ap);Am&&At&&AG(AP,"mousemove",Az)}if(AO.addEventListener){AO.addEventListener("DOMContentLoaded",AE,false)}else{AO.attachEvent?AO.attachEvent("onreadystatechange",h):Ae()}AO.readyState==="complete"&&setTimeout(AE,100)}var B=null;if(typeof SM2_DEFER==="undefined"||!SM2_DEFER){B=new A}C.SoundManager=A;C.soundManager=B})(window);
/*file name: /modules/slideshow/js/slideshow_v2.aspx */
(function(){var A=SCRIBBLE;A.namespace("ui");A.ui.SlideShow=(function(E){var B=false;var G;var D;var C;var F=E;return{Configure:function(L){var N=this,I=F(".SL_SlideShow"),M,O,H,P,J,K;if(L===true){if(typeof Handlebars!=="undefined"&&!D){Handlebars.registerHelper("reorder_images",function(S,Q){var T="";var R;for(J=0,K=S.length;J<K;J++){R=S[J];R.width=100;R.height=100;T+=Q.fn(R)}return T});M=F.trim(F("#slideshow-container-tmpl").html());O=Handlebars.compile(M);H=F.trim(F("#slideshow-slide-tmpl").html());D=Handlebars.compile(H);P=F.trim(F("#slideshow-reorder-tmpl").html());C=Handlebars.compile(P);G=O({current:1,total:1})}}if(B===false){F(".SL_SlideShow").live("mousedown",function(Q){if(F(Q.target).closest(".Caption").length<1){Q.preventDefault();return false}});F(".SlideShowNext").live("click",function(T){T.preventDefault();var Q=F(this).parent();var R=Q.find(".SL_SlideShow_Slide").not(".HideSlide");var S=R.nextAll(".HideSlide").first();if(S.length===0){S=Q.find(".SL_SlideShow_Slide:first");N.UpdateSlideCurrent(Q,1)}else{N.UpdateSlideCurrent(Q,parseInt(Q.find(".SL_SlideShow_Current").html(),10)+1)}S.removeClass("HideSlide");R.addClass("HideSlide");return false});F(".SlideShowPrev").live("click",function(T){T.preventDefault();var Q=F(this).parent();var R=Q.find(".SL_SlideShow_Slide").not(".HideSlide");var S=R.prevAll(".HideSlide").first();if(S.length===0){S=Q.find(".SL_SlideShow_Slide:last");N.UpdateSlideCurrent(Q,Q.find(".SL_SlideShow_Slide").length)}else{N.UpdateSlideCurrent(Q,parseInt(Q.find(".SL_SlideShow_Current").html(),10)-1)}S.removeClass("HideSlide");R.addClass("HideSlide");return false});I=F(".SL_SlideShow");I.each(function(T,S){var Q=F(S);var R=Q.find(".Media > img");R.addClass("loading");N.PreloadImages(Q.find("img"),function(){N.Resize(Q);R.removeClass("loading")})});B=true}},Create:function(H){var J=F(G).clone(),I;H.removeAttr("style");H.addClass("SL_SlideShow_Slide");H.removeClass("SL_Top SL_Left SL_Right");J.insertBefore(H);I=this.AddSlide(H,false,J);return I},Resize:function(J){var L=0,H=0,I=0,K=0,M=0;if(!F(J).hasClass("SL_SlideShow")){J=F(J).closest(".SL_SlideShow");if(!J.length){return}}F(".SL_SlideShow_Slide .MediaWrap",J).css("height","auto");F(".SL_SlideShow_Slide .Media",J).css("height","auto");F(".SL_SlideShow_Counter",J).css("height","auto");M=J.find(".SL_SlideShow_Counter").height();F(".SL_SlideShow_Slide",J).each(function(O,R){var S=F(this).find(".MediaWrap"),N=F(this).find("img"),P=F(this).find(".Caption"),Q=F(this).find(".Meta");if(N.height()>H){H=N.height()}if(N.width()>I){I=N.width()}if((P.outerHeight()+Q.outerHeight())>K){K=(P.outerHeight()||0)+(Q.outerHeight()||0)}if(K<M){K=M}L=H+K});L=H+K;if(L>0){F(".SL_SlideShow_Slide .MediaWrap",J).css("height",L);F(".SL_SlideShow_Slide .Media",J).css("height",H);F(".SL_SlideShow_Slide .MetaWrap",J).css("top",H);F(".SL_SlideShow_Counter",J).css("height",L-H)}F(".SlideShowNav",J).css("top",H/2);F(".SL_SlideShow_Slide img",J).each(function(N,Q){var R=F(Q),O=F(Q).parents(".Media"),P=((H-R.height())/2);if(R.height()<H&&R.width()<O.width()){R.css("position","absolute");R.css("margin-left",((R.width()/2)*-1));R.css("margin-top",((R.height()/2)*-1));R.css("left","50%");R.css("top","50%")}else{if(R.height()<H){R.css("position","absolute");R.css("margin-left",0);R.css("left",0);R.css("margin-top",((R.height()/2)*-1));R.css("top","50%")}else{if(R.width()<O.width()){R.css("position","absolute");R.css("margin-top",0);R.css("top",0);R.css("margin-left",((R.width()/2)*-1));R.css("left","50%")}else{R.css("position","relative");R.css("top",0);R.css("margin-top",0);R.css("left",0);R.css("margin-left",0)}}}})},ResizeAll:function(H){var I=this;E(((H!=undefined)?H:"")+" .SL_SlideShow").each(function(K,J){I.Resize(E(J))})},PreloadImages:function(J,H){var K=[],L,I;for(L=0,I=J.length;L<I;L++){K.push(J[L].src)}F.imgpreload(K,{all:H})},EnableFirstSlide:function(I){var H=F(I),J=H.find(".SL_SlideShow_Slide").not(".HideSlide"),K=H.find(".SL_SlideShow_Slide:first");if(LiveArticle.GetElementClassIdentifier(J)!==LiveArticle.GetElementClassIdentifier(K)){K.removeClass("HideSlide");J.addClass("HideSlide");this.UpdateSlideCurrent(H,1)}},ReorderSlides:function(L,N){var M=this,K=F(L),J=K.find(".SlideContainer"),Q=F(K.find(".SL_SlideShow_Slide img").clone()),O=F(C({images:Q})),R=this.CalculateHeight(L,N),P,H,I;O.insertBefore(N).css("top",R).css("left",K.position().left).css("width",K.width()).css("height",K.height());P=F(".SlideShowReorder",O).css("width",K.width()).css("height",K.height()-40);H=F(".ReorderSaveButton",O).click(function(Y){Y.preventDefault();var X=P.find("img"),W,Z,T,U;for(T=0,U=X.length;T<U;T++){var S=X[T].src,V=LiveArticle.GetElementClassIdentifier(X[T]);if(!Z){W=J.find("."+V).first().parents(".SL_SlideShow_Slide");J.prepend(W);Z=W}else{W=J.find("."+V).first().parents(".SL_SlideShow_Slide");W.insertAfter(Z);Z=W}}M.EnableFirstSlide(K);M.UpdateSlideCurrent(K,1);O.remove();return false});I=F(".ReorderCancelButton",O).click(function(S){S.preventDefault();O.remove();return false});F(".SlideShowReorder").sortable({placeholder:"SlideShowReorderHelper",forcePlaceholderSize:true,forceHelperSize:true});F(".SlideShowReorder").disableSelection();F(".SlideShowReorder").draggable({connectToSortable:".SlideShowReorder",revert:"invalid",cancel:".SlideShowReorder"})},CenterSlides:function(H){this.Resize.apply(this,arguments)},CenterSlide:function(H,I){this.Resize.apply(this,arguments)},Destroy:function(I){var H=F(I),J,K;H.find(".SlideShowNext").remove();H.find(".SlideShowPrev").remove();H.find(".SL_SlideShow_Counter").remove();H.children().find(".Media").addClass("SL_Top");J=H.children().find(".MediaWrap").children();K=J.find(".MetaWrap").children();J.find(".MetaWrap").remove();J.append(K);J.removeAttr("style");J.find("img").removeAttr("style");H.replaceWith(J)},AddSlide:function(L,J,Q){var S=this,T=F(L);var N=T.find("img"),I=T.find(".Meta"),M=T.find(".Caption"),K=I.find("span").first(),R=I.find("span").last(),H=I.find("em").first(),P={src:N.attrSL("src")||"#",metaby:K.html(),metatime:R.html(),metaname:H.html()},O;if(M.length){P.caption=M.first().html()}O=F(D(P));if(!M){O.find(".Caption").remove()}O.find("img").bind("load",function(){S.Resize(O.parents(".SL_SlideShow"));T.remove()});if(!J.jquery&&J===false){Q.find(".SlideContainer").append(O)}else{O.addClass("HideSlide");O.insertAfter(J)}this.UpdateSlideTotal(O.parents(".SL_SlideShow"));return O},UpdateSlideTotal:function(H){F(H).find(".SL_SlideShow_Total").html(F(H).find(".SL_SlideShow_Slide").length);F(".FloatingXButton,.FloatingEditButton,.FloatingCaptionButton").remove()},UpdateSlideCurrent:function(H,I){F(H).find(".SL_SlideShow_Current").html(I);F(".FloatingXButton,.FloatingEditButton,.FloatingCaptionButton").remove()},ResizeSlide:function(){},RemovedSlide:function(H){var I=F(H);I.find(".SL_SlideShow_Slide:first").removeClass("HideSlide");this.UpdateSlideTotal(I);this.UpdateSlideCurrent(I,1);if(I.find(".SL_SlideShow_Slide").length<=1){this.Destroy(I)}else{this.Resize(I)}},DisplayLoading:function(J,I){var H=F(J),K=this.CalculateHeight(J,I);if(!H.hasClass("SL_SlideShow")){H=H.parent()}var L=F('<div class="SlideShowLoading"></div>').insertBefore(I).css("top",K).css("left",H.position().left).css("width",H.width()).css("height",H.height());setTimeout(function(){L.remove()},1500)},DisplayHotSpot:function(I,K,H){var N="Create a Slideshow",L=this.CalculateHeight(I,K),M=I.outerHeight()+20;I=I.closest(".SL_SlideShow").length?I.closest(".SL_SlideShow"):I;if(I.hasClass("SL_SlideShow")){M=I.outerHeight();N="Add image to Slideshow"}this.RemoveHotSpot();var J=F('<div class="SlideShowHotSpot">'+N+"</div>").bind("mouseover",function(O){I.data("over",1)}).bind("mouseout",function(O){setTimeout(function(){I.data("over",null);SlideShow.RemoveHotSpot(I)},5)}).data("refblockquote",I.get(0)).insertBefore(K).css("top",L).css("left",I.position().left).css("width",I.outerWidth()).css("height",M*0.5).css("padding-top",M*0.5);I.find("img").droppable({tolerance:"pointer",greedy:true,drop:H})},RemoveHotSpot:function(I){var H=F(".SlideShowHotSpot");if(H.length>0&&((I!==undefined&&I.data("over")!==1)||I===undefined)){H.remove();if(I!==undefined){I.children("img").droppable("destroy")}}if(!I){H.remove()}},IsHotSpotReady:function(){var H=F(".SlideShowHotSpot");if(H.length>0){return true}else{return false}},GetHeight:function(I){var H=F(I);var J=H.attrSL("class").match(/SLH_(\d+)/);if(J===null){return 0}else{return J[1]}},SetHeight:function(I,J,H){this.Resize.apply(this,arguments)},MaxHeight:function(H,I){return},SetMaxHeight:function(H){this.Resize.apply(this,arguments)},CalculateHeight:function(I,H){var J=H.parents().filter(function(){var K=F(this);return K.is("body")||K.css("position")==="relative"||K.hasClass("FloatingEdit")}).slice(0,1);return(I.offset().top-J.offset().top)},CleanUp:function(H){H=H.closest(".SL_SlideShow");if(!H.hasClass("SL_SlideShow")){return}H.find("span").each(function(I,K){var J=F(this);if(F.trim(J.contents().text())===""){J.remove()}})}}}(jQuerySL))}());
/*file name: /js/Twitter.aspx */
LiveBlog.prototype.OnConnectNewPost=function(A){TwitterizePost(A);return true};function TwitterizePost(E){E=jQuerySL(E);if(E.find(".content-area .Meta .Source a[href^='http://twitter.com/']").length>0){E.addClass("Tweet");var H=E.find(".content-area .Meta em").html();var K=E.find(".content-area .Meta .Source a[href^='http://twitter.com/']").attr("href");var F=K.match(/http:\/\/twitter\.com\/(.*?)\//);var J=(F!=null)?F[1]:H;var D=K.match(/http:\/\/twitter\.com\/.*\/([a-zA-Z0-9]+)/);var M=(D!=null)?D[1].replace("twitter",""):"";var B="http://www.twitter.com/"+J+((M!="")?"/status/"+M:"");var A=new Date();if(E.find(".content-area .ServerTime").length>0){A=LiveBlog.ConvertServerTimeToLocalTimeFriendlyString(E.find(".content-area .ServerTime").html())}else{if(E.find(".content-area .DisplayPostTime a").length>0){A=E.find(".content-area .DisplayPostTime a").html()}}E.find(".content-area .Meta").addClass("Above").html("");var L="<a class='TwitterIntent' onclick='return TwitterPopup(this);' href='https://twitter.com/intent/tweet?in_reply_to="+M+"'><i class='sm-reply'></i>Reply</a><a class='TwitterIntent' onclick='return TwitterPopup(this);' href='https://twitter.com/intent/retweet?tweet_id="+M+"'><i class='sm-rt'></i>Retweet</a><a class='TwitterIntent' onclick='return TwitterPopup(this);' href='https://twitter.com/intent/favorite?tweet_id="+M+"'><i class='sm-fav'></i>Favorite</a> &nbsp;";if(E.find(".content-area .post-actions").length==0){jQuerySL("<div class='post-actions'>"+L+"</div>").insertAfter(E.find(".Content"))}else{E.find(".content-area .post-actions").html(L)}E.find(".content-area .post-actions .TwitterIntent").hide();E.hover(function(){E.find(".content-area .post-actions .TwitterIntent").show()},function(){E.find(".content-area .post-actions .TwitterIntent").hide()});var O="https://twitter.com/intent/user?screen_name="+J;var G=E.find(".content-area .Content").html().match(/\s?#[a-z0-9_]+/i);if(G!=null){E.find(".content-area .Content").html(E.find(".content-area .Content").html().replace(/(\s?)#([a-z0-9_]+)/gi,"$1<a href='http://twitter.com/search?q=%23$2&src=hash' class='TwitterIntent' target='_blank'>#$2</a>"))}var C=E.find(".content-area .Content").html().match(/\s?@[a-z0-9_]+/i);if(C!=null){E.find(".content-area .Content").html(E.find(".content-area .Content").html().replace(/(\s?)@([a-z0-9_]+)/gi,"$1<a href='http://twitter.com/$2' class='TwitterIntent' target='_blank'>@$2</a> "))}jQuerySL("<div class='Time'><a href='"+B+"' target='_blank'>"+A+"</a></div><div class='User'><em><a class='TwitterIntent' href='http://twitter.com' target='_blank'><img src='../Style/Images/twitterBird.png' style='border:0; width:15px; height:14px; margin-right:5px; vertical-align:middle' alt='Twitter' /></a><a class='TwitterIntent' href='"+O+"'>"+H+"</a></em> <a class='TwitterIntent' href='"+O+"'>@"+J+"</a></div>").addClass("Meta Above Tweet").insertBefore(E.find(".content-area .Content"));var N=E.find(".avatar-area");var I=N.html();N.html("<a class='TwitterIntent' href='http://twitter.com/"+J+"' target='_blank'>"+I+"</a>")}}function TwitterPopup(A){if(typeof twttr=="undefined"){var B=A.href;window.open(B,"ScribbleLiveTwitterWindow","width=575,height=400");return false}}jQuerySL(document).ready(function(){jQuerySL(".Posts li").each(function(){TwitterizePost(this)})});
/*file name: /modules/sharing/lang.js.aspx */
(function(){var A=SCRIBBLE.namespace("social.lang");A["Im Watching"]="I\u0027m watching"}());
/*file name: /modules/sharing/social.sharing.js */
(function(E,C,A){var B=SCRIBBLE.namespace("social"),F=SCRIBBLE.social.lang,G=650,D=306;B.Sharing=function(I){var K=this,H=(typeof IsWhitelabel==="undefined")?(document.referrer?document.referrer:C.location.href):C.location.href,J=(H.match(/(dev\.scribblelive\.com|\.scribblelive\.me)/i)||H.match(/(dev\.scribblelive\.com|\.scribblelive\.me)/i));this.facebookAppId="13716440339";this.redirectUrl="http"+((J)?"s://dev":"://www")+".scribblelive.com/modules/sharing/facebook_redirect.aspx";this.bitlyUsername="scribblelive";this.BitlyAPIKey="R_6b6cde913f6f7b8325df2fb1491f580c";this.opts=I,this.opts.onShareComplete=I.onShareComplete||function(){return};E("#TopShareMenu li.SL_Share, #SocialShare li.SL_Share, #ShareActions li.SL_Share, ul.Posts ul.Actions li.SL_Share").live("click",function(O,L){var M=E(this),N=M.closest("*[data-postid]");K.shareClick(M,N)});E(document).bind("SL-Social:send-comment-to-twitter",function(M,L){K.generateCommentTweet(L.Content)})};B.Sharing.prototype={shareClick:function(N,J){var M=this,K=N.data("sharetype"),O=(N.hasClass("Facebook")?"Facebook":(N.hasClass("Twitter")?"Twitter":"none")),L=this._getShareUrl(J,K),H=escape(L),I="https://api-ssl.bitly.com/v3/shorten?login="+this.bitlyUsername+"&apiKey="+this.BitlyAPIKey+"&longUrl="+H;this._openWindow("","SL_Share_Window");E.ajax({url:I,dataType:"jsonp",async:false,success:function(P){var Q=(P.status_code==200)?P.data.url:L;M._openWindow(M["_format"+O+"Share"](J,K,Q),"SL_Share_Window");M.opts.onShareComplete(K,O,Q)},error:function(P){M._openWindow(M["_format"+O+"Share"](J,K,L),"SL_Share_Window")}})},generateCommentTweet:function(M){var I=this,J=new gigya.services.socialize.UserAction(),K=E("<div></div>"),L=this._getShareUrl(K,"event"),H=escape(L),N="https://api-ssl.bitly.com/v3/shorten?login="+this.bitlyUsername+"&apiKey="+this.BitlyAPIKey+"&longUrl="+H;M=M.replace(/\&lt;([^&]|&([^g]|g([^t]|t[^;])))*\&gt;/g,"");E.ajax({url:N,dataType:"jsonp",async:false,success:function(R){var P=(R.status_code==200)?R.data.url:L,O=I._formatPostContent(K,"twitter",M,P.length),Q=O+" "+P+" via @ScribbleLive";E.ajax({url:I.opts.GigyaSendTweetUrl+"?rand="+Math.floor((Math.random()*100000)+1),data:{tweetContent:Q,ASPSESSID:LiveBlog.GetInstance().ASPSID},type:"POST",async:false,success:function(S){},error:function(S){}})},error:function(O){}})},_formatFacebookShare:function(I,J,H){var K={"url":H,"name":null,"description":null,"caption":null,"picture":null};return"https://www.facebook.com/dialog/feed?app_id="+this.facebookAppId+"&display=popup&link="+K.url+"&"+((K.name)?"name="+encodeURIComponent(K.name)+"&":"")+((K.description)?"description="+encodeURIComponent(K.description)+"&":"")+((K.caption)?"caption="+encodeURIComponent(K.caption)+"&":"")+((K.picture)?"picture="+K.picture+"&":"")+"redirect_uri="+this.redirectUrl},_formatTwitterShare:function(I,K,J){var M={"url":J,"text":null},L,H;switch(K){case"permalink":L=I.find("span#Content")[0].innerHTML;M.text=this._formatPostContent(I,"twitter",L,J.length);if(M.text.length===0){H=E('meta[property="og:title"]').attrSL("content");M.text=F["Im Watching"]+((H)?" "+H:"")}break;case"post":L=I.find(".content-area .Content")[0].innerHTML;M.text=this._formatPostContent(I,"twitter",L,J.length);if(M.text.length===0){H=E('meta[property="og:title"]').attrSL("content");M.text=F["Im Watching"]+((H)?" "+H:"")}break;case"event":H=E('meta[property="og:title"]').attrSL("content");M.text=F["Im Watching"]+((H)?" "+H:"");break}return"http://twitter.com/intent/tweet?url="+encodeURIComponent(M.url)+"&"+((M.text)?"text="+encodeURIComponent(M.text)+"&":"")+"via=ScribbleLive"},_formatPostContent:function(U,K,M,J){if(U.hasClass("PostType_9")){M=E(M).find("dt")[0].textContent}else{if(U.hasClass("PostType_2")||U.hasClass("PostType_3")||U.hasClass("PostType_6")){var O=E(M).filter(".Caption");M=(O.length>0)?O.get(0).textContent:""}else{if(U.hasClass("PostType_10")){M=E(M);var Q=M,H=false,L=false,R=null;var S="";Q.each(function(V){if(E(this).closest(".SL_SlideShow").length<=0){S=S+" "+this.textContent}else{H=true;if(R==null){R=V}}});L=(H&&E.trim(S).length<=0);M=(H&&L)?E(M[R]).find("div.SL_SlideShow_Slide").not(".HideSlide").find("div.Caption")[0].textContent:E.trim(S)}else{var I=document.createElement("div");I.innerHTML=M;M=I.textContent||I.innerText}}}M=E.trim(M.replace(/[\r\n]/g," "));if(K=="twitter"){var T=18,P=140-J-T-3;if(M.length>P){M=M.slice(0,P);var N=M.lastIndexOf(" ");M=M.slice(0,N);M=M+"..."}}return M},_getShareUrl:function(I,J){var H=null;switch(J){case"post":H=GetSinglePostPermalink(I.data("postid"));break;case"permalink":H=C.location.href;break;case"event":if(typeof IsWhitelabel==="undefined"){if(typeof PromotionalUrl==="undefined"||!PromotionalUrl){if(document.referrer){H=document.referrer}else{H=C.location.href}}else{H=PromotionalUrl}}else{H=C.location.href}break}H+=(H.indexOf("?")>0)?"&ss=1":"?ss=1";return H},_openWindow:function(I,H){newWindow=C.open(I,H,"width="+G+",height="+D);if(C.focus){newWindow.focus()}return false}}}((typeof jQuerySL!=="undefined"?jQuerySL:jQuery),window));
/*file name: /modules/notifications/js/lang.js.aspx */
(function(){var A=SCRIBBLE.namespace("Notifications.lang");A["EventStarted"]="Your event has started";A["PeopleNotified"]="people want to be notified by email when it starts.";A["EmailNow"]="Do you want to email them now?";A["LinkToEvent"]="Link to event:";A["SendEmail"]="Send email";A["Reminder"]="Event Reminder";A["EnterEmail"]="Enter your email to receive an email when the event starts.";A["InvalidEmail"]="You entered an invalid email. Please try again.";A["ThankYou"]="Thank you, you will be reminded via email.";A["Error"]="Error has occurred. Please try again.";A["Email"]="Email";A["InvalidURL"]="You have entered an invalid URL.";A["Submit"]="Submit"}());
/*file name: /modules/notifications/js/notifications.js */
(function(F){var G=SCRIBBLE.namespace("Notifications"),D=SCRIBBLE.Notifications.lang,C=SCRIBBLE.ui.Dialog,A=null,E={};var B={ShowNotification:function(){A=new C({id:"email-notification",modal:true,fixedcenter:true});var H=F.trim(F("#emailnotification-tmpl").html()),I=Handlebars.compile(H);jQuerySL.ajax({type:"GET",url:"/api/rest/notifications/view/"+ThreadId,data:{Auth:Auth,format:"json",Link:jQuerySL("#EmailNotificationLink").val()},success:function(J,L,K){A.setBody(F(I({lbl_title:D["EventStarted"],content:(J.NumItems>=100?J.NumItems+"+":J.NumItems)+" "+D["PeopleNotified"],question:D["EmailNow"],link:D["LinkToEvent"]+" ",send_email:D["SendEmail"],url:J.Link})));if(J.NumItems>0){A.show()}jQuerySL("#email-notification .NotificationContent a.close").click(function(){A.hide()})},error:function(K,L,J){}})},SendNotification:function(){if(!/^((https?:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?((([\d\w][-\d\w]{0,253}\.)+[\w]{2,64})|(localhost))(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$/i.test(jQuerySL("#EmailNotificationLink").val())){alert(D["InvalidURL"]);return false}jQuerySL.ajax({type:"GET",url:"/api/rest/notifications/send/"+ThreadId,data:{Auth:Auth,format:"json",Link:jQuerySL("#EmailNotificationLink").val()},success:function(H,J,I){A.hide()},error:function(I,J,H){}});return false},ShowSignUp:function(){var H=F.trim(F("#emailnotificationsignup-tmpl").html()),I=this;emailNotificationSignUpTmpl=Handlebars.compile(H);F(".EventCountdown").after(F(emailNotificationSignUpTmpl({lbl_title:D["Reminder"],content:D["EnterEmail"],lbl_emailplaceholder:D["Email"],submit:D["Submit"]})));F("#EmailInput").keypress(I.SignUp);return false},SignUp:function(J,H){if((J==null&&H)||J.keyCode==13){var I=F("#EmailInput").val();if(!SCRIBBLE.Notifications.Notifications.ValidateEmail(I)){jQuerySL("#NotificationMessage").text(D["InvalidEmail"]);jQuerySL("#NotificationMessage").addClass("Error").removeClass("Success");return}jQuerySL.ajax({type:"GET",url:"/api/rest/notifications/add/"+ThreadId,data:{Email:I,format:"json"},success:function(K,M,L){jQuerySL("#NotificationMessage").text(D["ThankYou"]);jQuerySL("#NotificationMessage").addClass("Success").removeClass("Error");jQuerySL("#EmailInput").val("")},error:function(L,M,K){jQuerySL("#NotificationMessage").text(D["Error"]);jQuerySL("#NotificationMessage").addClass("Error").removeClass("Success")}});return false}},ValidateEmail:function(I){var H=new RegExp(/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i);return H.test(I)}};G.Notifications=B}(jQuerySL));
/*file name: /js/event.tracking.js */
(function(D,A,B){var C=SCRIBBLE.namespace("event");C.Tracking=function(E){};C.Tracking.prototype={gaTrackEvent:function(J,G,F,I,H){if(A._gaq&&A._gat._getTracker){var E=new Array();E.push(["_setDomainName","none"]);E.push("_trackEvent");E.push(J);E.push(G);if(F!=null&&F!=B&&F.length>0){E.push(F)}if(I!=null&&I!=B&&I.length>0){E.push(I)}if(H!=null&&H!=B&&H.length>0){E.push(H)}_gaq.push(E)}else{}}}}((typeof jQuerySL!=="undefined"?jQuerySL:jQuery),window));
/*file name: /modules/discussion/js/lang.js.aspx */
(function(A){var B=A.namespace("Discussion.lang");B["View Previous Comments"]="View Previous Comments";B["Make a comment"]="Make a comment...";B["Live Updating"]="Live Updating";B["Permalink"]="Permalink";B["Comment"]="Comment";B["Comments"]="Comments";B["Unable to post comment"]="Unable to post comment.";B["Comment in moderation"]="Thanks for your comment!  It\u0027s in moderation.";B["Try again"]="Please try again.";B["You have been banned"]="You have been banned";B["Looks like Spam"]="Unable to post comment as it appears to be spam.";B["Options"]="Options";B["Delete"]="Delete";B["Ban (Event)"]="Ban (Event)";B["Ban (Global)"]="Ban (Global)";B["Unable to delete comment"]="Unable to delete comment";B["Log in with one of the following accounts"]="Log in with one of the following accounts.";B["Yesterday"]="yesterday";B["at"]="at";B["of"]="of";B["Show"]="Show";B["New Comments"]="New Comments";B["New Comment"]="New Comment";B["Sort By Time"]="Sort by Time";B["Approve"]="approve";B["Delete"]="Delete";B["Comments Could Not Be Loaded"]="Comments could not be loaded";B["In Response To"]="in response to [[[Content]]]";B["Loading"]="Loading";B["Working"]="Working";B["Bulk Approve"]="Bulk Approve";B["No Comment Activity"]="No comment activity yet.";B["An Error Occured"]="An error has occurred, please try again.";B["Oldest On Top"]="Switch to oldest on top";B["Newest On Top"]="Switch to newest on top"}(SCRIBBLE));
/*file name: /modules/ui/dialog/js/dialog.js */
(function(E){var C=(function(){var I;return function(J){if(!I){I=document.createElement("div");I.id="ncz1";I.style.cssText="position:absolute;top:-1000px";document.body.insertBefore(I,document.body.firstChild)}I.innerHTML='_<style media="'+J+'"> #ncz1 { width: 1px; }</style>';I.removeChild(I.firstChild);return I.offsetWidth==1}})();var H=SCRIBBLE.namespace("ui"),G=E.trim(E("#dialog-tmpl").html()),D=Handlebars.compile(G),F={fixedcenter:false,modal:false,css:""},B=0;var A=function(I){this.opts=E.extend({},F,I);this.$container=E(D({css:I.css})).clone();this.$container.attr("id",(this.opts.id||"sl-popover-"+(B++)));this.id=this.$container.attrSL("id");this.$body=this.$container.find(".bd").first();if(I.visible===false){this.$container.hide()}if(this.opts.modal===true){this.$mask=E('<div class="sl-dialog-mask">').appendTo(document.body)}this._initEvents();E(document.body).append(this.$container)};A.EVENT_TYPES={close:"close.dialog"};A.ios=/(iPhone|iPod|iPad|Android|webOS)/.test(window.navigator.userAgent);A.prototype={constructor:A,opts:{},_initEvents:function(){this.$container.find(".close").bind("click",E.proxy(this.hide,this));this._closeEvent=E.Event(A.EVENT_TYPES.close)},setHeader:function(I){this.$header.html(I)},setBody:function(I){this.$body.html(I)},setFooter:function(I){this.$footer.html(I)},center:function(){var Q,M,K,I,N,O,P,J,L;Q=this.$container;Q.css({visibility:"hidden",display:"block"});M=E(window);K=E(document);I=Q[0].offsetHeight;N=Q[0].offsetWidth;O=M.height();P=M.width();J=M.scrollTop();L=M.scrollLeft();Q.css({visibility:"visible",top:(O/2)-(I/2)+J,left:(P/2)-(N/2)+L});if(this.opts.modal===true){this.$mask.css({height:K.height(),width:K.width()})}},show:function(){var I,L,K,N,O,J,M;I=this.$container;L=E(window);K=E(document.body);N=this.opts.fixedcenter;O=this.opts.modal;if(C("screen and (max-width:480px)")){I.addClass("fixed");this._isMobile=true}else{I.removeClass("fixed");this._isMobile=false}I.detach().appendTo(document.body);if(N===true){this.center()}if(O===true){K.addClass("masked")}I.css("display","").addClass("show ");L.bind("resize",E.proxy(this.center,this));L.bind("scroll",E.proxy(this.center,this))},hide:function(){var I,J,K,L;I=this.$container;J=E(window);K=E(document.body);L=this.opts.modal;I.removeClass("show");if(L===true){K.removeClass("masked")}J.unbind("resize",E.proxy(this.center,this));J.unbind("scroll",E.proxy(this.center,this));E(this).trigger(this._closeEvent)}};H.Dialog=A}((typeof jQuerySL!=="undefined"?jQuerySL:jQuery)));
/*file name: /modules/discussion/js/discussion.engine.js */
(function(F,E,A){var K=SCRIBBLE.namespace("Discussion"),I=SCRIBBLE.Discussion.lang,D=SCRIBBLE.ui.Dialog,G=F.trim(F("#sociallogin-tmpl").html()),H=Handlebars.compile(G),B=false,C={interval:1000,throttleTimeout:1400,idleTimeout:20000};var J={$container:null,_discussionLists:{},username:"",avatarURL:"",init:function(Q){if(B===true){return}var N;this.opts=F.extend({},C,Q);this.$container=F(this.opts.containerSelector);this.avatarURL=this.opts.defaultThumbnail;this._totalMsgsToDisplay=this.opts.totalMsgsToDisplay||5;this.$container.delegate("a.add-comment","click",F.proxy(this._handleAddComment,this));this.loginDialog=new D({id:"comment-login",modal:true,fixedcenter:true});this.loginDialog.setBody(F(H({lbl_title:I["Log in with one of the following accounts"]})));F(E).bind("loggedin.gigya",F.proxy(this.hideLogin,this));F(E).bind("loggedout.gigya",F.proxy(this._handleLogout,this));F(E).bind("userupdate.discussion",F.proxy(this._handleUserInfoUpdate,this));this._existingPosts=this.$container.find(this.opts.itemsSelector);if(this._existingPosts.length){this._initializePosts();if(this.opts.inlinePermalink===true){this._existingPosts.addClass("is-permalink")}}K.Controller.ThreadId=this.opts.threadId;K.Controller.Init({interval:this.opts.interval,throttleTimeout:this.opts.throttleTimeout,authToken:this.opts.authToken,onComment:this._onCommentInsert,onDelete:this._onCommentDelete,onCommentCountUpdate:this.updateCommentCount,loadPosts:this.opts.loadPosts,scope:this});if(this.opts.user&&this.opts.user.hasOwnProperty("Username")&&this.opts.user.hasOwnProperty("AvatarURL")){this.username=this.opts.user.Username;this.avatarURL=this.opts.user.AvatarURL;N=F.Event("loggedin.backend");F(E).trigger(N)}F(document).bind("idle.idleTimer",F.proxy(function(){K.Controller.SetTimeoutInterval(this.opts.idleTimeout)},this));F(document).bind("active.idleTimer",F.proxy(function(){K.Controller.SetTimeoutInterval(this.opts.throttleTimeout)},this));F.idleTimer(120000);if(this.opts.plugins){var P=this.opts.plugins;var L;var M,O;for(M=0,O=P.length;M<O;M++){L=P[M];if(K[L.name].init){K[L.name].init(F(L.selector),F.extend({},this.opts,L.opts||{}))}}}B=true},displayLogin:function(){this.loginDialog.show()},hideLogin:function(){if(typeof GigyaSL!=="undefined"){this.username=GigyaSL.UserName;this.avatarURL=GigyaSL.AvatarURL;if(!this.avatarURL||this.avatarURL===""){if(this.opts.defaultThumbnail){this.avatarURL=this.opts.defaultThumbnail}else{if(typeof LiveBlog!=="undefined"&&LiveBlog.GetInstance()){this.avatarURL=LiveBlog.GetInstance().DefaultThumbnail}}}}this.loginDialog.hide()},updateCommentCount:function(N,M){var L=this._getDiscussionList(N);L._totalMsgs=M;L.updateTotalCount()},isLoggedIn:function(){return(typeof this.username!=="undefined"&&this.username!=="")},convertToFriendlyTimeString:function(T){var O=new Date(T);var U=(LiveBlog.UserLanguage().match(/^en/i)!==null);var R=new Date();R.setHours(0);R.setMinutes(0);R.setSeconds(0);var Q=O.getMinutes();Q=(Q<10?"0"+Q:Q);var L=(O.getHours()%12);L=(L===0?"12":L);var V=R.getTime()-1000*60*60*24;V=(new Date()).setTime(V);var S=R.getTime()+1000*60*60*24;S=new Date(S);if(O>R&&(O<S)){if(LiveBlog.CheckIfDateJSAvailable()){return O.toString(Date.CultureInfo.formatPatterns.shortTime.replace(/\bhh\b/,"h").replace(/\bHH\b/,"H"))}else{if(U){return L+":"+Q+" "+(O.getHours()<12?"AM":"PM")}else{return O.getHours()+":"+Q}}}else{if(O>V&&(O<S)&&U){return L+":"+Q+" "+(O.getHours()<12?"AM":"PM")+" "+I["Yesterday"]}else{if(LiveBlog.CheckIfDateJSAvailable()){if(U){var N="";var M="";if(O.getYear()===new Date(new Date().getTime()).getYear()){N="MMMM d";M="h:mm tt"}else{N="MMMM d, yyyy";M="h:mm tt"}return O.toString(N)+" "+I["at"]+" "+O.toString(M)}else{var P="";if(O.getYear()===new Date(new Date().getTime()).getYear()){P=Date.CultureInfo.formatPatterns.monthDay+" "+Date.CultureInfo.formatPatterns.shortTime}else{P=Date.CultureInfo.formatPatterns.longDate+" "+Date.CultureInfo.formatPatterns.shortTime}P=P.replace(/\bdd\b/,"d").replace(/(\bdddd\b)+,/,"").replace(/\bdddd\b/,"").replace(/\bhh\b/,"h").replace(/\bHH\b/,"H");return O.toString(P)}}else{if(!U){return(O.getMonth()+1)+"/"+(O.getDate())+"/"+O.getFullYear()+" "+O.getHours()+":"+Q}else{return O.toLocaleString()}}}}},_initializePosts:function(){var Q=this._existingPosts,O,P,N,L,M;for(L=0,M=this._existingPosts.length;L<M;L++){O=F(Q[L]);this._initializePost(O)}},_initializePost:function(L){if(!L){return}var N;var M=K.DiscussionList;N=L.data("postid")||L.attrSL("id").replace(/^LiveBlog_Post/,"");discussionList=new M({selector:L,postId:N,isPermalink:this.opts.inlinePermalink,isBackend:this.opts.isBackend,isLive:(this.opts.isLive!==false)?true:false,defaultThumbnail:this.opts.defaultThumbnail,liveIndicatorImg:this.opts.liveIndicatorImg});this._discussionLists[N]=discussionList;L.find(".add-comment").data("discussion",discussionList);if(this.opts.inlinePermalink===true&&!this.opts.isBackend){if(discussionList._totalMsgs<1){discussionList.showDiscussion()}}},_getDiscussionList:function(L){return this._discussionLists[L]},_handleAddComment:function(O){var N,L,M;O.preventDefault();N=F(O.target).closest(".add-comment");M=N.data("discussion");if(!M){L=N.closest("[data-postid], li");this._initializePost(L);M=N.data("discussion")}if(M){M.showDiscussion(true)}},_handleLogout:function(){K.Controller.Logout();this.username="";this.avatarURL=""},_handleUserInfoUpdate:function(L,M){if(M){this.username=M.username||this.username;this.avatarURL=M.avatarURL||this.avatarURL}},_onCommentInsert:function(N){var L=this._getDiscussionList(N.PostId);if(N.hasOwnProperty("TempId")&&F('.comment[data-commentid="'+N.TempId+'"]').length){this.avatarURL=N.Avatar||this.avatarURL;K.Controller.SetLoginCookie({avatarURL:this.avatarURL})}if(L){L.drawComment(N)}else{var M=this.$container.find('[data-postid="'+N.PostId+'"]');if(M.length){this._initializePost(M);this._onCommentInsert(N)}}},_onCommentDelete:function(L){var M=this._getDiscussionList(L.PostId);if(M){M.removeComment(L.Value)}}};K.DiscussionEngine=J}((typeof jQuerySL!=="undefined"?jQuerySL:jQuery),window));
/*file name: /modules/discussion/js/discussion.list.js */
(function(G,L,Q){var N=SCRIBBLE.namespace("Discussion"),S=SCRIBBLE.Discussion.lang,O=N.DiscussionEngine,K=G.trim(G("#discussion-tmpl").html()),C=G.trim(G("#comment-tmpl").html()),J=G.trim(G("#commenterror-tmpl").html()),M=G.trim(G("#commentban-tmpl").html()),B=G.trim(G("#commentmoderated-tmpl").html()),I=Handlebars.compile(K),P=Handlebars.compile(C),H=Handlebars.compile(J),D=Handlebars.compile(M),A=Handlebars.compile(B),R={"ENTER":13};function E(T){if(typeof T==="string"){T=T.replace(/\/Date\((\d+)(\+|\-)?\d*\)\//,"$1");return parseInt(T,10)}}Handlebars.registerHelper("relativeTime",function(T,U){if(typeof T==="string"){T=E(T)}return O.convertToFriendlyTimeString(T)});function F(U){var V;var T;this._initialized=false;this.$element=null;this._postId=U.postId;this.opts=U;this.isPermalinkPage=(this.opts.isPermalink===true&&!this.opts.isBackend);if(typeof U.selector!=="undefined"){T=G(U.selector);V=T.find(".discussion-wrap");this.$container=T;this.$commentCount=this.$container.find(".count");if(V.length){this._existingDiscussion=true;this.$element=V;this._init()}else{this._existingDiscussion=false}}G(L).bind("loggedin.gigya",G.proxy(this._updateCommentAvatar,this));G(L).bind("loggedin.backend",G.proxy(this._updateCommentAvatar,this));G(L).bind("loggedout.gigya",G.proxy(this._updateCommentAvatar,this));G(O.loginDialog).bind(SCRIBBLE.ui.Dialog.EVENT_TYPES.close,G.proxy(function(){G(L).unbind("loggedin.gigya",G.proxy(this._submitLastComment,this))},this))}F.prototype={_comments:{},_permalinkVisible:false,_initialized:false,_totalMsgs:0,_init:function(){this.$commentList=this.$element.find(".comments");this.$permalink=this.$element.find(".load-prev");this.$paginationPosition=this.$element.find(".paging-pos");this.$totalCounters=this.$container.find(".total");this.$showingCounters=this.$element.find(".count");this._initEvents();this._initialized=true},_initEvents:function(){this.$element.delegate(".comment-input input","keypress",G.proxy(this._handleNewComment,this));this.$element.delegate(".comment-input input","focus",this._onCommentInputFocus);this.$element.delegate(".comment-input input","blur",this._onCommentInputBlur);this.$element.delegate(".load-prev > a","click",G.proxy(this._onPermalinkClick,this));this.$element.delegate(".try-again","click",G.proxy(this._onTryAgainClick,this));var T=this;setTimeout(function(){T.$element.find(".comment-input input").each(function(U,V){var W=G(V);W.val(W.attrSL("placeholder"))})},0)},_updateCommentAvatar:function(){var T;if(this._initialized){if(O.isLoggedIn()){T=this.$element.find(".make-a-comment .img.anon");if(T.length){T.removeClass("anon").find("img").attr("src",LiveBlog.GetUrlWithCorrectSecurity(O.avatarURL))}}else{T=this.$element.find(".make-a-comment .img");if(T.length){T.addClass("anon")}}}},_submitLastComment:function(T){G(L).unbind("loggedin.gigya",G.proxy(this._submitLastComment,this));T=G.Event("keypress");T.which=R.ENTER;T.keyCode=R.ENTER;this.$element.find(".comment-input input").trigger(T)},_onPermalinkClick:function(U){if(this.opts.isPermalink===true){var T=this.$element.find(".comment").first().data("commentid");if(T&&T>-1){N.Controller.GetCommentPage({postId:this._postId,lastId:T,pageSize:O._totalMsgsToDisplay,success:function(V){var W,X;for(W=0,X=V.Entries.length;W<X;W++){var Y=V.Entries[W];this.drawComment({Id:Y.OpId,UserId:Y.userId,Value:Y.Text,Name:Y.User,Avatar:Y.Avatar,Timestamp:E(Y.Timestamp)},true)}this._checkPermalink(V.Count);this._totalMsgs=V.Count},failure:function(){},scope:this});if(U.target.onclick){U.target.onclick=function(){return false}}}}return false},_checkPermalink:function(U){var T=this.$element.find(".comment");if(T.length>=U){this.$permalink.removeClass("hasmore").addClass("hasall");this._permalinkVisible=false}},_onCommentInputFocus:function(T){var U=G(this);if(U.val()===U.attrSL("placeholder")){U.val("")}},_onCommentInputBlur:function(T){var U=G(this);if(G.trim(U.val())===""){U.val(U.attrSL("placeholder"));U.closest(".comment-input").removeClass("has-content")}},_handleNewComment:function(V){var U=G(V.target),T=this._postId;if(G.trim(U.val())===""){return}else{U.closest(".comment-input").addClass("has-content")}if(V.which===R.ENTER&&this.opts.isLive!==false){if(!O.isLoggedIn()){G(L).bind("loggedin.gigya",G.proxy(this._submitLastComment,this));O.displayLogin();U.blur();return}if(T){this._addNewComment(U.val(),T);G(U).val("")}}},_addNewComment:function(W,U){var V="comment"+new Date().getTime();var T=G("<div></div>").text(W).html();this.drawComment({Id:V,Value:T,Name:O.username,Avatar:O.avatarURL,Timestamp:new Date().getTime()});N.Controller.AddComment({postId:U,tempId:V,name:O.username,avatar:O.avatarURL,login:O.isLoggedIn(),text:W,success:function(X){if(X.id>0){this.drawComment({Id:X.id,UserId:X.userId,Value:X.value||T,Name:O.username,Avatar:O.avatarURL,Timestamp:new Date().getTime(),TempId:V,replace:true,inModeration:X.inModeration})}else{if(X.inModeration===true){this.drawComment({Id:V,TempId:V,UserId:X.userId,Value:X.value||T,Name:O.username,Avatar:O.avatarURL,Timestamp:new Date().getTime(),replace:true,inModeration:X.inModeration})}}},failure:function(X){this._onAddCommentError(V,X)},scope:this})},_onAddCommentError:function(U,T){var W=this.$element.find('.comment[data-commentid="'+U+'"]'),V;if(T.hasOwnProperty("isBanned")&&T.isBanned===true){V=G(D({lbl_unable_to_post:S["Unable to post comment"],lbl_user_banned:S["You have been banned"]}))}else{if(T.hasOwnProperty("isSpam")&&T.isSpam===true){V=G(H({lbl_unable_to_post:S["Looks like Spam"],lbl_try_again:S["Try again"]}))}else{V=G(H({lbl_unable_to_post:S["Unable to post comment"],lbl_try_again:S["Try again"]}))}}if(W){W.addClass("fail").closest("li").addClass("add-fail");W.find(".meta").hide().after(V)}this._totalMsgs-=1;this.updateTotalCount();this.updateCurrentCount()},_onTryAgainClick:function(X){X.preventDefault();var V=G(X.target),T=V.closest(".comment"),U=T.closest("li"),W=U.data("_commentObj");if(W){T.detach();this.drawComment({Id:W.Id,Value:W.Value,Name:O.username,Avatar:O.avatarURL,Timestamp:W.Timestamp});N.Controller.AddComment({postId:this._postId,name:O.username,avatar:O.avatarURL,login:O.isLoggedIn(),text:W.Value,tempId:W.Id,success:function(Y){if(Y.id>0){this.drawComment({Id:Y.id,UserId:Y.userId,Value:Y.value||W.Value,Name:O.username,Avatar:O.avatarURL,Timestamp:W.Timestamp,tempId:W.Id,replace:true})}},failure:function(Y){this._onAddCommentError(W.Id,Y)},scope:this});T.remove()}},drawComment:function(W,U){if(G('.comment[data-commentid="'+W.Id+'"]').length&&W.replace!==true){return}this.showDiscussion();var V=this.$commentList;var T=G(P({id:W.Id,userId:W.UserId,comment:W.Value,username:W.Name,avatar:LiveBlog.GetUrlWithCorrectSecurity(W.Avatar||this.opts.defaultThumbnail),time:W.Timestamp}));T.data("_commentObj",W);if(W.replace===true||(W.hasOwnProperty("TempId")&&W.TempId!==""&&G('.comment[data-commentid="'+W.TempId+'"]').closest("li").length)){G('.comment[data-commentid="'+W.TempId+'"]').closest("li").replaceWith(T);if(W.inModeration===true){$modMessage=G(A({lbl_in_moderation:S["Comment in moderation"]}));T.addClass("fail").closest("li").addClass("in-mod");T.find(".meta").hide().after($modMessage)}}else{if(U===true){this.$element.find(".comments").prepend(T)}else{if((this.opts.isPermalink===false||this.opts.isBackend===true)&&V.find(".comment").length>=O._totalMsgsToDisplay){V.find(".comment").first().closest("li").remove();this.showDiscussionPermalink()}this.$element.find(".comments").append(T);this._totalMsgs+=1}this.updateTotalCount();this.updateCurrentCount()}},removeComment:function(T){var U=G('.comment[data-commentid="'+T+'"]');if(U.length){U.fadeOut(500,G.proxy(function(){U.closest("li").remove();this._totalMsgs-=1;this.updateTotalCount();this.updateCurrentCount()},this))}},showDiscussion:function(U){var T=this;if(!this.$element){this.$element=G(I({isPermalinkPage:this.isPermalinkPage,lbl_view_prev:S["View Previous Comments"],lbl_make_comment:S["Make a comment"],lbl_of:S["of"],lbl_comments:S["Comments"],lbl_liveindicator:(this.isPermalinkPage)?S["Live Updating"]:null,indicator:(this.isPermalinkPage)?this.opts.liveIndicatorImg:null,avatar:LiveBlog.GetUrlWithCorrectSecurity(O.avatarURL),id:this._postId})).clone();if(this.opts.isPermalink===true&&!this.opts.isBackend){this.$container.append(this.$element)}else{this.$container.find(".post-actions").first().after(this.$element)}this._init();this._updateCommentAvatar()}if(U===true&&O.isLoggedIn()){setTimeout(function(){T.$element.find(".comment-input input").focus()},100)}},showDiscussionPermalink:function(){if(!this._permalinkVisible){this._permalinkVisible=true;this.$permalink.removeClass("hasall").addClass("hasmore")}},updateCurrentCount:function(U){var T=this.$element.find(".comment:not(.fail)");if(T.length){this.$showingCounters.html(T.length)}},updateTotalCount:function(){this.$totalCounters.html(this._totalMsgs);if(this._totalMsgs>0){this.$totalCounters.parent().removeClass("no-comments")}else{this.$totalCounters.parent().addClass("no-comments")}this.$paginationPosition.removeClass("hidden");if(this._totalMsgs>O._totalMsgsToDisplay&&this.$commentList.find(".comment").length<this._totalMsgs){this.showDiscussionPermalink()}}};N.DiscussionList=F}((typeof jQuerySL!=="undefined"?jQuerySL:jQuery),window));
/*file name: /modules/discussion/js/jquery.idle-timer.js */
/*
 * jQuery idleTimer plugin
 * version 0.9.100511
 * by Paul Irish.
 *   http://github.com/paulirish/yui-misc/tree/
 * MIT license

 * adapted from YUI idle timer by nzakas:
 *   http://github.com/nzakas/yui-misc/
*/
(function(A){A.idleTimer=function(H,C,E){E=A.extend({startImmediately:true,idle:false,enabled:true,timeout:30000,events:"mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove"},E);C=C||document;var B=function(K){if(typeof K==="number"){K=undefined}var L=A.data(K||C,"idleTimerObj");L.idle=!L.idle;var I=(+new Date())-L.olddate;L.olddate=+new Date();if(L.idle&&(I<E.timeout)){L.idle=false;clearTimeout(A.idleTimer.tId);if(E.enabled){A.idleTimer.tId=setTimeout(B,E.timeout)}return}var J=A.Event(A.data(C,"idleTimer",L.idle?"idle":"active")+".idleTimer");A(C).trigger(J)},D=function(I){var J=A.data(I,"idleTimerObj")||{};J.enabled=false;clearTimeout(J.tId);A(I).off(".idleTimer")},F=function(){var I=A.data(this,"idleTimerObj");clearTimeout(I.tId);if(I.enabled){if(I.idle){B(this)}I.tId=setTimeout(B,I.timeout)}};var G=A.data(C,"idleTimerObj")||{};G.olddate=G.olddate||+new Date();if(typeof H==="number"){E.timeout=H}else{if(H==="destroy"){D(C);return this}else{if(H==="getElapsedTime"){return(+new Date())-G.olddate}}}A(C).bind(A.trim((E.events+" ").split(" ").join(".idleTimer ")),F);G.idle=E.idle;G.enabled=E.enabled;G.timeout=E.timeout;if(E.startImmediately){G.tId=setTimeout(B,G.timeout)}A.data(C,"idleTimer","active");A.data(C,"idleTimerObj",G)};A.fn.idleTimer=function(C,B){if(!B){B={}}if(this[0]){A.idleTimer(C,this[0],B)}return this}})((typeof jQuerySL!="undefined"?jQuerySL:jQuery));
/*file name: /modules/discussion/js/discussion.controller.js.aspx */
(function(A){var B=SCRIBBLE.namespace("Discussion");B.Controller={Methods:{Unknown:-1,Insert:1,Delete:2,NoOp:3},Urls:{Api:"/api/rest/post/",S3:"//s3.amazonaws.com/Discussion/",Post:"/Post.aspx",Page:"/modules/discussion/Page.aspx",Create:"/modules/discussion/Create.aspx"},Constants:{COOKIE_NAME:"dLogin",THROTTLE_TIMEOUT:0,NO_ENTRIES_THRESHOLD:3,NO_ENTIRES_INCREASE_FACTOR:1.3,MAX_INTERVAL:15000},ThreadId:-1,CurrentOperation:-1,IsLoggedIn:false,EmptyResponseCount:0,LastCallBack:{},CurrentOptions:null,OriginalInterval:null,AuthToken:null,SId:null,Init:function(C){if(this.ThreadId<=-1){throw"SCRIBBLE.Discussion.DiscussionController: ThreadId must be greater than -1"}if(C){if(typeof(C.throttleTimeout)==="undefined"){C.throttleTimeout=this.Constants.THROTTLE_TIMEOUT}this.CurrentOptions=C;this.OriginalInterval=C.interval;this.AuthToken=C.authToken}if(!this.CurrentOptions){return}A(window).bind("sessionid.gigya",A.proxy(function(E,D){if(typeof D!=="undefined"&&D.hasOwnProperty("sId")){this.StoreSessionId(D.sId)}},this));this.Login();if(C.loadPosts&&C.loadPosts.length>0){A.getScript(this.Urls.Api+"discussion?callback=SCRIBBLE.Discussion.Controller.CallBack_PageLoad&NumPerPost="+SCRIBBLE.Discussion.DiscussionEngine._totalMsgsToDisplay+"&PostIds="+C.loadPosts.join(",")+"&rand="+new Date().getTime())}else{this.CurrentOperation=0;this.GetNextCommentOperation()}},StoreSessionId:function(C){this.SId=C},StoreAuthToken:function(C){this.AuthToken=C},SetTimeoutInterval:function(C){B.Controller.CurrentOptions.interval=C;B.Controller.OriginalInterval=C},GetNextCommentOperation:function(){if(this.CurrentOperation<=-1){throw"SCRIBBLE.Discussion.DiscussionController: CurrentOperation must be greater than -1"}A.getJSONP({url:this.Urls.S3+this.ThreadId+"_"+(this.CurrentOperation+1)+".js"})},GetLoginCookie:function(){var D=this.Constants.COOKIE_NAME+"=",G=document.cookie.split(";"),E=G.length,F,C;for(C=0;C<E;C++){F=G[C];while(F.charAt(0)===" "){F=F.substring(1,F.length)}if(F.indexOf(D)===0){return F.substring(D.length,F.length).split("__")}}return null},SetLoginCookie:function(C){var D=this.GetLoginCookie();if(D){D[0]=C.username||D[0];D[1]=C.avatarURL||D[1];D[2]=C.sId||D[2]}else{D=[C.username,C.avatarURL,C.sId]}document.cookie=this.Constants.COOKIE_NAME+"="+D.join("__")+"; path=/"},Login:function(){var C=this.GetLoginCookie(),E,D;if(C&&C.length===3){this.StoreSessionId(C[2]);this.IsLoggedIn=true;if(typeof(ScribbleLive_SSO)!=="undefined"){D=A.Event("loggedin.gigya");A(window).trigger(D);return}E=document.getElementById("NameInput");if(typeof GigyaSL!=="undefined"){GigyaSL.UserName=C[0];GigyaSL.AvatarURL=C[1]}if(E){E.value=C[0];GigyaSL.AnonymousLogin()}D=A.Event("loggedin.gigya");A(window).trigger(D)}},Logout:function(){this.IsLoggedIn=false;document.cookie=this.Constants.COOKIE_NAME+"=; expires="+new Date(0).toUTCString()+"; path=/"},CallBack_PageLoad:function(C){var D,E;if(typeof(C.currentOpId)!=="undefined"){B.Controller.CurrentOperation=C.currentOpId}if(C.entries.length>0){for(D=0;D<C.entries.length;D++){if(C.entries[D].Entries.length>0){for(E=C.entries[D].Entries.length-1;E>=0;E--){C.entries[D].Entries[E].Method=1;C.entries[D].Entries[E].PostId=C.entries[D].PostId;C.entries[D].Entries[E].Id=C.entries[D].Entries[E].OpId;C.entries[D].Entries[E].Name=C.entries[D].Entries[E].User;C.entries[D].Entries[E].Value=C.entries[D].Entries[E].Text;B.Controller.CurrentOptions.onComment.call(B.Controller.CurrentOptions.scope||window,C.entries[D].Entries[E])}B.Controller.CurrentOptions.onCommentCountUpdate.call(B.Controller.CurrentOptions.scope||window,C.entries[D].PostId,C.entries[D].Count)}}}B.Controller.GetNextCommentOperation()},CallBack:function(C){B.Controller.OnSuccess();switch(C.Method){case B.Controller.Methods.Insert:if(B.Controller.CurrentOptions.onComment){B.Controller.ThrottleCallBack(function(){B.Controller.CurrentOptions.onComment.call(B.Controller.CurrentOptions.scope||window,C)},C.PostId||-1)}break;case B.Controller.Methods.Delete:if(B.Controller.CurrentOptions.onDelete&&C.Value){B.Controller.ThrottleCallBack(function(){B.Controller.CurrentOptions.onDelete.call(B.Controller.CurrentOptions.scope||window,C)},C.PostId||-1)}break;case B.Controller.Methods.NoOp:break;default:return}B.Controller.CurrentOperation++;if(B.Controller.CurrentOptions.interval){B.Controller.CurrentOptions.interval=B.Controller.OriginalInterval;B.Controller.EmptyResponseCount=0;B.Controller.GetNextCommentOperation()}},CallBackEmpty:function(){B.Controller.OnSuccess();if(B.Controller.CurrentOptions.interval){if((++B.Controller.EmptyResponseCount)%(B.Controller.Constants.NO_ENTRIES_THRESHOLD+1)===0){B.Controller.CurrentOptions.interval=Math.floor(B.Controller.CurrentOptions.interval*B.Controller.Constants.NO_ENTIRES_INCREASE_FACTOR);if(B.Controller.CurrentOptions.interval>B.Controller.Constants.MAX_INTERVAL){B.Controller.CurrentOptions.interval=B.Controller.Constants.MAX_INTERVAL}}setTimeout(function(){B.Controller.GetNextCommentOperation()},B.Controller.CurrentOptions.interval)}},OnSuccess:function(){B.Controller.lastScript.remove()},ThrottleCallBack:function(F,G){if(B.Controller.CurrentOptions.throttleTimeout<=0){return F()}var E=B.Controller.LastCallBack[G]||0,C=new Date().getTime(),D=C-E;if(D>=B.Controller.CurrentOptions.throttleTimeout){B.Controller.LastCallBack[G]=C;return F()}var H=B.Controller.CurrentOptions.throttleTimeout-D;H=parseInt(H*((0.4*Math.random())+0.8),10);B.Controller.LastCallBack[G]=C+H;setTimeout(F,H)},AddComment:function(C){if(!C.postId||!C.text||!C.success){return}if(!C.failure){C.failure=function(){C.success(false)}}A.ajax({type:"POST",data:{comment:C.text,login:this.IsLoggedIn?0:1,name:C.name,avatarURL:C.avatar,postID:C.postId,tempId:C.tempId||null,ASPSESSID:this.SId||(typeof LiveBlog!=="undefined"&&LiveBlog.GetInstance().ASPSID!==null?LiveBlog.GetInstance().ASPSID:"")},context:this,dataType:"json",url:this.Urls.Create,success:function(D){if(D.id&&(D.id>-1||D.id===-2)){if(D.sid){this.StoreSessionId(D.sid)}if(D.UserName&&(D.UserThumbnail||D.UserThumbnail==="")&&D.userId){B.Controller.IsLoggedIn=true;userInfoUpdateEvent=A.Event("userupdate.discussion");A(window).trigger(userInfoUpdateEvent,{username:D.UserName,avatarURL:D.UserThumbnail})}return C.success.call(C.scope||window,D)}C.failure.call(C.scope||window,D)},error:function(D){C.failure.call(C.scope||window,D)}})},GetCommentPage:function(C){if(!C.postId){return}if(!C.failure){C.failure=function(){C.success(false)}}A.ajax({type:"GET",data:{format:"json",postId:C.postId,lastId:C.lastId||-1,pageSize:C.pageSize||-1,rand:new Date().getTime()},url:this.Urls.Page,success:function(D){if(C.success){return C.success.call(C.scope||window,D)}C.failure.call(C.scope||window)},error:function(){C.failure.call(C.scope||window)}})}};B.DataAccess=B.Controller;A.getJSONP=function(C){C.dataType="jsonp";A.ajax(C);document.head=document.head||document.getElementsByTagName("head")[0];B.Controller.lastScript=A(document.head.firstChild);B.Controller.lastScript[0].onerror=B.Controller.CallBackEmpty}}(jQuerySL));
/*file generation time: 140ms */
